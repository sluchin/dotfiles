<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>ECL_UNWIND_PROTECT_BEGIN</title><link rel="stylesheet" type="text/css" href="ecl.css"><meta name="generator" content="DocBook XSL Stylesheets V1.76.1"><link rel="home" href="index.html" title="The ECL manual"><link rel="up" href="ch04s04.html" title="4.4. C Reference"><link rel="prev" href="re12.html" title="ECL_CATCH_BEGIN"><link rel="next" href="re14.html" title="ANSI Dictionary"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center"><code class="function">ECL_UNWIND_PROTECT_BEGIN</code></th></tr><tr><td width="20%" align="left"><a accesskey="p" href="re12.html">Prev</a> </td><th width="60%" align="center">4.4. C Reference</th><td width="20%" align="right"> <a accesskey="n" href="re14.html">Next</a></td></tr></table><hr></div><div class="refentry" title="ECL_UNWIND_PROTECT_BEGIN"><a name="idp306848"></a><div class="titlepage"></div>
    <div class="refnamediv"><h2>Name</h2><p>
      <code class="function">ECL_UNWIND_PROTECT_BEGIN</code>
       — C macro for <a class="ulink" href="http://www.lispworks.com/documentation/HyperSpec/Body/s_unwind.htm" target="_top"><span class="symbol">unwind-protect</span></a>
    </p></div>

    <div class="refsynopsisdiv" title="Synopsis"><h2>Synopsis</h2>
      <pre class="synopsis"><code class="code"><code class="function">ECL_UNWIND_PROTECT_BEGIN</code>(env) {</code></pre>
      <pre class="synopsis"><code class="code">} <code class="function">ECL_UNWIND_PROTECT_EXIT</code> {</code></pre>
      <pre class="synopsis"><code class="code">} <code class="function">ECL_UNWIND_PROTECT_END</code>;</code></pre>
    </div>

    <div class="refsect1" title="Description"><a name="idp309880"></a><h2>Description</h2>
      

      <p><code class="function">ECL_UNWIND_PROTECT_BEGIN</code> establishes two blocks of C code that work like the equivalent ones in Common Lisp: a protected block, contained between the "BEGIN" and the "EXIT" statement, and the exit block, appearing immediately afterwards. The form guarantees that the exit block is always executed, even if the protected block attempts to exit via som nonlocal jump construct (<span class="symbol">throw</span>,<span class="symbol">return</span>, etc).</p>

      <p><em class="replaceable"><code>env</code></em> must be the value of the current Common Lisp environment, obtained with <code class="function">ecl_process_env</code>.</p>

      <p>The utility of this construct is limited, for it only protects against nonlocal exits caused by Common Lisp constructs: it does not interfere with C <code class="code">goto</code>, <code class="code">return</code> or with C++ exceptions.</p>
    </div>
  </div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="re12.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch04s04.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="re14.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top"><code class="function">ECL_CATCH_BEGIN</code> </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> ANSI Dictionary</td></tr></table></div></body></html>

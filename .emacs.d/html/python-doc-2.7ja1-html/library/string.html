

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>7.1. string — 一般的な文字列操作 &mdash; Python 2.7ja1 documentation</title>
    
    <link rel="stylesheet" href="../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.7ja1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="Python 2.7ja1 documentation 内を検索"
          href="../_static/opensearch.xml"/>
    <link rel="author" title="このドキュメントについて" href="../about.html" />
    <link rel="copyright" title="著作権" href="../copyright.html" />
    <link rel="top" title="Python 2.7ja1 documentation" href="../index.html" />
    <link rel="up" title="7. 文字列処理" href="strings.html" />
    <link rel="next" title="7.2. re — 正規表現操作" href="re.html" />
    <link rel="prev" title="7. 文字列処理" href="strings.html" />
    <link rel="shortcut icon" type="image/png" href="../_static/py.png" />
    <script type="text/javascript" src="../_static/copybutton.js"></script>
    
    <script type="text/javascript" src="../_static/_jp.js"></script>
    
 

  </head>
  <body>
    <div class="related">
      <h3>ナビゲーション</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="総合索引"
             accesskey="I">索引</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Pythonモジュール索引"
             >モジュール</a> |</li>
        <li class="right" >
          <a href="re.html" title="7.2. re — 正規表現操作"
             accesskey="N">次へ</a> |</li>
        <li class="right" >
          <a href="strings.html" title="7. 文字列処理"
             accesskey="P">前へ</a> |</li>
        <li><img src="../_static/py.png" alt=""
                 style="vertical-align: middle; margin-top: -1px"/></li>
        <li><a href="../index.html">Python 2.7ja1 documentation</a> &raquo;</li>

          <li><a href="index.html" >Python 標準ライブラリ</a> &raquo;</li>
          <li><a href="strings.html" accesskey="U">7. 文字列処理</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../contents.html">目次</a></h3>
  <ul>
<li><a class="reference internal" href="#">7.1. <tt class="docutils literal"><span class="pre">string</span></tt> &#8212; 一般的な文字列操作</a><ul>
<li><a class="reference internal" href="#id1">7.1.1. 文字列定数</a></li>
<li><a class="reference internal" href="#new-string-formatting">7.1.2. 文字列の書式指定</a></li>
<li><a class="reference internal" href="#formatstrings">7.1.3. 書式指定文字列の文法</a><ul>
<li><a class="reference internal" href="#format-specification-mini-language">7.1.3.1. 書式指定ミニ言語仕様 (Format Specification Mini-Language)</a></li>
<li><a class="reference internal" href="#formatexamples">7.1.3.2. 書式指定例</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id6">7.1.4. テンプレート文字列</a></li>
<li><a class="reference internal" href="#id7">7.1.5. 文字列操作関数</a></li>
<li><a class="reference internal" href="#id8">7.1.6. 撤廃された文字列関数</a></li>
</ul>
</li>
</ul>

  <h4>前のトピックへ</h4>
  <p class="topless"><a href="strings.html"
                        title="前の章へ">7. 文字列処理</a></p>
  <h4>次のトピックへ</h4>
  <p class="topless"><a href="re.html"
                        title="次の章へ">7.2. <tt class="docutils literal docutils literal"><span class="pre">re</span></tt> &#8212; 正規表現操作</a></p>
  <h3>このページ</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/library/string.txt"
           rel="nofollow">ソースコードを表示</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>クイック検索</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="検索" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    モジュール、クラス、または関数名を入力してください
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-string">
<span id="string"></span><h1>7.1. <a class="reference internal" href="#module-string" title="string: 一般的な文字列操作"><tt class="xref py py-mod docutils literal"><span class="pre">string</span></tt></a> &#8212; 一般的な文字列操作<a class="headerlink" href="#module-string" title="このヘッドラインへのパーマリンク">¶</a></h1>
<p id="index-0"><a class="reference internal" href="#module-string" title="string: 一般的な文字列操作"><tt class="xref py py-mod docutils literal"><span class="pre">string</span></tt></a> モジュールには便利な定数やクラスが数多く入っています。また、現在は文字列のメソッドとして利用できる、すでに撤廃された古い関数も入っています。さらに、 Python の組み込み文字列クラスは <a class="reference internal" href="stdtypes.html#typesseq"><em>シーケンス型 &#8212; str, unicode, list, tuple, bytearray, buffer, xrange</em></a> 節に記載のシーケンス型のメソッドと、 <a class="reference internal" href="stdtypes.html#string-methods"><em>文字列メソッド</em></a> 節に記載の文字列メソッドもサポートします。出力の書式指定には、テンプレート文字列、または、
<a class="reference internal" href="stdtypes.html#string-formatting"><em>文字列フォーマット操作</em></a> に記載の <tt class="docutils literal"><span class="pre">%</span></tt> 演算子を使用して下さい。正規表現に関する文字列操作の関数は <a class="reference internal" href="re.html#module-re" title="re: 正規表現操作"><tt class="xref py py-mod docutils literal"><span class="pre">re</span></tt></a> を参照してください。</p>
<div class="admonition- admonition seealso">
<p class="first admonition-title">参考</p>
<p class="last">最新のバージョンの <a class="reference external" href="http://svn.python.org/view/python/branches/release27-maint/Lib/string.py?view=markup">string モジュール Python ソースコード</a></p>
</div>
<div class="section" id="id1">
<h2>7.1.1. 文字列定数<a class="headerlink" href="#id1" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>このモジュールでは以下の定数を定義しています。</p>
<dl class="data">
<dt id="string.ascii_letters">
<tt class="descclassname">string.</tt><tt class="descname">ascii_letters</tt><a class="headerlink" href="#string.ascii_letters" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>後述の <a class="reference internal" href="#string.ascii_lowercase" title="string.ascii_lowercase"><tt class="xref py py-const docutils literal"><span class="pre">ascii_lowercase</span></tt></a> と <a class="reference internal" href="#string.ascii_uppercase" title="string.ascii_uppercase"><tt class="xref py py-const docutils literal"><span class="pre">ascii_uppercase</span></tt></a> を合わせたもの。この値はロケールに依存しません。</p>
</dd></dl>

<dl class="data">
<dt id="string.ascii_lowercase">
<tt class="descclassname">string.</tt><tt class="descname">ascii_lowercase</tt><a class="headerlink" href="#string.ascii_lowercase" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>小文字 <tt class="docutils literal"><span class="pre">'abcdefghijklmnopqrstuvwxyz'</span></tt> 。この値はロケールに依存せず、固定です。</p>
</dd></dl>

<dl class="data">
<dt id="string.ascii_uppercase">
<tt class="descclassname">string.</tt><tt class="descname">ascii_uppercase</tt><a class="headerlink" href="#string.ascii_uppercase" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>大文字 <tt class="docutils literal"><span class="pre">'ABCDEFGHIJKLMNOPQRSTUVWXYZ'</span></tt> 。この値はロケールに依存せず、固定です。</p>
</dd></dl>

<dl class="data">
<dt id="string.digits">
<tt class="descclassname">string.</tt><tt class="descname">digits</tt><a class="headerlink" href="#string.digits" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>文字列 <tt class="docutils literal"><span class="pre">'0123456789'</span></tt> です。</p>
</dd></dl>

<dl class="data">
<dt id="string.hexdigits">
<tt class="descclassname">string.</tt><tt class="descname">hexdigits</tt><a class="headerlink" href="#string.hexdigits" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>文字列 <tt class="docutils literal"><span class="pre">'0123456789abcdefABCDEF'</span></tt> です。</p>
</dd></dl>

<dl class="data">
<dt id="string.letters">
<tt class="descclassname">string.</tt><tt class="descname">letters</tt><a class="headerlink" href="#string.letters" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>後述の <a class="reference internal" href="#string.lowercase" title="string.lowercase"><tt class="xref py py-const docutils literal"><span class="pre">lowercase</span></tt></a> と <a class="reference internal" href="#string.uppercase" title="string.uppercase"><tt class="xref py py-const docutils literal"><span class="pre">uppercase</span></tt></a> を合わせた文字列です。具体的な値はロケールに依存しており、 <a class="reference internal" href="locale.html#locale.setlocale" title="locale.setlocale"><tt class="xref py py-func docutils literal"><span class="pre">locale.setlocale()</span></tt></a> が呼ばれたときに更新されます。</p>
</dd></dl>

<dl class="data">
<dt id="string.lowercase">
<tt class="descclassname">string.</tt><tt class="descname">lowercase</tt><a class="headerlink" href="#string.lowercase" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>小文字として扱われる文字全てを含む文字列です。ほとんどのシステムでは文字列 <tt class="docutils literal"><span class="pre">'abcdefghijklmnopqrstuvwxyz'</span></tt> です。具体的な値はロケールに依存しており、 <a class="reference internal" href="locale.html#locale.setlocale" title="locale.setlocale"><tt class="xref py py-func docutils literal"><span class="pre">locale.setlocale()</span></tt></a> が呼ばれたときに更新されます。</p>
</dd></dl>

<dl class="data">
<dt id="string.octdigits">
<tt class="descclassname">string.</tt><tt class="descname">octdigits</tt><a class="headerlink" href="#string.octdigits" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>文字列 <tt class="docutils literal"><span class="pre">'01234567'</span></tt> です。</p>
</dd></dl>

<dl class="data">
<dt id="string.punctuation">
<tt class="descclassname">string.</tt><tt class="descname">punctuation</tt><a class="headerlink" href="#string.punctuation" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><tt class="docutils literal"><span class="pre">C</span></tt> ロケールにおいて、句読点として扱われる ASCII 文字の文字列です。</p>
</dd></dl>

<dl class="data">
<dt id="string.printable">
<tt class="descclassname">string.</tt><tt class="descname">printable</tt><a class="headerlink" href="#string.printable" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>印刷可能な文字で構成される文字列です。 <a class="reference internal" href="#string.digits" title="string.digits"><tt class="xref py py-const docutils literal"><span class="pre">digits</span></tt></a>,
<a class="reference internal" href="#string.letters" title="string.letters"><tt class="xref py py-const docutils literal"><span class="pre">letters</span></tt></a>, <a class="reference internal" href="#string.punctuation" title="string.punctuation"><tt class="xref py py-const docutils literal"><span class="pre">punctuation</span></tt></a> および <a class="reference internal" href="#string.whitespace" title="string.whitespace"><tt class="xref py py-const docutils literal"><span class="pre">whitespace</span></tt></a>
を組み合わせたものです。</p>
</dd></dl>

<dl class="data">
<dt id="string.uppercase">
<tt class="descclassname">string.</tt><tt class="descname">uppercase</tt><a class="headerlink" href="#string.uppercase" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>大文字として扱われる文字全てを含む文字列です。ほとんどのシステムでは <tt class="docutils literal"><span class="pre">'ABCDEFGHIJKLMNOPQRSTUVWXYZ'</span></tt> です。具体的な値はロケールに依存しており、 <a class="reference internal" href="locale.html#locale.setlocale" title="locale.setlocale"><tt class="xref py py-func docutils literal"><span class="pre">locale.setlocale()</span></tt></a> が呼ばれたときに更新されます。</p>
</dd></dl>

<dl class="data">
<dt id="string.whitespace">
<tt class="descclassname">string.</tt><tt class="descname">whitespace</tt><a class="headerlink" href="#string.whitespace" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>空白 (whitespace) として扱われる文字全てを含む文字列です。ほとんどのシステムでは、これはスペース (space)、タブ (tab)、改行 (linefeed)、復帰 (return)、改頁 (formfeed)、垂直タブ (vertical tab) です。</p>
</dd></dl>

</div>
<div class="section" id="new-string-formatting">
<span id="id2"></span><h2>7.1.2. 文字列の書式指定<a class="headerlink" href="#new-string-formatting" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p class="versionadded">
<span class="versionmodified">バージョン 2.6 で追加.</span></p>
<p>組み込みの str 、および、 unicode クラスは、
<span class="target" id="index-1"></span><a class="pep reference external" href="http://www.python.org/dev/peps/pep-3101"><strong>PEP 3101</strong></a> に記載される <a class="reference internal" href="stdtypes.html#str.format" title="str.format"><tt class="xref py py-meth docutils literal"><span class="pre">str.format()</span></tt></a> メソッドによる、複雑な変数置換と値の書式指定を提供します。
<a class="reference internal" href="#module-string" title="string: 一般的な文字列操作"><tt class="xref py py-mod docutils literal"><span class="pre">string</span></tt></a> モジュールの <a class="reference internal" href="#string.Formatter" title="string.Formatter"><tt class="xref py py-class docutils literal"><span class="pre">Formatter</span></tt></a> クラスは組み込みの <a class="reference internal" href="functions.html#format" title="format"><tt class="xref py py-meth docutils literal"><span class="pre">format()</span></tt></a> メソッドと同じ実装で、文字列の書式指定の作成とカスタマイズを可能にします。</p>
<dl class="class">
<dt id="string.Formatter">
<em class="property">class </em><tt class="descclassname">string.</tt><tt class="descname">Formatter</tt><a class="headerlink" href="#string.Formatter" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><a class="reference internal" href="#string.Formatter" title="string.Formatter"><tt class="xref py py-class docutils literal"><span class="pre">Formatter</span></tt></a> クラスは、以下のメソッドを持ちます。 :</p>
<dl class="method">
<dt id="string.Formatter.format">
<tt class="descname">format</tt><big>(</big><em>format_string</em>, <em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#string.Formatter.format" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><a class="reference internal" href="functions.html#format" title="format"><tt class="xref py py-meth docutils literal"><span class="pre">format()</span></tt></a> は主たる API メソッドです。引数は、書式指定テンプレート文字列、および、任意のポジション、キーワード引数をとります。
<a class="reference internal" href="functions.html#format" title="format"><tt class="xref py py-meth docutils literal"><span class="pre">format()</span></tt></a> は、 <a class="reference internal" href="#string.Formatter.vformat" title="string.Formatter.vformat"><tt class="xref py py-meth docutils literal"><span class="pre">vformat()</span></tt></a> を呼び出すだけのラッパーです。</p>
</dd></dl>

<dl class="method">
<dt id="string.Formatter.vformat">
<tt class="descname">vformat</tt><big>(</big><em>format_string</em>, <em>args</em>, <em>kwargs</em><big>)</big><a class="headerlink" href="#string.Formatter.vformat" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>この関数は、書式指定の操作を行います。 <tt class="docutils literal"><span class="pre">*args</span></tt> や <tt class="docutils literal"><span class="pre">**kwds</span></tt>
を使った書式で辞書をアンパックやリパックするのではなく、予め定義された辞書を引数として与えたいときなどでは、独立した関数として露出されます。 <a class="reference internal" href="#string.Formatter.vformat" title="string.Formatter.vformat"><tt class="xref py py-meth docutils literal"><span class="pre">vformat()</span></tt></a> は書式テンプレート文字列を、文字データや置換フィールドに展開します。この関数は、以下の様々なメソッドを呼び出します。</p>
</dd></dl>

<p>付け加えると、 <a class="reference internal" href="#string.Formatter" title="string.Formatter"><tt class="xref py py-class docutils literal"><span class="pre">Formatter</span></tt></a> はサブクラスで置き換えるためのいくつかのメソッドを定義します。 :</p>
<dl class="method">
<dt id="string.Formatter.parse">
<tt class="descname">parse</tt><big>(</big><em>format_string</em><big>)</big><a class="headerlink" href="#string.Formatter.parse" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>format_stringを探査し、タプル、 (<em>literal_text</em>, <em>field_name</em>,
<em>format_spec</em>, <em>conversion</em>) のイテラブルを返します。これは
<a class="reference internal" href="#string.Formatter.vformat" title="string.Formatter.vformat"><tt class="xref py py-meth docutils literal"><span class="pre">vformat()</span></tt></a> が文字列を文字としての文字データや置換フィールドに展開するために使用されます。</p>
<p>タプルの値は、概念的に文字としての文字データと、それに続く単一の置換フィールドを表現します。文字としての文字データが無い場合は
(ふたつの置換フィールドが連続した場合などに起き得ます) 、
<em>literal_text</em> は長さが 0 の文字列となります。置換フィールドが無い場合は、 <em>field_name</em>, <em>format_spec</em> および <em>conversion</em> が
<tt class="docutils literal"><span class="pre">None</span></tt> となります。</p>
</dd></dl>

<dl class="method">
<dt id="string.Formatter.get_field">
<tt class="descname">get_field</tt><big>(</big><em>field_name</em>, <em>args</em>, <em>kwargs</em><big>)</big><a class="headerlink" href="#string.Formatter.get_field" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>引数として与えた <a class="reference internal" href="#string.Formatter.parse" title="string.Formatter.parse"><tt class="xref py py-meth docutils literal"><span class="pre">parse()</span></tt></a> (上記参照) により返される
<em>field_name</em> を書式指定対象オブジェクトに変換します。返り値はタプル、 (obj, used_key) です。デフォルトでは <span class="target" id="index-2"></span><a class="pep reference external" href="http://www.python.org/dev/peps/pep-3101"><strong>PEP 3101</strong></a> に規定される &#8220;0[name]&#8221; や &#8220;label.title&#8221; のような形式の文字列を引数としてとります。 <em>args</em> と <em>kwargs</em> は <a class="reference internal" href="#string.Formatter.vformat" title="string.Formatter.vformat"><tt class="xref py py-meth docutils literal"><span class="pre">vformat()</span></tt></a> に渡されます。返り値 <em>used_key</em> は、 <a class="reference internal" href="#string.Formatter.get_value" title="string.Formatter.get_value"><tt class="xref py py-meth docutils literal"><span class="pre">get_value()</span></tt></a> の <em>key</em> 引数と同じ意味を持ちます。</p>
</dd></dl>

<dl class="method">
<dt id="string.Formatter.get_value">
<tt class="descname">get_value</tt><big>(</big><em>key</em>, <em>args</em>, <em>kwargs</em><big>)</big><a class="headerlink" href="#string.Formatter.get_value" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>与えられたフィールドの値を取り出します。 <em>key</em> 引数は整数でも文字列でも構いません。整数の場合は、ポジション引数 <em>args</em> のインデックス番号を示します。文字列の場合は、名前付きの引数 <em>kwargs</em> を意味します。</p>
<p><em>args</em> 引数は、 <a class="reference internal" href="#string.Formatter.vformat" title="string.Formatter.vformat"><tt class="xref py py-meth docutils literal"><span class="pre">vformat()</span></tt></a> へのポジション引数のリストに設定され、 <em>kwargs</em> 引数は、キーワード引数の辞書に設定されます。</p>
<p>複合したフィールド名に対しては、これらの関数はフィールド名の最初の要素に対してのみ呼び出されます ; あとに続く要素は通常の属性、および、インデックス処理へと渡されます。</p>
<p>つまり、例えば、フィールドが &#8216;0.name&#8217; と表現されるとき、
<a class="reference internal" href="#string.Formatter.get_value" title="string.Formatter.get_value"><tt class="xref py py-meth docutils literal"><span class="pre">get_value()</span></tt></a> は、 <em>key</em> 引数が 0 として呼び出されます。属性 <tt class="docutils literal"><span class="pre">name</span></tt>
は、組み込みの <a class="reference internal" href="functions.html#getattr" title="getattr"><tt class="xref py py-func docutils literal"><span class="pre">getattr()</span></tt></a> 関数が呼び出され、
<a class="reference internal" href="#string.Formatter.get_value" title="string.Formatter.get_value"><tt class="xref py py-meth docutils literal"><span class="pre">get_value()</span></tt></a> が返されたのちに検索されます。</p>
<p>もし、インデックス、もしくは、キーワードが存在しないアイテムを参照したら、 <a class="reference internal" href="exceptions.html#exceptions.IndexError" title="exceptions.IndexError"><tt class="xref py py-exc docutils literal"><span class="pre">IndexError</span></tt></a> 、もしくは、 <a class="reference internal" href="exceptions.html#exceptions.KeyError" title="exceptions.KeyError"><tt class="xref py py-exc docutils literal"><span class="pre">KeyError</span></tt></a> が送出されます。</p>
</dd></dl>

<dl class="method">
<dt id="string.Formatter.check_unused_args">
<tt class="descname">check_unused_args</tt><big>(</big><em>used_args</em>, <em>args</em>, <em>kwargs</em><big>)</big><a class="headerlink" href="#string.Formatter.check_unused_args" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>希望に応じ、未使用の引数がないか確認する機能を実装します。この関数への引数は、書式指定文字列で参照される全てのキー引数の set 、
(ポジション引数への整数、名前付き引数への文字列) 、そして
vformat に渡される <em>args</em> と <em>kwargs</em> への参照です。使用されない引数の set は、それらのパラメータから計算されます。
<a class="reference internal" href="#string.Formatter.check_unused_args" title="string.Formatter.check_unused_args"><tt class="xref py py-meth docutils literal"><span class="pre">check_unused_args()</span></tt></a> は、確認の結果が偽であると、例外を送出するものとみなされます。</p>
</dd></dl>

<dl class="method">
<dt id="string.Formatter.format_field">
<tt class="descname">format_field</tt><big>(</big><em>value</em>, <em>format_spec</em><big>)</big><a class="headerlink" href="#string.Formatter.format_field" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><a class="reference internal" href="#string.Formatter.format_field" title="string.Formatter.format_field"><tt class="xref py py-meth docutils literal"><span class="pre">format_field()</span></tt></a> は単純に組み込みのグローバル関数
<a class="reference internal" href="functions.html#format" title="format"><tt class="xref py py-func docutils literal"><span class="pre">format()</span></tt></a> を呼び出します。このメソッドは、サブクラスをオーバーライドするために提供されます。</p>
</dd></dl>

<dl class="method">
<dt id="string.Formatter.convert_field">
<tt class="descname">convert_field</tt><big>(</big><em>value</em>, <em>conversion</em><big>)</big><a class="headerlink" href="#string.Formatter.convert_field" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>(<a class="reference internal" href="#string.Formatter.get_field" title="string.Formatter.get_field"><tt class="xref py py-meth docutils literal"><span class="pre">get_field()</span></tt></a> が返す) 値を、与えられた conversion 型に
(<a class="reference internal" href="#string.Formatter.parse" title="string.Formatter.parse"><tt class="xref py py-meth docutils literal"><span class="pre">parse()</span></tt></a> がタプルを返すように) 変換します。デフォルトでは
&#8216;r&#8217;(repr) と &#8216;s&#8217;(str) 変換型を解釈できます。</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="formatstrings">
<span id="id3"></span><h2>7.1.3. 書式指定文字列の文法<a class="headerlink" href="#formatstrings" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p><a class="reference internal" href="stdtypes.html#str.format" title="str.format"><tt class="xref py py-meth docutils literal"><span class="pre">str.format()</span></tt></a> メソッドと、 <a class="reference internal" href="#string.Formatter" title="string.Formatter"><tt class="xref py py-class docutils literal"><span class="pre">Formatter</span></tt></a> クラスは、文字列の書式指定に同じ文法を共有します (しかしながら、 <a class="reference internal" href="#string.Formatter" title="string.Formatter"><tt class="xref py py-class docutils literal"><span class="pre">Formatter</span></tt></a> サブクラスの場合、それ自身の書式指定文法を定義することが可能です) 。</p>
<p>書式指定文字列は波括弧 <tt class="docutils literal"><span class="pre">{}</span></tt> に囲まれた &#8220;置換フィールド&#8221; を含みます。波括弧に囲まれた部分以外は全て単純な文字として扱われ、変更を加えることなく出力へコピーされます。波括弧を文字として扱う必要がある場合は、二重にすることでエスケープすることができます: <tt class="docutils literal"><span class="pre">{{</span></tt> および <tt class="docutils literal"><span class="pre">}}</span></tt></p>
<p>置換フィールドの文法は以下です:</p>
<blockquote>
<div><pre>
<strong id="grammar-token-replacement_field">replacement_field</strong> ::=  &quot;{&quot; [<a class="reference internal" href="#grammar-token-field_name"><tt class="xref docutils literal"><span class="pre">field_name</span></tt></a>] [&quot;!&quot; <a class="reference internal" href="#grammar-token-conversion"><tt class="xref docutils literal"><span class="pre">conversion</span></tt></a>] [&quot;:&quot; <a class="reference internal" href="#grammar-token-format_spec"><tt class="xref docutils literal"><span class="pre">format_spec</span></tt></a>] &quot;}&quot;
<strong id="grammar-token-field_name">field_name       </strong> ::=  arg_name (&quot;.&quot; <a class="reference internal" href="#grammar-token-attribute_name"><tt class="xref docutils literal"><span class="pre">attribute_name</span></tt></a> | &quot;[&quot; <a class="reference internal" href="#grammar-token-element_index"><tt class="xref docutils literal"><span class="pre">element_index</span></tt></a> &quot;]&quot;)*
<strong id="grammar-token-arg_name">arg_name         </strong> ::=  [<a class="reference internal" href="../reference/lexical_analysis.html#grammar-token-identifier"><tt class="xref docutils literal"><span class="pre">identifier</span></tt></a> | <a class="reference internal" href="../reference/lexical_analysis.html#grammar-token-integer"><tt class="xref docutils literal"><span class="pre">integer</span></tt></a>]
<strong id="grammar-token-attribute_name">attribute_name   </strong> ::=  <a class="reference internal" href="../reference/lexical_analysis.html#grammar-token-identifier"><tt class="xref docutils literal"><span class="pre">identifier</span></tt></a>
<strong id="grammar-token-element_index">element_index    </strong> ::=  <a class="reference internal" href="../reference/lexical_analysis.html#grammar-token-integer"><tt class="xref docutils literal"><span class="pre">integer</span></tt></a> | <a class="reference internal" href="#grammar-token-index_string"><tt class="xref docutils literal"><span class="pre">index_string</span></tt></a>
<strong id="grammar-token-index_string">index_string     </strong> ::=  &lt;any source character except &quot;]&quot;&gt; +
<strong id="grammar-token-conversion">conversion       </strong> ::=  &quot;r&quot; | &quot;s&quot;
<strong id="grammar-token-format_spec">format_spec      </strong> ::=  &lt;described in the next section&gt;
</pre>
</div></blockquote>
<p>もっと簡単にいうと、置換フィールドは <em>field_name</em> で始められます。これによって指定したオブジェクトの値が、置換フィールドの代わりに書式化され出力に挿入されます。その後に、感嘆符 <tt class="docutils literal"><span class="pre">'!'</span></tt> を挟んで <em>conversion</em> フィールドを続けることができます。最後にコロン <tt class="docutils literal"><span class="pre">':'</span></tt> を挟んで、 <em>format_spec</em> を書くことができます。これは、置換される値の非デフォルトの書式を指定します。</p>
<p><a class="reference internal" href="#formatspec"><em>書式指定ミニ言語仕様 (Format Specification Mini-Language)</em></a> 節も参照して下さい。</p>
<p><em>field_name</em> 自体は、数字かキーワードである <em>arg_name</em> で始まります。数字である場合、ポジション引数を参照します。キーワードである場合、指名されたキーワード引数を参照します。書式指定文字列中の数の <em>arg_name</em> が 0, 1, 2, ... と並んでいるなら、これらは (一部ではなく) すべて省略でき、数 0, 1, 2, ... がその順に自動的に挿入されます。
<em>arg_name</em> の後に数字インデックスや属性式を続けることができます。
<tt class="docutils literal"><span class="pre">'.name'</span></tt> 形式の式の場合、 <a class="reference internal" href="functions.html#getattr" title="getattr"><tt class="xref py py-func docutils literal"><span class="pre">getattr()</span></tt></a> 使って指名された属性が選択され、
<tt class="docutils literal"><span class="pre">'[index]'</span></tt> 形式の式の場合、 <a class="reference internal" href="../reference/datamodel.html#object.__getitem__" title="object.__getitem__"><tt class="xref py py-func docutils literal"><span class="pre">__getitem__()</span></tt></a> を使ってインデックス検索されます。</p>
<p class="versionchanged">
<span class="versionmodified">バージョン 2.7 で変更: </span>ポジション引数指定子は省略できるようになりました。
<tt class="docutils literal"><span class="pre">'{}</span> <span class="pre">{}'</span></tt> は <tt class="docutils literal"><span class="pre">'{0}</span> <span class="pre">{1}'</span></tt> と等価です。</p>
<p>簡単な書式指定文字列の例を挙げます:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="s">&quot;First, thou shalt count to {0}&quot;</span> <span class="c"># 最初のポジション引数を参照します</span>
<span class="s">&quot;Bring me a {}&quot;</span>                  <span class="c"># 暗示的に第一ポジション引数を参照します</span>
<span class="s">&quot;From {} to {}&quot;</span>                  <span class="c"># &quot;From {0} to {1}&quot; と同じです</span>
<span class="s">&quot;My quest is {name}&quot;</span>             <span class="c"># キーワード引数 &#39;name&#39; を参照します</span>
<span class="s">&quot;Weight in tons {0.weight}&quot;</span>      <span class="c"># 最初のポジション引数の属性 &#39;weight&#39; を参照します</span>
<span class="s">&quot;Units destroyed: {players[0]}&quot;</span>  <span class="c"># キーワード引数 &#39;players&#39; の最初の要素を参照します</span>
</pre></div>
</div>
<p><em>置換 (conversion)</em> フィールドにより書式変換前に型の強制変換が実施されます。通常、値の書式変換は <tt class="xref py py-meth docutils literal"><span class="pre">__format__()</span></tt> によって実施されます。しかしながら、場合によっては、文字列として変換することを強制したり、書式指定の定義をオーバーライドしたくなることもあります。 <tt class="xref py py-meth docutils literal"><span class="pre">__format__()</span></tt> の呼び出し前に値を文字列に変換すると、通常の書式変換の処理は飛ばされます。</p>
<p>現時点では、二種類の変換フラグがサポートされています: 値に対して
<a class="reference internal" href="functions.html#str" title="str"><tt class="xref py py-func docutils literal"><span class="pre">str()</span></tt></a> を呼び出す <tt class="docutils literal"><span class="pre">'!s'</span></tt> と、 <a class="reference internal" href="repr.html#module-repr" title="repr: 大きさに制限のある別のrepr()の実装。"><tt class="xref py py-func docutils literal"><span class="pre">repr()</span></tt></a> を呼び出す <tt class="docutils literal"><span class="pre">'!r'</span></tt>
です。</p>
<p>例:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="s">&quot;Harold&#39;s a clever {0!s}&quot;</span>        <span class="c"># 引数に対して、最初に str() を呼び出します</span>
<span class="s">&quot;Bring out the holy {name!r}&quot;</span>    <span class="c"># 引数に対して、最初に repr() を呼び出します</span>
</pre></div>
</div>
<p><em>format_spec</em> フィールドは、フィールド幅、文字揃え、埋め方、精度などの、値を表現する仕様を含みます。それぞれの値の型は、 &#8220;formatting
mini-language&#8221; 、または、 <em>format_spec</em> の実装で定義されます。</p>
<p>ほとんどの組み込み型は、共通の次のセクションに記載の formatting
mini-language をサポートします。</p>
<p><em>format_spec</em> フィールドは入れ子になった置換フィールドを含むこともできます。入れ子になった置換フィールドはフィールド名だけを含むことができます; 変換フラグや書式指定は不可です。 format_spec 中の置換フィールドは
<em>format_spec</em> 文字列が解釈される前に置き換えられます。これにより、値の書式動的に指定することが可能になります。</p>
<p><a class="reference internal" href="#formatexamples"><em>書式指定例</em></a> のいくつかの例も参照して下さい。</p>
<div class="section" id="format-specification-mini-language">
<span id="formatspec"></span><h3>7.1.3.1. 書式指定ミニ言語仕様 (Format Specification Mini-Language)<a class="headerlink" href="#format-specification-mini-language" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>書式指定 (&#8220;Format specifications&#8221;) は書式指定文字列の個々の値を表現する方法を指定するための、置換フィールドで使用されます
(<a class="reference internal" href="#formatstrings"><em>書式指定文字列の文法</em></a> を参照下さい) 。それらは、組み込み関数の <a class="reference internal" href="functions.html#format" title="format"><tt class="xref py py-func docutils literal"><span class="pre">format()</span></tt></a> 関数に直接渡されます。それぞれの書式指定可能な型について、書式指定がどのように解釈されるかが規定されます。</p>
<p>多くの組み込み型は、書式指定に関して以下のオプションを実装します。しかしながら、いくつかの書式指定オプションは数値型でのみサポートされます。</p>
<p>一般的な取り決めとして、空の書式指定文字列 (<tt class="docutils literal"><span class="pre">&quot;&quot;</span></tt>) は、値に対して <a class="reference internal" href="functions.html#str" title="str"><tt class="xref py py-func docutils literal"><span class="pre">str()</span></tt></a> を呼び出したときと同じ結果を与えます。通常、空でない書式指定文字列はその結果を変更します。</p>
<p>一般的な書式指定子 (<em>standard format specifier</em>) の書式は以下です:</p>
<pre>
<strong id="id4">format_spec  </strong> ::=  [[<tt class="xref docutils literal"><span class="pre">fill</span></tt>]<tt class="xref docutils literal"><span class="pre">align</span></tt>][<tt class="xref docutils literal"><span class="pre">sign</span></tt>][#][0][<tt class="xref docutils literal"><span class="pre">width</span></tt>][,][.<tt class="xref docutils literal"><span class="pre">precision</span></tt>][<a class="reference internal" href="#grammar-token-type"><tt class="xref docutils literal"><span class="pre">type</span></tt></a>]
<strong id="grammar-token-fill(詰め方)">fill(詰め方)    </strong> ::=  &lt;'}'以外の文字&gt;
<strong id="grammar-token-align(整列)">align(整列)    </strong> ::=  &quot;&lt;&quot; | &quot;&gt;&quot; | &quot;=&quot; | &quot;^&quot;
<strong id="grammar-token-sign(符号)">sign(符号)     </strong> ::=  &quot;+&quot; | &quot;-&quot; | &quot; &quot;
<strong id="grammar-token-width(幅)">width(幅)     </strong> ::=  <tt class="xref docutils literal"><span class="pre">整数</span></tt>
<strong id="grammar-token-precision(精度)">precision(精度)</strong> ::=  <tt class="xref docutils literal"><span class="pre">整数</span></tt>
<strong id="grammar-token-type">type         </strong> ::=  &quot;b&quot; | &quot;c&quot; | &quot;d&quot; | &quot;e&quot; | &quot;E&quot; | &quot;f&quot; | &quot;F&quot; | &quot;g&quot; | &quot;G&quot; | &quot;n&quot; | &quot;o&quot; | &quot;s&quot; | &quot;x&quot; | &quot;X&quot; | &quot;%&quot;
</pre>
<p><em>fill</em> 文字は、&#8217;{&#8216; と &#8216;}&#8217; 以外のどんな文字でもかまいません。
fill 文字があることは、 align オプションが続くことで示されます。もし、 <em>format_spec</em> の二つめの文字が align オプションで無い場合は、
fill と align の両方のオプションが無いものと解釈されます。</p>
<p>様々な align オプションの意味は以下のとおりです :</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="17%" />
<col width="83%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">オプション</th>
<th class="head">意味</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">'&lt;'</span></tt></td>
<td>利用可能なスペースにおいて、左詰めを強制します。
(ほとんどのオブジェクトにおいてのデフォルト)</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">'&gt;'</span></tt></td>
<td>利用可能なスペースにおいて、右詰めを強制します。
(いくつかのオブジェクトにおいてのデフォルト)</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">'='</span></tt></td>
<td>符号 (があれば) の後ろを埋めます。
&#8216;+000000120&#8217; のような形で表示されます。このオプションは数値型に対してのみ有効です。</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">'^'</span></tt></td>
<td>資料可能なスペースにおいて、中央寄せを強制します。</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>最小のフィールド幅が定義されない限り、フィールド幅はデータを表示するために必要な幅と同じになることに注意して下さい。そのため、その場合には、
align オプションは意味を持ちません。</p>
<p><em>sign</em> オプションは数値型に対してのみ有効ですであり、以下のうちのひとつとなります :</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="17%" />
<col width="83%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">オプション</th>
<th class="head">意味</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">'+'</span></tt></td>
<td>符号の使用を、正数、負数の両方に対して指定します。</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">'-'</span></tt></td>
<td>符号の使用を、負数に対してのみ指定します。
(デフォルトの挙動です)</td>
</tr>
<tr class="row-even"><td>空白</td>
<td>空白を正数の前に付け、負号を負数の前に使用することを指定します。</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p><tt class="docutils literal"><span class="pre">'#'</span></tt> オプションは、整数、かつ、2進数、8進数、16進数の出力に対してのみ有効です。指定されれば、出力は、 <tt class="docutils literal"><span class="pre">'0b'</span></tt>, <tt class="docutils literal"><span class="pre">'0o'</span></tt>, もしくは <tt class="docutils literal"><span class="pre">'0x'</span></tt>, のプリフィックスが付与されます。</p>
<p><tt class="docutils literal"><span class="pre">','</span></tt> オプションは、千の位のセパレータにカンマを使うことを合図します。ロケール依存のセパレータには、代わりに <tt class="docutils literal"><span class="pre">'n'</span></tt> の整数表現形式を使ってください。</p>
<p class="versionchanged">
<span class="versionmodified">バージョン 2.7 で変更: </span><tt class="docutils literal"><span class="pre">','</span></tt> オプションを追加しました (<span class="target" id="index-3"></span><a class="pep reference external" href="http://www.python.org/dev/peps/pep-0378"><strong>PEP 378</strong></a> も参照してください)。</p>
<p><em>width</em> は10進数の整数で、最小のフィールド幅を規程します。もし指定されなければ、フィールド幅は内容により規程されます。</p>
<p>もし <em>width</em> フィールドがゼロ (<tt class="docutils literal"><span class="pre">'0'</span></tt>) で始まる場合、ゼロ埋めとなります。これは、 <em>alignment</em> 型が <tt class="docutils literal"><span class="pre">'='</span></tt> で、 <em>fill</em> 文字が <tt class="docutils literal"><span class="pre">'0'</span></tt> であることと等価です。</p>
<p><em>precision</em> は10進数で、 <tt class="docutils literal"><span class="pre">'f'</span></tt> および <tt class="docutils literal"><span class="pre">'F'</span></tt> 、あるいは、  <tt class="docutils literal"><span class="pre">'g'</span></tt> および <tt class="docutils literal"><span class="pre">'G'</span></tt> で指定される浮動小数点数の、小数点以下に続く桁数を指定します。非数型に対しては、最大フィールド幅を規程します。言い換えると、フィールドの内容から、何文字使用するかを規程します。
<em>precision</em> は整数型に対しては、許されません。</p>
<p>最後に、 <em>type</em> は、データがどのように表現されるかを規程します。</p>
<p>利用可能な文字列の表現型は以下です：</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="17%" />
<col width="83%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">型</th>
<th class="head">意味</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">'s'</span></tt></td>
<td>文字列。デフォルトの値で多くの場合省略されます</td>
</tr>
<tr class="row-odd"><td>空白</td>
<td><tt class="docutils literal"><span class="pre">'s'</span></tt> と同じです。</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>利用可能な整数の表現型は以下です :</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="13%" />
<col width="87%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">型</th>
<th class="head">意味</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">'b'</span></tt></td>
<td>2進数。出力される数値は2を基数とします。</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">'c'</span></tt></td>
<td>文字。数値を対応するユニコード文字に変換します。</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">'d'</span></tt></td>
<td>10進数。出力される数値は10を基数とします。</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">'o'</span></tt></td>
<td>8進数。出力される数値は8を基数とします。</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">'x'</span></tt></td>
<td>16進数。出力される数値は16を基数とします。
10進で9を越える数字には小文字が使われます。</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">'X'</span></tt></td>
<td>16進数。出力される数値は16を基数とします。
10進で9を越える数字には大文字が使われます。</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">'n'</span></tt></td>
<td>数値。現在のロケールに従い、区切り文字を挿入することを除けば、 <tt class="docutils literal"><span class="pre">'d'</span></tt> と同じです。</td>
</tr>
<tr class="row-odd"><td>空白</td>
<td><tt class="docutils literal"><span class="pre">'d'</span></tt> と同じです。</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>これらの表現型に加えて、整数は (<tt class="docutils literal"><span class="pre">'n'</span></tt> と空白を除く)
以下の浮動小数点型の表現型で書式指定できます。そうすることで整数は書式変換される前に <a class="reference internal" href="functions.html#float" title="float"><tt class="xref py py-func docutils literal"><span class="pre">float()</span></tt></a> を使って浮動小数点数に変換されます。</p>
<p>利用可能な浮動小数点数と10進数の表現型は以下です :</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="13%" />
<col width="87%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">型</th>
<th class="head">意味</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">'e'</span></tt></td>
<td>指数指定です。指数を示す &#8216;e&#8217; を使って数値を表示します。</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">'E'</span></tt></td>
<td>指数指定です。大文字の &#8216;E&#8217; を使うことを除いては、
<tt class="docutils literal"><span class="pre">'e'</span></tt> と同じです。</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">'f'</span></tt></td>
<td>固定小数点数です。数値を固定小数点数として表示します。</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">'F'</span></tt></td>
<td>固定小数点数です。 <tt class="docutils literal"><span class="pre">'f'</span></tt> と同じです。</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">'g'</span></tt></td>
<td><p class="first">標準フォーマットです。精度を <tt class="docutils literal"><span class="pre">p</span> <span class="pre">&gt;=</span> <span class="pre">1</span></tt> の数値で与えた場合、数値を有効桁 <tt class="docutils literal"><span class="pre">p</span></tt> で丸め、桁に応じて固定小数点か指数指定で表示します。</p>
<p>精度のルールは以下のように決まっています:
書式指定の結果が <tt class="docutils literal"><span class="pre">'e'</span></tt> 型で <tt class="docutils literal"><span class="pre">p-1</span></tt> の精度の場合、指数は <tt class="docutils literal"><span class="pre">exp</span></tt> になると仮定します。そうすると、 <tt class="docutils literal"><span class="pre">-4</span> <span class="pre">&lt;=</span> <span class="pre">exp</span> <span class="pre">&lt;</span> <span class="pre">p</span></tt> のとき数値は表現型 <tt class="docutils literal"><span class="pre">'f'</span></tt> で精度 <tt class="docutils literal"><span class="pre">p-1-exp</span></tt> に書式変換されます。それ以外の場合、数値は <tt class="docutils literal"><span class="pre">'e'</span></tt> 型で精度 <tt class="docutils literal"><span class="pre">p-1</span></tt> に書式指定されます。この両方の場合で重要でない、連続した 0 は取り除かれます, そして残った桁が無い場合小数点は取り除かれます。</p>
<p>正と負の無限大と 0 および NaN は精度に関係なくそれぞれ
<tt class="docutils literal"><span class="pre">inf</span></tt>, <tt class="docutils literal"><span class="pre">-inf</span></tt>, <tt class="docutils literal"><span class="pre">0</span></tt>, <tt class="docutils literal"><span class="pre">-0</span></tt> および <tt class="docutils literal"><span class="pre">nan</span></tt>
となります。</p>
<p class="last"><tt class="docutils literal"><span class="pre">0</span></tt> の精度は <tt class="docutils literal"><span class="pre">1</span></tt> の精度と同等に扱われます。</p>
</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">'G'</span></tt></td>
<td>標準フォーマットです。数値が大きくなったとき、 <tt class="docutils literal"><span class="pre">'E'</span></tt>
に切り替わることを除き、 <tt class="docutils literal"><span class="pre">'g'</span></tt> と同じです。無限大と NaN の表示も大文字になります。</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">'n'</span></tt></td>
<td>数値です。現在のロケールに合わせて、数値分割文字が挿入されることを除き、 <tt class="docutils literal"><span class="pre">'g'</span></tt> と同じです。</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">'%'</span></tt></td>
<td>パーセンテージです。数値は 100 倍され、固定小数点数フォーマット (<tt class="docutils literal"><span class="pre">'f'</span></tt>) でパーセント記号付きで表示されます。</td>
</tr>
<tr class="row-even"><td>None</td>
<td><tt class="docutils literal"><span class="pre">'g'</span></tt> と同じです。</td>
</tr>
</tbody>
</table>
</div></blockquote>
</div>
<div class="section" id="formatexamples">
<span id="id5"></span><h3>7.1.3.2. 書式指定例<a class="headerlink" href="#formatexamples" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>この節には新しい書式指定構文と古い <tt class="docutils literal"><span class="pre">%</span></tt>-書式の比較例が載っています。</p>
<p>多くの場合、 <tt class="docutils literal"><span class="pre">%</span></tt> の代わりに <tt class="docutils literal"><span class="pre">{}</span></tt> を加えることで新構文は古い <tt class="docutils literal"><span class="pre">%</span></tt>-書式に類似した書式になります。例えば、 <tt class="docutils literal"><span class="pre">'%03.2f'</span></tt> は <tt class="docutils literal"><span class="pre">'{:03.2f}'</span></tt> に翻訳できます。</p>
<p>以下の例で示すように、新構文はさらに新たに様々なオプションもサポートしています、</p>
<p>ポジション引数を使ったアクセス:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="s">&#39;{0}, {1}, {2}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">)</span>
<span class="go">&#39;a, b, c&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s">&#39;{}, {}, {}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">)</span>  <span class="c"># 2.7+ 専用</span>
<span class="go">&#39;a, b, c&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s">&#39;{2}, {1}, {0}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">)</span>
<span class="go">&#39;c, b, a&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s">&#39;{2}, {1}, {0}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">*</span><span class="s">&#39;abc&#39;</span><span class="p">)</span>      <span class="c"># 引数シークエンスをアンパック</span>
<span class="go">&#39;c, b, a&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s">&#39;{0}{1}{0}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s">&#39;abra&#39;</span><span class="p">,</span> <span class="s">&#39;cad&#39;</span><span class="p">)</span>   <span class="c"># 引数のインデクスは繰り返すことができます</span>
<span class="go">&#39;abracadabra&#39;</span>
</pre></div>
</div>
<p>名前を使ったアクセス:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="s">&#39;Coordinates: {latitude}, {longitude}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">latitude</span><span class="o">=</span><span class="s">&#39;37.24N&#39;</span><span class="p">,</span> <span class="n">longitude</span><span class="o">=</span><span class="s">&#39;-115.81W&#39;</span><span class="p">)</span>
<span class="go">&#39;Coordinates: 37.24N, -115.81W&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">coord</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;latitude&#39;</span><span class="p">:</span> <span class="s">&#39;37.24N&#39;</span><span class="p">,</span> <span class="s">&#39;longitude&#39;</span><span class="p">:</span> <span class="s">&#39;-115.81W&#39;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s">&#39;Coordinates: {latitude}, {longitude}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">coord</span><span class="p">)</span>
<span class="go">&#39;Coordinates: 37.24N, -115.81W&#39;</span>
</pre></div>
</div>
<p>引数の属性へのアクセス:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="mi">3</span><span class="o">-</span><span class="mi">5</span><span class="n">j</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="s">&#39;The complex number {0} is formed from the real part {0.real} &#39;</span>
<span class="gp">... </span> <span class="s">&#39;and the imaginary part {0.imag}.&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
<span class="go">&#39;The complex number (3-5j) is formed from the real part 3.0 and the imaginary part -5.0.&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Point</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="s">&#39;Point({self.x}, {self.y})&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">str</span><span class="p">(</span><span class="n">Point</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="go">&#39;Point(4, 2)&#39;</span>
</pre></div>
</div>
<p>引数の要素へのアクセス:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">coord</span> <span class="o">=</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s">&#39;X: {0[0]};  Y: {0[1]}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">coord</span><span class="p">)</span>
<span class="go">&#39;X: 3;  Y: 5&#39;</span>
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">%s</span></tt> と <tt class="docutils literal"><span class="pre">%r</span></tt> の置換:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="s">&quot;repr() shows quotes: {!r}; str() doesn&#39;t: {!s}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s">&#39;test1&#39;</span><span class="p">,</span> <span class="s">&#39;test2&#39;</span><span class="p">)</span>
<span class="go">&quot;repr() shows quotes: &#39;test1&#39;; str() doesn&#39;t: test2&quot;</span>
</pre></div>
</div>
<p>テキストの幅を指定した整列:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="s">&#39;{:&lt;30}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s">&#39;left aligned&#39;</span><span class="p">)</span>
<span class="go">&#39;left aligned                  &#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s">&#39;{:&gt;30}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s">&#39;right aligned&#39;</span><span class="p">)</span>
<span class="go">&#39;                 right aligned&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s">&#39;{:^30}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s">&#39;centered&#39;</span><span class="p">)</span>
<span class="go">&#39;           centered           &#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s">&#39;{:*^30}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s">&#39;centered&#39;</span><span class="p">)</span>  <span class="c"># 詰め文字に &#39;*&#39; を使う</span>
<span class="go">&#39;***********centered***********&#39;</span>
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">%+f</span></tt> と <tt class="docutils literal"><span class="pre">%-f</span></tt>, <tt class="docutils literal"><span class="pre">%</span> <span class="pre">f</span></tt> の置換、そして符号の指定:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="s">&#39;{:+f}; {:+f}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mf">3.14</span><span class="p">,</span> <span class="o">-</span><span class="mf">3.14</span><span class="p">)</span>  <span class="c"># 常に表示する</span>
<span class="go">&#39;+3.140000; -3.140000&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s">&#39;{: f}; {: f}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mf">3.14</span><span class="p">,</span> <span class="o">-</span><span class="mf">3.14</span><span class="p">)</span>  <span class="c"># 正の数にはスペースを表示</span>
<span class="go">&#39; 3.140000; -3.140000&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s">&#39;{:-f}; {:-f}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mf">3.14</span><span class="p">,</span> <span class="o">-</span><span class="mf">3.14</span><span class="p">)</span>  <span class="c"># マイナスだけを表示 -- &#39;{:f}; {:f}&#39; と同じ</span>
<span class="go">&#39;3.140000; -3.140000&#39;</span>
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">%x</span></tt> と <tt class="docutils literal"><span class="pre">%o</span></tt> の置換、そして値に対する異なる底の変換:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="c"># format also supports binary numbers</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s">&quot;int: {0:d};  hex: {0:x};  oct: {0:o};  bin: {0:b}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span>
<span class="go">&#39;int: 42;  hex: 2a;  oct: 52;  bin: 101010&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># with 0x, 0o, or 0b as prefix:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s">&quot;int: {0:d};  hex: {0:#x};  oct: {0:#o};  bin: {0:#b}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span>
<span class="go">&#39;int: 42;  hex: 0x2a;  oct: 0o52;  bin: 0b101010&#39;</span>
</pre></div>
</div>
<p>千の位のセパレータにカンマを使用する:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="s">&#39;{:,}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mi">1234567890</span><span class="p">)</span>
<span class="go">&#39;1,234,567,890&#39;</span>
</pre></div>
</div>
<p>パーセントを表示する:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">points</span> <span class="o">=</span> <span class="mf">19.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">total</span> <span class="o">=</span> <span class="mi">22</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s">&#39;Correct answers: {:.2%}.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">points</span><span class="o">/</span><span class="n">total</span><span class="p">)</span>
<span class="go">&#39;Correct answers: 88.64%&#39;</span>
</pre></div>
</div>
<p>型特有の書式指定を使う:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">datetime</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2010</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">58</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s">&#39;{:%Y-%m-</span><span class="si">%d</span><span class="s"> %H:%M:%S}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<span class="go">&#39;2010-07-04 12:15:58&#39;</span>
</pre></div>
</div>
<p>引数をネストする、さらに複雑な例:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">align</span><span class="p">,</span> <span class="n">text</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="s">&#39;&lt;^&gt;&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;left&#39;</span><span class="p">,</span> <span class="s">&#39;center&#39;</span><span class="p">,</span> <span class="s">&#39;right&#39;</span><span class="p">]):</span>
<span class="gp">... </span>    <span class="s">&#39;{:{align}{fill}16}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">align</span><span class="p">,</span> <span class="n">align</span><span class="o">=</span><span class="n">align</span><span class="p">)</span>
<span class="gp">...</span>
<span class="go">&#39;left&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&#39;</span>
<span class="go">&#39;^^^^^center^^^^^&#39;</span>
<span class="go">&#39;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;right&#39;</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">octets</span> <span class="o">=</span> <span class="p">[</span><span class="mi">192</span><span class="p">,</span> <span class="mi">168</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s">&#39;{:0X}{:02X}{:02X}{:02X}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">*</span><span class="n">octets</span><span class="p">)</span>
<span class="go">&#39;C0A80001&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">int</span><span class="p">(</span><span class="n">_</span><span class="p">,</span> <span class="mi">16</span><span class="p">)</span>
<span class="go">3232235521</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">width</span> <span class="o">=</span> <span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">12</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">for</span> <span class="n">base</span> <span class="ow">in</span> <span class="s">&#39;dXob&#39;</span><span class="p">:</span>
<span class="gp">... </span>        <span class="k">print</span> <span class="s">&#39;{0:{width}{base}}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">num</span><span class="p">,</span> <span class="n">base</span><span class="o">=</span><span class="n">base</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="n">width</span><span class="p">),</span>
<span class="gp">... </span>    <span class="k">print</span>
<span class="gp">...</span>
<span class="go">    5     5     5   101</span>
<span class="go">    6     6     6   110</span>
<span class="go">    7     7     7   111</span>
<span class="go">    8     8    10  1000</span>
<span class="go">    9     9    11  1001</span>
<span class="go">   10     A    12  1010</span>
<span class="go">   11     B    13  1011</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="id6">
<h2>7.1.4. テンプレート文字列<a class="headerlink" href="#id6" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p class="versionadded">
<span class="versionmodified">バージョン 2.4 で追加.</span></p>
<p>テンプレート (template) を使うと、 <span class="target" id="index-4"></span><a class="pep reference external" href="http://www.python.org/dev/peps/pep-0292"><strong>PEP 292</strong></a> で解説されているようにより簡潔に文字列置換 (string substitution) を行えるようになります。通常の <tt class="docutils literal"><span class="pre">%</span></tt> ベースの置換に代わって、テンプレートでは以下のような規則に従った <tt class="docutils literal"><span class="pre">$</span></tt> ベースの置換をサポートしています:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">$$</span></tt> はエスケープ文字です; <tt class="docutils literal"><span class="pre">$</span></tt> 一つに置換されます。</li>
<li><tt class="docutils literal"><span class="pre">$identifier</span></tt> は置換プレースホルダの指定で、 <tt class="docutils literal"><span class="pre">&quot;identifier&quot;</span></tt>
というキーへの対応付けに相当します。デフォルトは、 <tt class="docutils literal"><span class="pre">&quot;identifier&quot;</span></tt> の部分には Python の識別子が書かれていなければなりません。 <tt class="docutils literal"><span class="pre">$</span></tt>
の後に識別子に使えない文字が出現すると、そこでプレースホルダ名の指定が終わります。</li>
<li><tt class="docutils literal"><span class="pre">${identifier}</span></tt> は <tt class="docutils literal"><span class="pre">$identifier</span></tt> と同じです。プレースホルダ名の後ろに識別子として使える文字列が続いていて、それをプレースホルダ名の一部として扱いたくない場合、例えば <tt class="docutils literal"><span class="pre">&quot;${noun}ification&quot;</span></tt> のような場合に必要な書き方です。</li>
</ul>
<p>上記以外の書き方で文字列中に <tt class="docutils literal"><span class="pre">$</span></tt> を使うと <a class="reference internal" href="exceptions.html#exceptions.ValueError" title="exceptions.ValueError"><tt class="xref py py-exc docutils literal"><span class="pre">ValueError</span></tt></a> を送出します。</p>
<p><a class="reference internal" href="#module-string" title="string: 一般的な文字列操作"><tt class="xref py py-mod docutils literal"><span class="pre">string</span></tt></a> モジュールでは、上記のような規則を実装した
<a class="reference internal" href="#string.Template" title="string.Template"><tt class="xref py py-class docutils literal"><span class="pre">Template</span></tt></a> クラスを提供しています。 <a class="reference internal" href="#string.Template" title="string.Template"><tt class="xref py py-class docutils literal"><span class="pre">Template</span></tt></a> のメソッドを以下に示します:</p>
<dl class="class">
<dt id="string.Template">
<em class="property">class </em><tt class="descclassname">string.</tt><tt class="descname">Template</tt><big>(</big><em>template</em><big>)</big><a class="headerlink" href="#string.Template" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>コンストラクタはテンプレート文字列になる引数を一つだけ取ります。</p>
<dl class="method">
<dt id="string.Template.substitute">
<tt class="descname">substitute</tt><big>(</big><em>mapping</em><span class="optional">[</span>, <em>**kws</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#string.Template.substitute" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>テンプレート置換を行い、新たな文字列を生成して返します。
<em>mapping</em> はテンプレート中のプレースホルダに対応するキーを持つような任意の辞書類似オブジェクトです。辞書を指定する代わりに、キーワード引数も指定でき、その場合にはキーワードをプレースホルダ名に対応させます。 <em>mapping</em> と <em>kws</em> の両方が指定され、内容が重複した場合には、 <em>kws</em> に指定したプレースホルダを優先します。</p>
</dd></dl>

<dl class="method">
<dt id="string.Template.safe_substitute">
<tt class="descname">safe_substitute</tt><big>(</big><em>mapping</em><span class="optional">[</span>, <em>**kws</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#string.Template.safe_substitute" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><a class="reference internal" href="#string.Template.substitute" title="string.Template.substitute"><tt class="xref py py-meth docutils literal"><span class="pre">substitute()</span></tt></a> と同じですが、プレースホルダに対応するものを
<em>mapping</em> や <em>kws</em> から見つけられなかった場合に、 <a class="reference internal" href="exceptions.html#exceptions.KeyError" title="exceptions.KeyError"><tt class="xref py py-exc docutils literal"><span class="pre">KeyError</span></tt></a>
例外を送出する代わりにもとのプレースホルダがそのまま入ります。また、
<a class="reference internal" href="#string.Template.substitute" title="string.Template.substitute"><tt class="xref py py-meth docutils literal"><span class="pre">substitute()</span></tt></a> とは違い、規則外の書き方で <tt class="docutils literal"><span class="pre">$</span></tt> を使った場合でも、 <a class="reference internal" href="exceptions.html#exceptions.ValueError" title="exceptions.ValueError"><tt class="xref py py-exc docutils literal"><span class="pre">ValueError</span></tt></a> を送出せず単に <tt class="docutils literal"><span class="pre">$</span></tt> を返します。</p>
<p>その他の例外も発生し得る一方で、このメソッドが「安全 (safe) 」と呼ばれているのは、置換操作が常に例外を送出する代わりに利用可能な文字列を返そうとするからです。別の見方をすれば、
<a class="reference internal" href="#string.Template.safe_substitute" title="string.Template.safe_substitute"><tt class="xref py py-meth docutils literal"><span class="pre">safe_substitute()</span></tt></a> は区切り間違いによるぶら下がり (dangling
delimiter) や波括弧の非対応、 Python の識別子として無効なプレースホルダ名を含むような不正なテンプレートを何も警告せずに無視するため、安全とはいえないのです。</p>
</dd></dl>

<p><a class="reference internal" href="#string.Template" title="string.Template"><tt class="xref py py-class docutils literal"><span class="pre">Template</span></tt></a> のインスタンスは、次のような public な属性を提供しています:</p>
<dl class="attribute">
<dt id="string.Template.template">
<tt class="descname">template</tt><a class="headerlink" href="#string.Template.template" title="この定義へのパーマリンク">¶</a></dt>
<dd></dd></dl>

<p>コンストラクタの引数 <em>template</em> に渡されたオブジェクトです。通常、この値を変更すべきではありませんが、読み込み専用アクセスを強制しているわけではありません。</p>
</dd></dl>

<p>Templateの使い方の例を以下に示します:</p>
<div class="highlight-python"><pre>&gt;&gt;&gt; from string import Template
&gt;&gt;&gt; s = Template('$who likes $what')
&gt;&gt;&gt; s.substitute(who='tim', what='kung pao')
'tim likes kung pao'
&gt;&gt;&gt; d = dict(who='tim')
&gt;&gt;&gt; Template('Give $who $100').substitute(d)
Traceback (most recent call last):
[...]
ValueError: Invalid placeholder in string: line 1, col 10
&gt;&gt;&gt; Template('$who likes $what').substitute(d)
Traceback (most recent call last):
[...]
KeyError: 'what'
&gt;&gt;&gt; Template('$who likes $what').safe_substitute(d)
'tim likes $what'</pre>
</div>
<p>さらに進んだ使い方: <a class="reference internal" href="#string.Template" title="string.Template"><tt class="xref py py-class docutils literal"><span class="pre">Template</span></tt></a> のサブクラスを派生して、プレースホルダの書式、区切り文字、テンプレート文字列の解釈に使われている正規表現全体をカスタマイズできます。こうした作業には、以下のクラス属性をオーバライドします:</p>
<ul class="simple">
<li><em>delimiter</em> &#8211; プレースホルダの開始を示すリテラル文字列です。デフォルトの値は <tt class="docutils literal"><span class="pre">$</span></tt> です。実装系はこの文字列に対して必要に応じて
<a class="reference internal" href="re.html#re.escape" title="re.escape"><tt class="xref py py-meth docutils literal"><span class="pre">re.escape()</span></tt></a> を呼び出すので、正規表現を表すような文字列にしては <em>なりません</em> 。</li>
<li><em>idpattern</em> &#8211; 波括弧でくくらない形式のプレースホルダの表記パターンを示す正規表現です (波括弧は自動的に適切な場所に追加されます)　。デフォルトの値は <tt class="docutils literal"><span class="pre">[_a-z][_a-z0-9]*</span></tt> という正規表現です。</li>
</ul>
<p>他にも、クラス属性 <em>pattern</em> をオーバライドして、正規表現パターン全体を指定できます。オーバライドを行う場合、 <em>pattern</em> の値は 4 つの名前つきキャプチャグループ (capturing group) を持った正規表現オブジェクトでなければなりません。これらのキャプチャグループは、上で説明した規則と、無効なプレースホルダに対する規則に対応しています:</p>
<ul class="simple">
<li><em>escaped</em> &#8211; このグループはエスケープシーケンス、すなわちデフォルトパターンにおける <tt class="docutils literal"><span class="pre">$$</span></tt> に対応します。</li>
<li><em>named</em> &#8211; このグループは波括弧でくくらないプレースホルダ名に対応します; キャプチャグループに区切り文字を含めてはなりません。</li>
<li><em>braced</em> &#8211; このグループは波括弧でくくったプレースホルダ名に対応します; キャプチャグループに区切り文字を含めてはなりません。</li>
<li><em>invalid</em> &#8211; このグループはそのほかの区切り文字のパターン (通常は区切り文字一つ) に対応し、正規表現の末尾に出現せねばなりません。</li>
</ul>
</div>
<div class="section" id="id7">
<h2>7.1.5. 文字列操作関数<a class="headerlink" href="#id7" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>以下の関数は文字列または Unicode オブジェクトを操作できます。これらの関数は文字列型のメソッドにはありません。</p>
<dl class="function">
<dt id="string.capwords">
<tt class="descclassname">string.</tt><tt class="descname">capwords</tt><big>(</big><em>s</em><span class="optional">[</span>, <em>sep</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#string.capwords" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><a class="reference internal" href="#string.split" title="string.split"><tt class="xref py py-func docutils literal"><span class="pre">split()</span></tt></a> を使って引数を単語に分割し、 <a class="reference internal" href="#string.capitalize" title="string.capitalize"><tt class="xref py py-func docutils literal"><span class="pre">capitalize()</span></tt></a> を使ってそれぞれの単語の先頭の文字を大文字に変換し、 <a class="reference internal" href="#string.join" title="string.join"><tt class="xref py py-func docutils literal"><span class="pre">join()</span></tt></a> を使ってつなぎ合わせます。オプションの第2引数 <em>sep</em> が与えられないか <tt class="docutils literal"><span class="pre">None</span></tt> の場合、この置換処理は文字列中の連続する空白文字をスペース一つに置き換え、先頭と末尾の空白を削除します、それ以外の場合には <em>sep</em> は split と join に使われます。</p>
</dd></dl>

<dl class="function">
<dt id="string.maketrans">
<tt class="descclassname">string.</tt><tt class="descname">maketrans</tt><big>(</big><em>from</em>, <em>to</em><big>)</big><a class="headerlink" href="#string.maketrans" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><a class="reference internal" href="#string.translate" title="string.translate"><tt class="xref py py-func docutils literal"><span class="pre">translate()</span></tt></a> に渡すのに適した変換テーブルを返します。このテーブルは、 <em>from</em> 内の各文字を <em>to</em> の同じ位置にある文字に対応付けます; <em>from</em> と <em>to</em> は同じ長さでなければなりません。</p>
<div class="admonition note">
<p class="first admonition-title">ノート</p>
<p class="last"><a class="reference internal" href="#string.lowercase" title="string.lowercase"><tt class="xref py py-const docutils literal"><span class="pre">lowercase</span></tt></a> と <a class="reference internal" href="#string.uppercase" title="string.uppercase"><tt class="xref py py-const docutils literal"><span class="pre">uppercase</span></tt></a> から取り出した文字列を引数に使ってはなりません;
ロケールによっては、これらは同じ長さになりません。大文字小文字の変換には、常に <a class="reference internal" href="stdtypes.html#str.lower" title="str.lower"><tt class="xref py py-meth docutils literal"><span class="pre">str.lower()</span></tt></a> または <a class="reference internal" href="stdtypes.html#str.upper" title="str.upper"><tt class="xref py py-meth docutils literal"><span class="pre">str.upper()</span></tt></a> を使ってください。</p>
</div>
</dd></dl>

</div>
<div class="section" id="id8">
<h2>7.1.6. 撤廃された文字列関数<a class="headerlink" href="#id8" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>以下の一連の関数は、文字列型や Unicode 型のオブジェクトのメソッドとしても定義されています; 詳しくは、それらの <a class="reference internal" href="stdtypes.html#string-methods"><em>文字列メソッド</em></a> の項を参照してください。ここに挙げた関数は Python 3.0 で削除されることはないはずですが、撤廃された関数とみなして下さい。このモジュールで定義されている関数は以下の通りです:</p>
<dl class="function">
<dt id="string.atof">
<tt class="descclassname">string.</tt><tt class="descname">atof</tt><big>(</big><em>s</em><big>)</big><a class="headerlink" href="#string.atof" title="この定義へのパーマリンク">¶</a></dt>
<dd><p class="deprecated">
<span class="versionmodified">バージョン 2.0 で撤廃: </span>組み込み関数 <a class="reference internal" href="functions.html#float" title="float"><tt class="xref py py-func docutils literal"><span class="pre">float()</span></tt></a> を使ってください。</p>
<p id="index-5">文字列を浮動小数点型の数値に変換します。文字列は Python における標準的なの浮動小数点リテラルの文法に従っていなければなりません。先頭に符号 (<tt class="docutils literal"><span class="pre">+</span></tt> または <tt class="docutils literal"><span class="pre">-</span></tt>)が付くのは構いません。この関数に文字列を渡した場合は、組み込み関数 <a class="reference internal" href="functions.html#float" title="float"><tt class="xref py py-func docutils literal"><span class="pre">float()</span></tt></a> と同じように振舞います。</p>
<div class="admonition note">
<p class="first admonition-title">ノート</p>
<p class="last" id="index-6">文字列を渡した場合、根底にある C ライブラリによって NaN や
Infinity を返す場合があります。こうした値を返させるのがどんな文字列の集合であるかは、全て C ライブラリに依存しており、ライブラリによって異なると知られています。</p>
</div>
</dd></dl>

<dl class="function">
<dt id="string.atoi">
<tt class="descclassname">string.</tt><tt class="descname">atoi</tt><big>(</big><em>s</em><span class="optional">[</span>, <em>base</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#string.atoi" title="この定義へのパーマリンク">¶</a></dt>
<dd><p class="deprecated">
<span class="versionmodified">バージョン 2.0 で撤廃: </span>組み込み関数 <a class="reference internal" href="functions.html#int" title="int"><tt class="xref py py-func docutils literal"><span class="pre">int()</span></tt></a> を使ってください。</p>
<p id="index-7">文字列 <em>s</em> を、 <em>base</em> を基数とする整数に変換します。文字列は 1 桁またはそれ以上の数字からなっていなければなりません。先頭に符号
(<tt class="docutils literal"><span class="pre">+</span></tt> または <tt class="docutils literal"><span class="pre">-</span></tt>) が付くのは構いません。 <em>base</em> のデフォルト値は
10 です。 <em>base</em> が 0 の場合、 (符号を剥ぎ取った後の) 文字列の先頭にある文字列に従ってデフォルトの基数を決定します。 <tt class="docutils literal"><span class="pre">0x</span></tt> か <tt class="docutils literal"><span class="pre">0X</span></tt>
なら 16 、 <tt class="docutils literal"><span class="pre">0</span></tt> なら 8 、その他の場合は 10 が基数になります。
<em>base</em> が 16 の場合、先頭の <tt class="docutils literal"><span class="pre">0x</span></tt> や <tt class="docutils literal"><span class="pre">0X</span></tt> が付いていても受け付けますが、必須ではありません。文字列を渡す場合、この関数は組み込み関数 <a class="reference internal" href="functions.html#int" title="int"><tt class="xref py py-func docutils literal"><span class="pre">int()</span></tt></a> と同じように振舞います。
(数値リテラルをより柔軟に解釈したい場合には、組み込み関数
<a class="reference internal" href="functions.html#eval" title="eval"><tt class="xref py py-func docutils literal"><span class="pre">eval()</span></tt></a> を使ってください。)</p>
</dd></dl>

<dl class="function">
<dt id="string.atol">
<tt class="descclassname">string.</tt><tt class="descname">atol</tt><big>(</big><em>s</em><span class="optional">[</span>, <em>base</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#string.atol" title="この定義へのパーマリンク">¶</a></dt>
<dd><p class="deprecated">
<span class="versionmodified">バージョン 2.0 で撤廃: </span>組み込み関数 <a class="reference internal" href="functions.html#long" title="long"><tt class="xref py py-func docutils literal"><span class="pre">long()</span></tt></a> を使ってください。</p>
<p id="index-8">文字列 <em>s</em> を、 <em>base</em> を基数とする長整数に変換します。文字列は 1
桁またはそれ以上の数字からなっていなければなりません。先頭に符号
(<tt class="docutils literal"><span class="pre">+</span></tt> または <tt class="docutils literal"><span class="pre">-</span></tt>) が付くのは構いません。 <em>base</em> は <a class="reference internal" href="#string.atoi" title="string.atoi"><tt class="xref py py-func docutils literal"><span class="pre">atoi()</span></tt></a>
と同じ意味です。基数が 0 の場合を除き、文字列末尾に <tt class="docutils literal"><span class="pre">l</span></tt> や <tt class="docutils literal"><span class="pre">L</span></tt>
を付けてはなりません。 <em>base</em> を指定しないか、 10 を指定して文字列を渡した場合には、この関数は組み込み関数 <a class="reference internal" href="functions.html#long" title="long"><tt class="xref py py-func docutils literal"><span class="pre">long()</span></tt></a> と同じように振舞います。</p>
</dd></dl>

<dl class="function">
<dt id="string.capitalize">
<tt class="descclassname">string.</tt><tt class="descname">capitalize</tt><big>(</big><em>word</em><big>)</big><a class="headerlink" href="#string.capitalize" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>先頭文字だけ大文字にした <em>word</em> のコピーを返します。</p>
</dd></dl>

<dl class="function">
<dt id="string.expandtabs">
<tt class="descclassname">string.</tt><tt class="descname">expandtabs</tt><big>(</big><em>s</em><span class="optional">[</span>, <em>tabsize</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#string.expandtabs" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>現在のカラムと指定タブ幅に従って文字列中のタブを展開し、一つまたはそれ以上のスペースに置き換えます。文字列中に改行が出現するたびにカラム番号は 0 にリセットされます。この関数は、他の非表示文字やエスケープシーケンスを解釈しません。タブ幅のデフォルトは 8 です。</p>
</dd></dl>

<dl class="function">
<dt id="string.find">
<tt class="descclassname">string.</tt><tt class="descname">find</tt><big>(</big><em>s</em>, <em>sub</em><span class="optional">[</span>, <em>start</em><span class="optional">[</span>, <em>end</em><span class="optional">]</span><span class="optional">]</span><big>)</big><a class="headerlink" href="#string.find" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><tt class="docutils literal"><span class="pre">s[start:end]</span></tt> の中で、部分文字列 <em>sub</em> が完全な形で入っている場所のうち、最初のものを <em>s</em> のインデクスで返します。見つからなかった場合は <tt class="docutils literal"><span class="pre">-1</span></tt> を返します。 <em>start</em> と <em>end</em> のデフォルト値、および、負の値を指定した場合の解釈は文字列のスライスと同じです。</p>
</dd></dl>

<dl class="function">
<dt id="string.rfind">
<tt class="descclassname">string.</tt><tt class="descname">rfind</tt><big>(</big><em>s</em>, <em>sub</em><span class="optional">[</span>, <em>start</em><span class="optional">[</span>, <em>end</em><span class="optional">]</span><span class="optional">]</span><big>)</big><a class="headerlink" href="#string.rfind" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><a class="reference internal" href="#string.find" title="string.find"><tt class="xref py py-func docutils literal"><span class="pre">find()</span></tt></a> と同じですが、最後に見つかったもののインデックスを返します。</p>
</dd></dl>

<dl class="function">
<dt id="string.index">
<tt class="descclassname">string.</tt><tt class="descname">index</tt><big>(</big><em>s</em>, <em>sub</em><span class="optional">[</span>, <em>start</em><span class="optional">[</span>, <em>end</em><span class="optional">]</span><span class="optional">]</span><big>)</big><a class="headerlink" href="#string.index" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><a class="reference internal" href="#string.find" title="string.find"><tt class="xref py py-func docutils literal"><span class="pre">find()</span></tt></a> と同じですが、部分文字列が見つからなかったときに
<a class="reference internal" href="exceptions.html#exceptions.ValueError" title="exceptions.ValueError"><tt class="xref py py-exc docutils literal"><span class="pre">ValueError</span></tt></a> を送出します。</p>
</dd></dl>

<dl class="function">
<dt id="string.rindex">
<tt class="descclassname">string.</tt><tt class="descname">rindex</tt><big>(</big><em>s</em>, <em>sub</em><span class="optional">[</span>, <em>start</em><span class="optional">[</span>, <em>end</em><span class="optional">]</span><span class="optional">]</span><big>)</big><a class="headerlink" href="#string.rindex" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><a class="reference internal" href="#string.rfind" title="string.rfind"><tt class="xref py py-func docutils literal"><span class="pre">rfind()</span></tt></a> と同じですが、部分文字列が見つからなかったときに
<a class="reference internal" href="exceptions.html#exceptions.ValueError" title="exceptions.ValueError"><tt class="xref py py-exc docutils literal"><span class="pre">ValueError</span></tt></a> 送出します。</p>
</dd></dl>

<dl class="function">
<dt id="string.count">
<tt class="descclassname">string.</tt><tt class="descname">count</tt><big>(</big><em>s</em>, <em>sub</em><span class="optional">[</span>, <em>start</em><span class="optional">[</span>, <em>end</em><span class="optional">]</span><span class="optional">]</span><big>)</big><a class="headerlink" href="#string.count" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><tt class="docutils literal"><span class="pre">s[start:end]</span></tt> における、部分文字列 <em>sub</em> の (重複しない) 出現回数を返します。 <em>start</em> と <em>end</em> のデフォルト値、および、負の値を指定した場合の解釈は文字列のスライスと同じです。</p>
</dd></dl>

<dl class="function">
<dt id="string.lower">
<tt class="descclassname">string.</tt><tt class="descname">lower</tt><big>(</big><em>s</em><big>)</big><a class="headerlink" href="#string.lower" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><em>s</em> のコピーを大文字を小文字に変換して返します。</p>
</dd></dl>

<dl class="function">
<dt id="string.split">
<tt class="descclassname">string.</tt><tt class="descname">split</tt><big>(</big><em>s</em><span class="optional">[</span>, <em>sep</em><span class="optional">[</span>, <em>maxsplit</em><span class="optional">]</span><span class="optional">]</span><big>)</big><a class="headerlink" href="#string.split" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>文字列 <em>s</em> 内の単語からなるリストを返します。オプションの第二引数
<em>sep</em> を指定しないか、または <tt class="docutils literal"><span class="pre">None</span></tt> にした場合、空白文字 (スペース、タブ、改行、リターン、改頁) からなる任意の文字列で単語に区切ります。 <em>sep</em> を <tt class="docutils literal"><span class="pre">None</span></tt> 以外の値に指定した場合、単語の分割に使う文字列の指定になります。戻り値のリストには、文字列中に分割文字列が重複せずに出現する回数より一つ多い要素が入るはずです。オプションの第三引数 <em>maxsplit</em> はデフォルトで 0 です。この値がゼロでない場合、最大でも <em>maxsplit</em> 回の分割しか行わず、リストの最後の要素は未分割の残りの文字列になります (従って、リスト中の要素数は最大でも
<tt class="docutils literal"><span class="pre">maxsplit+1</span></tt> です)。</p>
<p>空文字列に対する分割を行った場合の挙動は <em>sep</em> の値に依存します。
<em>sep</em> を指定しないか <tt class="docutils literal"><span class="pre">None</span></tt> にした場合、結果は空のリストになります。
<em>sep</em> に文字列を指定した場合、空文字列一つの入ったリストになります。</p>
</dd></dl>

<dl class="function">
<dt id="string.rsplit">
<tt class="descclassname">string.</tt><tt class="descname">rsplit</tt><big>(</big><em>s</em><span class="optional">[</span>, <em>sep</em><span class="optional">[</span>, <em>maxsplit</em><span class="optional">]</span><span class="optional">]</span><big>)</big><a class="headerlink" href="#string.rsplit" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><em>s</em> 中の単語からなるリストを <em>s</em> の末尾から検索して生成し返します。関数の返す語のリストは全ての点で <a class="reference internal" href="#string.split" title="string.split"><tt class="xref py py-func docutils literal"><span class="pre">split()</span></tt></a> の返すものと同じになります。ただし、オプションの第三引数 <em>maxsplit</em> をゼロでない値に指定した場合には必ずしも同じにはなりません。 <em>maxsplit</em> がゼロでない場合には、最大で <em>maxsplit</em> 個の分割を <em>右端から</em> 行います - 未分割の残りの文字列はリストの最初の要素として返されます (従って、リスト中の要素数は最大でも <tt class="docutils literal"><span class="pre">maxsplit+1</span></tt> です)。</p>
<p class="versionadded">
<span class="versionmodified">バージョン 2.4 で追加.</span></p>
</dd></dl>

<dl class="function">
<dt id="string.splitfields">
<tt class="descclassname">string.</tt><tt class="descname">splitfields</tt><big>(</big><em>s</em><span class="optional">[</span>, <em>sep</em><span class="optional">[</span>, <em>maxsplit</em><span class="optional">]</span><span class="optional">]</span><big>)</big><a class="headerlink" href="#string.splitfields" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>この関数は <a class="reference internal" href="#string.split" title="string.split"><tt class="xref py py-func docutils literal"><span class="pre">split()</span></tt></a> と同じように振舞います。 (以前は
<a class="reference internal" href="#string.split" title="string.split"><tt class="xref py py-func docutils literal"><span class="pre">split()</span></tt></a> は単一引数の場合にのみ使い、 <a class="reference internal" href="#string.splitfields" title="string.splitfields"><tt class="xref py py-func docutils literal"><span class="pre">splitfields()</span></tt></a> は引数 2 つの場合でのみ使っていました)。</p>
</dd></dl>

<dl class="function">
<dt id="string.join">
<tt class="descclassname">string.</tt><tt class="descname">join</tt><big>(</big><em>words</em><span class="optional">[</span>, <em>sep</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#string.join" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>単語のリストやタプルを間に <em>sep</em> を入れて連結します。 <em>sep</em> のデフォルト値はスペース文字 1 つです。
<tt class="docutils literal"><span class="pre">string.join(string.split(s,</span> <span class="pre">sep),</span> <span class="pre">sep)</span></tt> は常に <em>s</em> になります。</p>
</dd></dl>

<dl class="function">
<dt id="string.joinfields">
<tt class="descclassname">string.</tt><tt class="descname">joinfields</tt><big>(</big><em>words</em><span class="optional">[</span>, <em>sep</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#string.joinfields" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>この関数は <a class="reference internal" href="#string.join" title="string.join"><tt class="xref py py-func docutils literal"><span class="pre">join()</span></tt></a> と同じふるまいをします (以前は、
<a class="reference internal" href="#string.join" title="string.join"><tt class="xref py py-func docutils literal"><span class="pre">join()</span></tt></a> を使えるのは引数が 1 つの場合だけで、
<a class="reference internal" href="#string.joinfields" title="string.joinfields"><tt class="xref py py-func docutils literal"><span class="pre">joinfields()</span></tt></a> は引数 2 つの場合だけでした)。文字列オブジェクトには <a class="reference internal" href="#string.joinfields" title="string.joinfields"><tt class="xref py py-meth docutils literal"><span class="pre">joinfields()</span></tt></a> メソッドがないので注意してください。代わりに <a class="reference internal" href="#string.join" title="string.join"><tt class="xref py py-meth docutils literal"><span class="pre">join()</span></tt></a> メソッドを使ってください。</p>
</dd></dl>

<dl class="function">
<dt id="string.lstrip">
<tt class="descclassname">string.</tt><tt class="descname">lstrip</tt><big>(</big><em>s</em><span class="optional">[</span>, <em>chars</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#string.lstrip" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>文字列の先頭から文字を取り除いたコピーを生成して返します。 <em>chars</em>
を指定しない場合や <tt class="docutils literal"><span class="pre">None</span></tt> にした場合、先頭の空白を取り除きます。
<em>chars</em> を <tt class="docutils literal"><span class="pre">None</span></tt> 以外の値にする場合、 <em>chars</em> は文字列でなければなりません。</p>
<p class="versionchanged">
<span class="versionmodified">バージョン 2.2.3 で変更: </span><em>chars</em> パラメタを追加しました。初期の 2.2 バージョンでは、
<em>chars</em> パラメータを渡せませんでした。</p>
</dd></dl>

<dl class="function">
<dt id="string.rstrip">
<tt class="descclassname">string.</tt><tt class="descname">rstrip</tt><big>(</big><em>s</em><span class="optional">[</span>, <em>chars</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#string.rstrip" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>文字列の末尾から文字を取り除いたコピーを生成して返します。 <em>chars</em>
を指定しない場合や <tt class="docutils literal"><span class="pre">None</span></tt> にした場合、末尾の空白を取り除きます。
<em>chars</em> を <tt class="docutils literal"><span class="pre">None</span></tt> 以外の値にする場合、 <em>chars</em> は文字列でなければなりません。</p>
<p class="versionchanged">
<span class="versionmodified">バージョン 2.2.3 で変更: </span><em>chars</em> パラメタを追加しました。初期の 2.2 バージョンでは、
<em>chars</em> パラメータを渡せませんでした。</p>
</dd></dl>

<dl class="function">
<dt id="string.strip">
<tt class="descclassname">string.</tt><tt class="descname">strip</tt><big>(</big><em>s</em><span class="optional">[</span>, <em>chars</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#string.strip" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>文字列の先頭と末尾から文字を取り除いたコピーを生成して返します。
<em>chars</em> を指定しない場合や <tt class="docutils literal"><span class="pre">None</span></tt> にした場合、先頭と末尾の空白を取り除きます。 <em>chars</em> を <tt class="docutils literal"><span class="pre">None</span></tt> 以外に指定する場合、 <em>chars</em> は文字列でなければなりません。</p>
<p class="versionchanged">
<span class="versionmodified">バージョン 2.2.3 で変更: </span><em>chars</em> パラメタを追加しました。初期の 2.2 バージョンでは、
<em>chars</em> パラメータを渡せませんでした。</p>
</dd></dl>

<dl class="function">
<dt id="string.swapcase">
<tt class="descclassname">string.</tt><tt class="descname">swapcase</tt><big>(</big><em>s</em><big>)</big><a class="headerlink" href="#string.swapcase" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><em>s</em> の大文字と小文字を入れ替えたものを返します。</p>
</dd></dl>

<dl class="function">
<dt id="string.translate">
<tt class="descclassname">string.</tt><tt class="descname">translate</tt><big>(</big><em>s</em>, <em>table</em><span class="optional">[</span>, <em>deletechars</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#string.translate" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><em>s</em> の中から、 (もし指定されていれば) <em>deletechars</em> に入っている文字を削除し、 <em>table</em> を使って文字変換を行って返します。
<em>table</em> は 256 文字からなる文字列で、各文字はそのインデクスを序数とする文字に対する変換先の文字の指定になります。もし、 <em>table</em> が
<tt class="docutils literal"><span class="pre">None</span></tt> であれば、文字削除のみが行われます。</p>
</dd></dl>

<dl class="function">
<dt id="string.upper">
<tt class="descclassname">string.</tt><tt class="descname">upper</tt><big>(</big><em>s</em><big>)</big><a class="headerlink" href="#string.upper" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><em>s</em> に含まれる小文字を大文字に置換して返します。</p>
</dd></dl>

<dl class="function">
<dt id="string.ljust">
<tt class="descclassname">string.</tt><tt class="descname">ljust</tt><big>(</big><em>s</em>, <em>width</em><span class="optional">[</span>, <em>fillchar</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#string.ljust" title="この定義へのパーマリンク">¶</a></dt>
<dt id="string.rjust">
<tt class="descclassname">string.</tt><tt class="descname">rjust</tt><big>(</big><em>s</em>, <em>width</em><span class="optional">[</span>, <em>fillchar</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#string.rjust" title="この定義へのパーマリンク">¶</a></dt>
<dt id="string.center">
<tt class="descclassname">string.</tt><tt class="descname">center</tt><big>(</big><em>s</em>, <em>width</em><span class="optional">[</span>, <em>fillchar</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#string.center" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>文字列を指定した文字幅のフィールド中でそれぞれ左寄せ、右寄せ、中央寄せします。これらの関数は指定幅になるまで文字列 <em>s</em> の左側、右側、および、両側のいずれかに <em>fillchar</em> （デフォルトでは空白）を追加して、少なくとも <em>width</em> 文字からなる文字列にして返します。文字列を切り詰めることはありません。</p>
</dd></dl>

<dl class="function">
<dt id="string.zfill">
<tt class="descclassname">string.</tt><tt class="descname">zfill</tt><big>(</big><em>s</em>, <em>width</em><big>)</big><a class="headerlink" href="#string.zfill" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>数値を表現する文字列の左側に、指定の幅になるまでゼロを付加します。符号付きの数字も正しく処理します。</p>
</dd></dl>

<dl class="function">
<dt id="string.replace">
<tt class="descclassname">string.</tt><tt class="descname">replace</tt><big>(</big><em>str</em>, <em>old</em>, <em>new</em><span class="optional">[</span>, <em>maxreplace</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#string.replace" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><em>s</em> 内の部分文字列 <em>old</em> を全て <em>new</em> に置換したものを返します。
<em>maxreplace</em> を指定した場合、最初に見つかった <em>maxreplace</em> 個分だけ置換します。</p>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>ナビゲーション</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="総合索引"
             >索引</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Pythonモジュール索引"
             >モジュール</a> |</li>
        <li class="right" >
          <a href="re.html" title="7.2. re — 正規表現操作"
             >次へ</a> |</li>
        <li class="right" >
          <a href="strings.html" title="7. 文字列処理"
             >前へ</a> |</li>
        <li><img src="../_static/py.png" alt=""
                 style="vertical-align: middle; margin-top: -1px"/></li>
        <li><a href="../index.html">Python 2.7ja1 documentation</a> &raquo;</li>

          <li><a href="index.html" >Python 標準ライブラリ</a> &raquo;</li>
          <li><a href="strings.html" >7. 文字列処理</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; <a href="../copyright.html">Copyright</a> 1990-2011, Python Software Foundation.
      最終更新: 2011-12-26
      このドキュメントは <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2pre/02cb752c6a9e で生成しました。
    </div>
  </body>
</html>
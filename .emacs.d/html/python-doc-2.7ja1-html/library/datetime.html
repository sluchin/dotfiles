

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>8.1. datetime — 基本的な日付型および時間型 &mdash; Python 2.7ja1 documentation</title>
    
    <link rel="stylesheet" href="../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.7ja1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="Python 2.7ja1 documentation 内を検索"
          href="../_static/opensearch.xml"/>
    <link rel="author" title="このドキュメントについて" href="../about.html" />
    <link rel="copyright" title="著作権" href="../copyright.html" />
    <link rel="top" title="Python 2.7ja1 documentation" href="../index.html" />
    <link rel="up" title="8. データ型" href="datatypes.html" />
    <link rel="next" title="8.2. calendar — 一般的なカレンダーに関する関数群" href="calendar.html" />
    <link rel="prev" title="8. データ型" href="datatypes.html" />
    <link rel="shortcut icon" type="image/png" href="../_static/py.png" />
    <script type="text/javascript" src="../_static/copybutton.js"></script>
    
    <script type="text/javascript" src="../_static/_jp.js"></script>
    
 

  </head>
  <body>
    <div class="related">
      <h3>ナビゲーション</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="総合索引"
             accesskey="I">索引</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Pythonモジュール索引"
             >モジュール</a> |</li>
        <li class="right" >
          <a href="calendar.html" title="8.2. calendar — 一般的なカレンダーに関する関数群"
             accesskey="N">次へ</a> |</li>
        <li class="right" >
          <a href="datatypes.html" title="8. データ型"
             accesskey="P">前へ</a> |</li>
        <li><img src="../_static/py.png" alt=""
                 style="vertical-align: middle; margin-top: -1px"/></li>
        <li><a href="../index.html">Python 2.7ja1 documentation</a> &raquo;</li>

          <li><a href="index.html" >Python 標準ライブラリ</a> &raquo;</li>
          <li><a href="datatypes.html" accesskey="U">8. データ型</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../contents.html">目次</a></h3>
  <ul>
<li><a class="reference internal" href="#">8.1. <tt class="docutils literal"><span class="pre">datetime</span></tt> &#8212; 基本的な日付型および時間型</a><ul>
<li><a class="reference internal" href="#id1">8.1.1. 利用可能なデータ型</a></li>
<li><a class="reference internal" href="#timedelta">8.1.2. <tt class="docutils literal"><span class="pre">timedelta</span></tt> オブジェクト</a></li>
<li><a class="reference internal" href="#date">8.1.3. <tt class="docutils literal"><span class="pre">date</span></tt> オブジェクト</a></li>
<li><a class="reference internal" href="#datetime-datetime">8.1.4. <tt class="docutils literal"><span class="pre">datetime</span></tt> オブジェクト</a></li>
<li><a class="reference internal" href="#time">8.1.5. <tt class="docutils literal"><span class="pre">time</span></tt> オブジェクト</a></li>
<li><a class="reference internal" href="#tzinfo">8.1.6. <tt class="docutils literal"><span class="pre">tzinfo</span></tt> オブジェクト</a></li>
<li><a class="reference internal" href="#strftime-strptime">8.1.7. <tt class="docutils literal"><span class="pre">strftime()</span></tt> と <tt class="docutils literal"><span class="pre">strptime()</span></tt> の振る舞い</a></li>
</ul>
</li>
</ul>

  <h4>前のトピックへ</h4>
  <p class="topless"><a href="datatypes.html"
                        title="前の章へ">8. データ型</a></p>
  <h4>次のトピックへ</h4>
  <p class="topless"><a href="calendar.html"
                        title="次の章へ">8.2. <tt class="docutils literal docutils literal docutils literal"><span class="pre">calendar</span></tt> &#8212; 一般的なカレンダーに関する関数群</a></p>
  <h3>このページ</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/library/datetime.txt"
           rel="nofollow">ソースコードを表示</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>クイック検索</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="検索" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    モジュール、クラス、または関数名を入力してください
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-datetime">
<span id="datetime"></span><h1>8.1. <a class="reference internal" href="#module-datetime" title="datetime: 基本的な日付型および時間型。"><tt class="xref py py-mod docutils literal"><span class="pre">datetime</span></tt></a> &#8212; 基本的な日付型および時間型<a class="headerlink" href="#module-datetime" title="このヘッドラインへのパーマリンク">¶</a></h1>
<p class="versionadded">
<span class="versionmodified">バージョン 2.3 で追加.</span></p>
<p><a class="reference internal" href="#module-datetime" title="datetime: 基本的な日付型および時間型。"><tt class="xref py py-mod docutils literal"><span class="pre">datetime</span></tt></a> モジュールでは、日付や時間データを簡単な方法と複雑な方法の両方で操作するためのクラスを提供しています。日付や時刻を対象にした四則演算がサポートされている一方で、このモジュールの実装では出力の書式化や操作を目的としたデータメンバの効率的な取り出しに焦点を絞っています。機能については、 <a class="reference internal" href="time.html#module-time" title="time: 時刻データへのアクセスと変換"><tt class="xref py py-mod docutils literal"><span class="pre">time</span></tt></a> および <a class="reference internal" href="calendar.html#module-calendar" title="calendar: Unix の cal プログラム相当の機能を含んだカレンダーに関する関数群"><tt class="xref py py-mod docutils literal"><span class="pre">calendar</span></tt></a> も参照下さい。</p>
<p>日付および時刻オブジェクトには、 &#8220;naive&#8221; および &#8220;aware&#8221; の 2 種類があります。この区別はオブジェクトがタイムゾーンや夏時間、あるいはその他のアルゴリズム的、政治的な理由による時刻の修正に関する何らかの表記をもつかどうかによるものです。特定の数字がメートルか、マイルか、質量を表すかといったことがプログラムの問題であるように、 naive な <a class="reference internal" href="#module-datetime" title="datetime: 基本的な日付型および時間型。"><tt class="xref py py-class docutils literal"><span class="pre">datetime</span></tt></a> オブジェクトが標準世界時 (UTC: Coordinated Universal time) を表現するか、ローカルの時刻を表現するか、あるいは他のいずれかのタイムゾーンにおける時刻を表現するかは純粋にプログラムの問題となります。 naive な <a class="reference internal" href="#module-datetime" title="datetime: 基本的な日付型および時間型。"><tt class="xref py py-class docutils literal"><span class="pre">datetime</span></tt></a> オブジェクトは、現実世界のいくつかの側面を無視するという犠牲のもとに、理解しやすく、かつ利用しやすくなっています。</p>
<p>より多くの情報を必要とするアプリケーションのために、 <a class="reference internal" href="#module-datetime" title="datetime: 基本的な日付型および時間型。"><tt class="xref py py-class docutils literal"><span class="pre">datetime</span></tt></a>
および <a class="reference internal" href="time.html#module-time" title="time: 時刻データへのアクセスと変換"><tt class="xref py py-class docutils literal"><span class="pre">time</span></tt></a> オブジェクトはオプションのタイムゾーン情報メンバ、
<a class="reference internal" href="#datetime.tzinfo" title="datetime.tzinfo"><tt class="xref py py-attr docutils literal"><span class="pre">tzinfo</span></tt></a> を持っています。このメンバには抽象クラス
<a class="reference internal" href="#datetime.tzinfo" title="datetime.tzinfo"><tt class="xref py py-class docutils literal"><span class="pre">tzinfo</span></tt></a> のサブクラスのインスタンスが入っています。
<a class="reference internal" href="#datetime.tzinfo" title="datetime.tzinfo"><tt class="xref py py-class docutils literal"><span class="pre">tzinfo</span></tt></a> オブジェクトは UTC 時刻からのオフセット、タイムゾーン名、夏時間が有効になっているかどうか、といった情報を記憶しています。
<a class="reference internal" href="#module-datetime" title="datetime: 基本的な日付型および時間型。"><tt class="xref py py-mod docutils literal"><span class="pre">datetime</span></tt></a> モジュールでは具体的な <tt class="xref py py-class docutils literal"><span class="pre">tsinfo</span></tt> クラスを提供していないので注意してください。必要な詳細仕様を備えたタイムゾーン機能を提供するのはアプリケーションの責任です。世界各国における時刻の修正に関する法則は合理的というよりも政治的なものであり、全てのアプリケーションに適した標準というものが存在しないのです。</p>
<p><a class="reference internal" href="#module-datetime" title="datetime: 基本的な日付型および時間型。"><tt class="xref py py-mod docutils literal"><span class="pre">datetime</span></tt></a> モジュールでは以下の定数を公開しています:</p>
<dl class="data">
<dt id="datetime.MINYEAR">
<tt class="descclassname">datetime.</tt><tt class="descname">MINYEAR</tt><a class="headerlink" href="#datetime.MINYEAR" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><a class="reference internal" href="#datetime.date" title="datetime.date"><tt class="xref py py-class docutils literal"><span class="pre">date</span></tt></a> や <a class="reference internal" href="#module-datetime" title="datetime: 基本的な日付型および時間型。"><tt class="xref py py-class docutils literal"><span class="pre">datetime</span></tt></a> オブジェクトで許されている、年を表現する最小の数字です。 <a class="reference internal" href="#datetime.MINYEAR" title="datetime.MINYEAR"><tt class="xref py py-const docutils literal"><span class="pre">MINYEAR</span></tt></a> は <tt class="docutils literal"><span class="pre">1</span></tt> です。</p>
</dd></dl>

<dl class="data">
<dt id="datetime.MAXYEAR">
<tt class="descclassname">datetime.</tt><tt class="descname">MAXYEAR</tt><a class="headerlink" href="#datetime.MAXYEAR" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><a class="reference internal" href="#datetime.date" title="datetime.date"><tt class="xref py py-class docutils literal"><span class="pre">date</span></tt></a> や <a class="reference internal" href="#module-datetime" title="datetime: 基本的な日付型および時間型。"><tt class="xref py py-class docutils literal"><span class="pre">datetime</span></tt></a> オブジェクトで許されている、年を表現する最大の数字です。 <a class="reference internal" href="#datetime.MAXYEAR" title="datetime.MAXYEAR"><tt class="xref py py-const docutils literal"><span class="pre">MAXYEAR</span></tt></a> は <tt class="docutils literal"><span class="pre">9999</span></tt> です。</p>
</dd></dl>

<div class="admonition- admonition seealso">
<p class="first admonition-title">参考</p>
<dl class="last docutils">
<dt>Module <a class="reference internal" href="calendar.html#module-calendar" title="calendar: Unix の cal プログラム相当の機能を含んだカレンダーに関する関数群"><tt class="xref py py-mod docutils literal"><span class="pre">calendar</span></tt></a></dt>
<dd>汎用のカレンダー関連関数。</dd>
<dt>Module <a class="reference internal" href="time.html#module-time" title="time: 時刻データへのアクセスと変換"><tt class="xref py py-mod docutils literal"><span class="pre">time</span></tt></a></dt>
<dd>時刻へのアクセスと変換。</dd>
</dl>
</div>
<div class="section" id="id1">
<h2>8.1.1. 利用可能なデータ型<a class="headerlink" href="#id1" title="このヘッドラインへのパーマリンク">¶</a></h2>
<dl class="class">
<dt>
<em class="property">class </em><tt class="descclassname">datetime.</tt><tt class="descname">date</tt></dt>
<dd><p>理想化された naive な日付表現で、実質的には、これまでもこれからも現在のグレゴリオ暦 (Gregorian calender) であると仮定しています。属性: <tt class="xref py py-attr docutils literal"><span class="pre">year</span></tt>, <tt class="xref py py-attr docutils literal"><span class="pre">month</span></tt>,および <tt class="xref py py-attr docutils literal"><span class="pre">day</span></tt> 。</p>
</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><tt class="descclassname">datetime.</tt><tt class="descname">time</tt></dt>
<dd><p>理想化された時刻表現で、あらゆる特定の日における影響から独立しており、毎日厳密に 24*60*60 秒であると仮定します (&#8220;うるう秒: leap
seconds&#8221; の概念はありません)。属性: <tt class="xref py py-attr docutils literal"><span class="pre">hour</span></tt>, <tt class="xref py py-attr docutils literal"><span class="pre">minute</span></tt>,
<tt class="xref py py-attr docutils literal"><span class="pre">second</span></tt>, <tt class="xref py py-attr docutils literal"><span class="pre">microsecond</span></tt>, および <a class="reference internal" href="#datetime.tzinfo" title="datetime.tzinfo"><tt class="xref py py-attr docutils literal"><span class="pre">tzinfo</span></tt></a> 。</p>
</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><tt class="descclassname">datetime.</tt><tt class="descname">datetime</tt></dt>
<dd><p>日付と時刻を組み合わせたもの。属性: <tt class="xref py py-attr docutils literal"><span class="pre">year</span></tt>, <tt class="xref py py-attr docutils literal"><span class="pre">month</span></tt>,
<tt class="xref py py-attr docutils literal"><span class="pre">day</span></tt>, <tt class="xref py py-attr docutils literal"><span class="pre">hour</span></tt>, <tt class="xref py py-attr docutils literal"><span class="pre">minute</span></tt>, <tt class="xref py py-attr docutils literal"><span class="pre">second</span></tt>,
<tt class="xref py py-attr docutils literal"><span class="pre">microsecond</span></tt>, および <a class="reference internal" href="#datetime.tzinfo" title="datetime.tzinfo"><tt class="xref py py-attr docutils literal"><span class="pre">tzinfo</span></tt></a> 。</p>
</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><tt class="descclassname">datetime.</tt><tt class="descname">timedelta</tt></dt>
<dd><p><a class="reference internal" href="#datetime.date" title="datetime.date"><tt class="xref py py-class docutils literal"><span class="pre">date</span></tt></a>, <a class="reference internal" href="time.html#module-time" title="time: 時刻データへのアクセスと変換"><tt class="xref py py-class docutils literal"><span class="pre">time</span></tt></a>,あるいは <a class="reference internal" href="#module-datetime" title="datetime: 基本的な日付型および時間型。"><tt class="xref py py-class docutils literal"><span class="pre">datetime</span></tt></a> クラスの二つのインスタンス間の時間差をマイクロ秒精度で表す経過時間値です。</p>
</dd></dl>

<dl class="class">
<dt id="datetime.tzinfo">
<em class="property">class </em><tt class="descclassname">datetime.</tt><tt class="descname">tzinfo</tt><a class="headerlink" href="#datetime.tzinfo" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>タイムゾーン情報オブジェクトの抽象基底クラスです。
<a class="reference internal" href="#module-datetime" title="datetime: 基本的な日付型および時間型。"><tt class="xref py py-class docutils literal"><span class="pre">datetime</span></tt></a> および <a class="reference internal" href="time.html#module-time" title="time: 時刻データへのアクセスと変換"><tt class="xref py py-class docutils literal"><span class="pre">time</span></tt></a> クラスで用いられ、カスタマイズ可能な時刻修正の概念 (たとえばタイムゾーンや夏時間の計算）を提供します。</p>
</dd></dl>

<p>これらの型のオブジェクトは変更不可能 (immutable) です。</p>
<p><a class="reference internal" href="#datetime.date" title="datetime.date"><tt class="xref py py-class docutils literal"><span class="pre">date</span></tt></a> 型のオブジェクトは常に naive です。</p>
<p><a class="reference internal" href="time.html#module-time" title="time: 時刻データへのアクセスと変換"><tt class="xref py py-class docutils literal"><span class="pre">time</span></tt></a> や <a class="reference internal" href="#module-datetime" title="datetime: 基本的な日付型および時間型。"><tt class="xref py py-class docutils literal"><span class="pre">datetime</span></tt></a> 型のオブジェクト <em>d</em> は naive にも
aware にもできます。 <em>d</em> は <tt class="docutils literal"><span class="pre">d.tzinfo</span></tt> が <tt class="docutils literal"><span class="pre">None</span></tt> でなく、かつ
<tt class="docutils literal"><span class="pre">d.tzinfo.utcoffset(d)</span></tt> が <tt class="docutils literal"><span class="pre">None</span></tt> を返さない場合に aware となります。 <tt class="docutils literal"><span class="pre">d.tzinfo</span></tt> が <tt class="docutils literal"><span class="pre">None</span></tt> の場合や、 <tt class="docutils literal"><span class="pre">d.tzinfo</span></tt> は <tt class="docutils literal"><span class="pre">None</span></tt> ではないが <tt class="docutils literal"><span class="pre">d.tzinfo.utcoffset(d)</span></tt> が <tt class="docutils literal"><span class="pre">None</span></tt> を返す場合には、 <em>d</em> は
naive となります。</p>
<p>naive なオブジェクトと aware なオブジェクトの区別は <a class="reference internal" href="#datetime.timedelta" title="datetime.timedelta"><tt class="xref py py-class docutils literal"><span class="pre">timedelta</span></tt></a>
オブジェクトにはあてはまりません。</p>
<p>サブクラスの関係は以下のようになります:</p>
<div class="highlight-python"><pre>object
    timedelta
    tzinfo
    time
    date
        datetime</pre>
</div>
</div>
<div class="section" id="timedelta">
<span id="datetime-timedelta"></span><h2>8.1.2. <a class="reference internal" href="#datetime.timedelta" title="datetime.timedelta"><tt class="xref py py-class docutils literal"><span class="pre">timedelta</span></tt></a> オブジェクト<a class="headerlink" href="#timedelta" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p><a class="reference internal" href="#datetime.timedelta" title="datetime.timedelta"><tt class="xref py py-class docutils literal"><span class="pre">timedelta</span></tt></a> オブジェクトは経過時間、すなわち二つの日付や時刻間の差を表します。</p>
<dl class="class">
<dt id="datetime.timedelta">
<em class="property">class </em><tt class="descclassname">datetime.</tt><tt class="descname">timedelta</tt><big>(</big><span class="optional">[</span><em>days</em><span class="optional">[</span>, <em>seconds</em><span class="optional">[</span>, <em>microseconds</em><span class="optional">[</span>, <em>milliseconds</em><span class="optional">[</span>, <em>minutes</em><span class="optional">[</span>, <em>hours</em><span class="optional">[</span>, <em>weeks</em><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><big>)</big><a class="headerlink" href="#datetime.timedelta" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>全ての引数がオプションで、デフォルト値は <em>0</em> です。引数は整数、長整数、浮動小数点数にすることができ、正でも負でもかまいません。</p>
<dl class="docutils">
<dt><em>days</em>, <em>seconds</em> および <em>microseconds</em> のみが内部に記憶されます。</dt>
<dd>引数は以下のようにして変換されます:</dd>
</dl>
<ul class="simple">
<li>1 ミリ秒は 1000 マイクロ秒に変換されます。</li>
<li>1 分は 60 秒に変換されます。</li>
<li>1 時間は 3600 秒に変換されます。</li>
<li>1 週間は 7 日に変換されます。</li>
</ul>
<p>その後、日、秒、マイクロ秒は値が一意に表されるように、</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">0</span> <span class="pre">&lt;=</span> <span class="pre">microseconds</span> <span class="pre">&lt;</span> <span class="pre">1000000</span></tt></li>
<li><tt class="docutils literal"><span class="pre">0</span> <span class="pre">&lt;=</span> <span class="pre">seconds</span> <span class="pre">&lt;</span> <span class="pre">3600*24</span></tt> (一日中の秒数)</li>
<li><tt class="docutils literal"><span class="pre">-999999999</span> <span class="pre">&lt;=</span> <span class="pre">days</span> <span class="pre">&lt;=</span> <span class="pre">999999999</span></tt></li>
</ul>
<p>で正規化されます。</p>
<p>引数のいずれかが浮動小数点であり、小数のマイクロ秒が存在する場合、小数のマイクロ秒は全ての引数から一度取り置かれ、それらの和は最も近いマイクロ秒に丸められます。浮動小数点の引数がない場合、値の変換と正規化の過程は厳密な (失われる情報がない) ものとなります。</p>
<p>日の値を正規化した結果、指定された範囲の外側になった場合には、
<a class="reference internal" href="exceptions.html#exceptions.OverflowError" title="exceptions.OverflowError"><tt class="xref py py-exc docutils literal"><span class="pre">OverflowError</span></tt></a> が送出されます。</p>
<p>負の値を正規化すると、一見混乱するような値になります。例えば、</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">timedelta</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">microseconds</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">days</span><span class="p">,</span> <span class="n">d</span><span class="o">.</span><span class="n">seconds</span><span class="p">,</span> <span class="n">d</span><span class="o">.</span><span class="n">microseconds</span><span class="p">)</span>
<span class="go">(-1, 86399, 999999)</span>
</pre></div>
</div>
</dd></dl>

<p>クラス属性を以下に示します:</p>
<dl class="attribute">
<dt id="datetime.timedelta.min">
<tt class="descclassname">timedelta.</tt><tt class="descname">min</tt><a class="headerlink" href="#datetime.timedelta.min" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>最小の値を表す <a class="reference internal" href="#datetime.timedelta" title="datetime.timedelta"><tt class="xref py py-class docutils literal"><span class="pre">timedelta</span></tt></a> オブジェクトで、
<tt class="docutils literal"><span class="pre">timedelta(-999999999)</span></tt> です。</p>
</dd></dl>

<dl class="attribute">
<dt id="datetime.timedelta.max">
<tt class="descclassname">timedelta.</tt><tt class="descname">max</tt><a class="headerlink" href="#datetime.timedelta.max" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>最大の値を表す <a class="reference internal" href="#datetime.timedelta" title="datetime.timedelta"><tt class="xref py py-class docutils literal"><span class="pre">timedelta</span></tt></a> オブジェクトで、
<tt class="docutils literal"><span class="pre">timedelta(days=999999999,</span> <span class="pre">hours=23,</span> <span class="pre">minutes=59,</span> <span class="pre">seconds=59,</span>
<span class="pre">microseconds=999999)</span></tt> です。</p>
</dd></dl>

<dl class="attribute">
<dt id="datetime.timedelta.resolution">
<tt class="descclassname">timedelta.</tt><tt class="descname">resolution</tt><a class="headerlink" href="#datetime.timedelta.resolution" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><a class="reference internal" href="#datetime.timedelta" title="datetime.timedelta"><tt class="xref py py-class docutils literal"><span class="pre">timedelta</span></tt></a> オブジェクトが等しくならない最小の時間差で、
<tt class="docutils literal"><span class="pre">timedelta(microseconds=1)</span></tt> です。</p>
</dd></dl>

<p>正規化のために、 <tt class="docutils literal"><span class="pre">timedelta.max</span></tt> &gt; <tt class="docutils literal"><span class="pre">-timedelta.min</span></tt> となるので注意してください。 <tt class="docutils literal"><span class="pre">-timedelta.max</span></tt> は <a class="reference internal" href="#datetime.timedelta" title="datetime.timedelta"><tt class="xref py py-class docutils literal"><span class="pre">timedelta</span></tt></a> オブジェクトとして表現することができません。</p>
<p>以下に (読み出し専用の) インスタンス属性を示します:</p>
<table border="1" class="docutils">
<colgroup>
<col width="29%" />
<col width="71%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">属性</th>
<th class="head">値</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">days</span></tt></td>
<td>両端値を含む -999999999 から 999999999 の間</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">seconds</span></tt></td>
<td>両端値を含む 0 から 86399 の間</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">microseconds</span></tt></td>
<td>両端値を含む 0 から 999999 の間</td>
</tr>
</tbody>
</table>
<p>サポートされている操作を以下に示します:</p>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="67%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">演算</th>
<th class="head">結果</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">t1</span> <span class="pre">=</span> <span class="pre">t2</span> <span class="pre">+</span> <span class="pre">t3</span></tt></td>
<td><em>t2</em> と <em>t3</em> を加算します。演算後、  <em>t1</em>-<em>t2</em> == <em>t3</em>
および <em>t1</em>-<em>t3</em> == <em>t2</em> は真になります。 (1)</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">t1</span> <span class="pre">=</span> <span class="pre">t2</span> <span class="pre">-</span> <span class="pre">t3</span></tt></td>
<td><em>t2</em> と <em>t3</em> の差分です。演算後、  <em>t1</em> == <em>t2</em> - <em>t3</em>
および <em>t2</em> == <em>t1</em> + <em>t3</em> は真になります。 (1)</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">t1</span> <span class="pre">=</span> <span class="pre">t2</span> <span class="pre">*</span> <span class="pre">i</span> <span class="pre">or</span> <span class="pre">t1</span> <span class="pre">=</span> <span class="pre">i</span> <span class="pre">*</span> <span class="pre">t2</span></tt></td>
<td>整数や長整数による乗算です。演算後、  <em>t1</em> // i == <em>t2</em> は
<tt class="docutils literal"><span class="pre">i</span> <span class="pre">!=</span> <span class="pre">0</span></tt> であれば真となります。</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td>一般的に、 <em>t1</em> * i == <em>t1</em> * (i-1) + <em>t1</em>
は真となります。(1)</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">t1</span> <span class="pre">=</span> <span class="pre">t2</span> <span class="pre">//</span> <span class="pre">i</span></tt></td>
<td>端数を切り捨てて除算され、剰余 (がある場合) は捨てられます。(3)</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">+t1</span></tt></td>
<td>同じ値を持つ <a class="reference internal" href="#datetime.timedelta" title="datetime.timedelta"><tt class="xref py py-class docutils literal"><span class="pre">timedelta</span></tt></a> オブジェクトを返します。(2)</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">-t1</span></tt></td>
<td><a class="reference internal" href="#datetime.timedelta" title="datetime.timedelta"><tt class="xref py py-class docutils literal"><span class="pre">timedelta</span></tt></a>(-<em>t1.days</em>,
-<em>t1.seconds</em>, -<em>t1.microseconds</em>)、および <em>t1</em>*
-1 と同じです。 (1)(4)</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">abs(t)</span></tt></td>
<td><tt class="docutils literal"><span class="pre">t.days</span> <span class="pre">&gt;=</span> <span class="pre">0</span></tt> のときには +*t*, <tt class="docutils literal"><span class="pre">t.days</span> <span class="pre">&lt;</span> <span class="pre">0</span></tt> のときには -<em>t</em> となります。(2)</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">str(t)</span></tt></td>
<td><tt class="docutils literal"><span class="pre">[D</span> <span class="pre">day[s],</span> <span class="pre">][H]H:MM:SS[.UUUUUU]</span></tt> という形式の文字列を返します。
<tt class="docutils literal"><span class="pre">t</span></tt> が負の値の場合は <tt class="docutils literal"><span class="pre">D</span></tt> は負の値となります。(5)</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">repr(t)</span></tt></td>
<td><tt class="docutils literal"><span class="pre">datetime.timedelta(D[,</span> <span class="pre">S[,</span> <span class="pre">U]])</span></tt> という形式の文字列を返します。
<tt class="docutils literal"><span class="pre">t</span></tt> が負の場合は D は負の値となります。(5)</td>
</tr>
</tbody>
</table>
<p>注釈:</p>
<ol class="arabic">
<li><p class="first">この操作は厳密ですが、オーバフローするかもしれません。</p>
</li>
<li><p class="first">この操作は厳密であり、オーバフローしないはずです。</p>
</li>
<li><p class="first">0 による除算は  <a class="reference internal" href="exceptions.html#exceptions.ZeroDivisionError" title="exceptions.ZeroDivisionError"><tt class="xref py py-exc docutils literal"><span class="pre">ZeroDivisionError</span></tt></a> を送出します。</p>
</li>
<li><p class="first">-<em>timedelta.max</em> は <a class="reference internal" href="#datetime.timedelta" title="datetime.timedelta"><tt class="xref py py-class docutils literal"><span class="pre">timedelta</span></tt></a> オブジェクトで表現することができません。</p>
</li>
<li><p class="first"><a class="reference internal" href="#datetime.timedelta" title="datetime.timedelta"><tt class="xref py py-class docutils literal"><span class="pre">timedelta</span></tt></a> オブジェクトの文字列表現は内部表現に類似した形に正規化されます。そのため負の timedelta はいくぶん珍しい結果となります。例えば:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=-</span><span class="mi">5</span><span class="p">)</span>
<span class="go">datetime.timedelta(-1, 68400)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">_</span><span class="p">)</span>
<span class="go">-1 day, 19:00:00</span>
</pre></div>
</div>
</li>
</ol>
<p>上に列挙した操作に加えて、 <a class="reference internal" href="#datetime.timedelta" title="datetime.timedelta"><tt class="xref py py-class docutils literal"><span class="pre">timedelta</span></tt></a> オブジェクトは
<a class="reference internal" href="#datetime.date" title="datetime.date"><tt class="xref py py-class docutils literal"><span class="pre">date</span></tt></a> および <a class="reference internal" href="#module-datetime" title="datetime: 基本的な日付型および時間型。"><tt class="xref py py-class docutils literal"><span class="pre">datetime</span></tt></a> オブジェクトとの間で加減算をサポートしています (下を参照してください)。</p>
<p><a class="reference internal" href="#datetime.timedelta" title="datetime.timedelta"><tt class="xref py py-class docutils literal"><span class="pre">timedelta</span></tt></a> オブジェクト間の比較はサポートされており、より小さい経過時間を表す <a class="reference internal" href="#datetime.timedelta" title="datetime.timedelta"><tt class="xref py py-class docutils literal"><span class="pre">timedelta</span></tt></a> オブジェクトがより小さい timedelta
と見なされます。型混合の比較がデフォルトのオブジェクトアドレス比較となってしまうのを抑止するために、 <a class="reference internal" href="#datetime.timedelta" title="datetime.timedelta"><tt class="xref py py-class docutils literal"><span class="pre">timedelta</span></tt></a> オブジェクトと異なる型のオブジェクトが比較されると、比較演算子が <tt class="docutils literal"><span class="pre">==</span></tt> または <tt class="docutils literal"><span class="pre">!=</span></tt> でないかぎり <a class="reference internal" href="exceptions.html#exceptions.TypeError" title="exceptions.TypeError"><tt class="xref py py-exc docutils literal"><span class="pre">TypeError</span></tt></a> が送出されます。後者の場合、それぞれ
<a class="reference internal" href="constants.html#False" title="False"><tt class="xref py py-const docutils literal"><span class="pre">False</span></tt></a> または <a class="reference internal" href="constants.html#True" title="True"><tt class="xref py py-const docutils literal"><span class="pre">True</span></tt></a> を返します。</p>
<p><a class="reference internal" href="#datetime.timedelta" title="datetime.timedelta"><tt class="xref py py-class docutils literal"><span class="pre">timedelta</span></tt></a> オブジェクトはハッシュ可能(<a class="reference internal" href="../glossary.html#term-hashable"><em class="xref std std-term">hashable</em></a>) つまり、辞書のキーとして利用可能) であり、効率的な pickle 化をサポートします。また、ブール演算コンテキストでは、 <a class="reference internal" href="#datetime.timedelta" title="datetime.timedelta"><tt class="xref py py-class docutils literal"><span class="pre">timedelta</span></tt></a> オブジェクトは
<tt class="docutils literal"><span class="pre">timedelta(0)</span></tt> に等しくない場合かつそのときに限り真となります。</p>
<p>インスタンスメソッド:</p>
<dl class="method">
<dt id="datetime.timedelta.total_seconds">
<tt class="descclassname">timedelta.</tt><tt class="descname">total_seconds</tt><big>(</big><big>)</big><a class="headerlink" href="#datetime.timedelta.total_seconds" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>この期間に含まれるトータルの秒数を返します。
true division が有効な場合の、 <tt class="docutils literal"><span class="pre">(td.microseconds</span> <span class="pre">+</span> <span class="pre">(td.seconds</span> <span class="pre">+</span>
<span class="pre">td.days</span> <span class="pre">*</span> <span class="pre">24</span> <span class="pre">*</span> <span class="pre">3600)</span> <span class="pre">*</span> <span class="pre">10**6)</span> <span class="pre">/</span> <span class="pre">10**6</span></tt> と同じです。</p>
<p>非常に長い期間 (多くのプラットフォームでは270年以上) については、このメソッドはマイクロ秒の精度を失うことがあることに注意してください。</p>
<p class="versionadded">
<span class="versionmodified">バージョン 2.7 で追加.</span></p>
</dd></dl>

<p>使用例:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">timedelta</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">year</span> <span class="o">=</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">365</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">another_year</span> <span class="o">=</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">weeks</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span> <span class="n">days</span><span class="o">=</span><span class="mi">84</span><span class="p">,</span> <span class="n">hours</span><span class="o">=</span><span class="mi">23</span><span class="p">,</span>
<span class="gp">... </span>                         <span class="n">minutes</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">seconds</span><span class="o">=</span><span class="mi">600</span><span class="p">)</span>  <span class="c"># 365日になるように足し算</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">year</span><span class="o">.</span><span class="n">total_seconds</span><span class="p">()</span>
<span class="go">31536000.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">year</span> <span class="o">==</span> <span class="n">another_year</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ten_years</span> <span class="o">=</span> <span class="mi">10</span> <span class="o">*</span> <span class="n">year</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ten_years</span><span class="p">,</span> <span class="n">ten_years</span><span class="o">.</span><span class="n">days</span> <span class="o">//</span> <span class="mi">365</span>
<span class="go">(datetime.timedelta(3650), 10)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nine_years</span> <span class="o">=</span> <span class="n">ten_years</span> <span class="o">-</span> <span class="n">year</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nine_years</span><span class="p">,</span> <span class="n">nine_years</span><span class="o">.</span><span class="n">days</span> <span class="o">//</span> <span class="mi">365</span>
<span class="go">(datetime.timedelta(3285), 9)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">three_years</span> <span class="o">=</span> <span class="n">nine_years</span> <span class="o">//</span> <span class="mi">3</span><span class="p">;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">three_years</span><span class="p">,</span> <span class="n">three_years</span><span class="o">.</span><span class="n">days</span> <span class="o">//</span> <span class="mi">365</span>
<span class="go">(datetime.timedelta(1095), 3)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">abs</span><span class="p">(</span><span class="n">three_years</span> <span class="o">-</span> <span class="n">ten_years</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">three_years</span> <span class="o">+</span> <span class="n">year</span>
<span class="go">True</span>
</pre></div>
</div>
</div>
<div class="section" id="date">
<span id="datetime-date"></span><h2>8.1.3. <a class="reference internal" href="#datetime.date" title="datetime.date"><tt class="xref py py-class docutils literal"><span class="pre">date</span></tt></a> オブジェクト<a class="headerlink" href="#date" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p><a class="reference internal" href="#datetime.date" title="datetime.date"><tt class="xref py py-class docutils literal"><span class="pre">date</span></tt></a> オブジェクトは日付 (年、月、および日) を表します。日付は理想的なカレンダー、すなわち現在のグレゴリオ暦を過去と未来の両方向に無限に延長したもので表されます。 1 年の 1 月 1 日は日番号 1, 1 年 1 月
2 日は日番号 2,となっていきます。この暦法は、全ての計算における基本カレンダーである、 Dershowitz と Reingold の書籍 Calendrical
Calculations における&#8221;予期的グレゴリオ (proleptic Gregorian)&#8221; 暦の定義に一致します。</p>
<dl class="class">
<dt id="datetime.date">
<em class="property">class </em><tt class="descclassname">datetime.</tt><tt class="descname">date</tt><big>(</big><em>year</em>, <em>month</em>, <em>day</em><big>)</big><a class="headerlink" href="#datetime.date" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>全ての引数が必要です。引数は整数でも長整数でもよく、以下の範囲に入らなければなりません:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">MINYEAR</span> <span class="pre">&lt;=</span> <span class="pre">year</span> <span class="pre">&lt;=</span> <span class="pre">MAXYEAR</span></tt></li>
<li><tt class="docutils literal"><span class="pre">1</span> <span class="pre">&lt;=</span> <span class="pre">month</span> <span class="pre">&lt;=</span> <span class="pre">12</span></tt></li>
<li><tt class="docutils literal"><span class="pre">1</span> <span class="pre">&lt;=</span> <span class="pre">day</span> <span class="pre">&lt;=</span> <span class="pre">指定された月と年における日数</span></tt></li>
</ul>
<p>範囲を超えた引数を与えた場合、 <a class="reference internal" href="exceptions.html#exceptions.ValueError" title="exceptions.ValueError"><tt class="xref py py-exc docutils literal"><span class="pre">ValueError</span></tt></a> が送出されます。</p>
</dd></dl>

<p>他のコンストラクタ、および全てのクラスメソッドを以下に示します:</p>
<dl class="classmethod">
<dt id="datetime.date.today">
<em class="property">classmethod </em><tt class="descclassname">date.</tt><tt class="descname">today</tt><big>(</big><big>)</big><a class="headerlink" href="#datetime.date.today" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>現在のローカルな日付を返します。
<tt class="docutils literal"><span class="pre">date.fromtimestamp(time.time())</span></tt> と等価です。</p>
</dd></dl>

<dl class="classmethod">
<dt id="datetime.date.fromtimestamp">
<em class="property">classmethod </em><tt class="descclassname">date.</tt><tt class="descname">fromtimestamp</tt><big>(</big><em>timestamp</em><big>)</big><a class="headerlink" href="#datetime.date.fromtimestamp" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><a class="reference internal" href="time.html#time.time" title="time.time"><tt class="xref py py-func docutils literal"><span class="pre">time.time()</span></tt></a> が返すような POSIX タイムスタンプに対応する、ローカルな日付を返します。タイムスタンプがプラットフォームにおける C 関数 <tt class="xref c c-func docutils literal"><span class="pre">localtime()</span></tt> でサポートされている範囲を超えている場合には
<a class="reference internal" href="exceptions.html#exceptions.ValueError" title="exceptions.ValueError"><tt class="xref py py-exc docutils literal"><span class="pre">ValueError</span></tt></a> を送出します。この値はよく 1970 年から 2038 年に制限されていることがあります。うるう秒がタイムスタンプの概念に含まれている非 POSIX システムでは、
<a class="reference internal" href="#datetime.date.fromtimestamp" title="datetime.date.fromtimestamp"><tt class="xref py py-meth docutils literal"><span class="pre">fromtimestamp()</span></tt></a> はうるう秒を無視します。</p>
</dd></dl>

<dl class="classmethod">
<dt id="datetime.date.fromordinal">
<em class="property">classmethod </em><tt class="descclassname">date.</tt><tt class="descname">fromordinal</tt><big>(</big><em>ordinal</em><big>)</big><a class="headerlink" href="#datetime.date.fromordinal" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>予期的グレゴリオ暦順序に対応する日付を表し、 1 年 1 月 1 日が序数 1
となります。 <tt class="docutils literal"><span class="pre">1</span> <span class="pre">&lt;=</span> <span class="pre">ordinal</span> <span class="pre">&lt;=</span> <span class="pre">date.max.toordinal()</span></tt> でない場合、
<a class="reference internal" href="exceptions.html#exceptions.ValueError" title="exceptions.ValueError"><tt class="xref py py-exc docutils literal"><span class="pre">ValueError</span></tt></a> が送出されます。任意の日付 <em>d</em> に対し、
<tt class="docutils literal"><span class="pre">date.fromordinal(d.toordinal())</span> <span class="pre">==</span>&nbsp; <span class="pre">d</span></tt> となります。</p>
</dd></dl>

<p>以下にクラス属性を示します:</p>
<dl class="attribute">
<dt id="datetime.date.min">
<tt class="descclassname">date.</tt><tt class="descname">min</tt><a class="headerlink" href="#datetime.date.min" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>表現できる最も古い日付で、 <tt class="docutils literal"><span class="pre">date(MINYEAR,</span> <span class="pre">1,</span> <span class="pre">1)</span></tt> です。</p>
</dd></dl>

<dl class="attribute">
<dt id="datetime.date.max">
<tt class="descclassname">date.</tt><tt class="descname">max</tt><a class="headerlink" href="#datetime.date.max" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>表現できる最も新しい日付で、 <tt class="docutils literal"><span class="pre">date(MAXYEAR,</span> <span class="pre">12,</span> <span class="pre">31)</span></tt> です。</p>
</dd></dl>

<dl class="attribute">
<dt id="datetime.date.resolution">
<tt class="descclassname">date.</tt><tt class="descname">resolution</tt><a class="headerlink" href="#datetime.date.resolution" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>等しくない日付オブジェクト間の最小の差で、 <tt class="docutils literal"><span class="pre">timedelta(days=1)</span></tt> です。</p>
</dd></dl>

<p>以下に (読み出し専用の) インスタンス属性を示します:</p>
<dl class="attribute">
<dt id="datetime.date.year">
<tt class="descclassname">date.</tt><tt class="descname">year</tt><a class="headerlink" href="#datetime.date.year" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>両端値を含む <a class="reference internal" href="#datetime.MINYEAR" title="datetime.MINYEAR"><tt class="xref py py-const docutils literal"><span class="pre">MINYEAR</span></tt></a> から <a class="reference internal" href="#datetime.MAXYEAR" title="datetime.MAXYEAR"><tt class="xref py py-const docutils literal"><span class="pre">MAXYEAR</span></tt></a> までの値です。</p>
</dd></dl>

<dl class="attribute">
<dt id="datetime.date.month">
<tt class="descclassname">date.</tt><tt class="descname">month</tt><a class="headerlink" href="#datetime.date.month" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>両端値を含む 1 から 12 までの値です。</p>
</dd></dl>

<dl class="attribute">
<dt id="datetime.date.day">
<tt class="descclassname">date.</tt><tt class="descname">day</tt><a class="headerlink" href="#datetime.date.day" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>1 から与えられた月と年における日数までの値です。</p>
</dd></dl>

<p>サポートされている操作を以下に示します:</p>
<table border="1" class="docutils">
<colgroup>
<col width="34%" />
<col width="66%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">演算</th>
<th class="head">結果</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">date2</span> <span class="pre">=</span> <span class="pre">date1</span> <span class="pre">+</span> <span class="pre">timedelta</span></tt></td>
<td><em>date2</em> はから <em>date1</em> から <tt class="docutils literal"><span class="pre">timedelta.days</span></tt> 日移動した日付です。 (1)</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">date2</span> <span class="pre">=</span> <span class="pre">date1</span> <span class="pre">-</span> <span class="pre">timedelta</span></tt></td>
<td><tt class="docutils literal"><span class="pre">date2</span> <span class="pre">+</span> <span class="pre">timedelta</span> <span class="pre">==</span> <span class="pre">date1</span></tt> であるような日付
<em>date2</em> を計算します。 (2)</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">timedelta</span> <span class="pre">=</span> <span class="pre">date1</span> <span class="pre">-</span> <span class="pre">date2</span></tt></td>
<td>(3)</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">date1</span> <span class="pre">&lt;</span> <span class="pre">date2</span></tt></td>
<td><em>date1</em> が時刻として <em>date2</em> よりも前を表す場合に、 <em>date1</em>
は <em>date2</em> よりも小さいと見なされます。 (4)</td>
</tr>
</tbody>
</table>
<p>注釈:</p>
<ol class="arabic simple">
<li><em>date2</em> は <tt class="docutils literal"><span class="pre">timedelta.days</span> <span class="pre">&gt;</span> <span class="pre">0</span></tt> の場合進む方向に、
<tt class="docutils literal"><span class="pre">timedelta.days</span> <span class="pre">&lt;</span> <span class="pre">0</span></tt> の場合戻る方向に移動します。演算後は、 <tt class="docutils literal"><span class="pre">date2</span> <span class="pre">-</span> <span class="pre">date1</span> <span class="pre">==</span> <span class="pre">timedelta.days</span></tt> となります。
<tt class="docutils literal"><span class="pre">timedelta.seconds</span></tt> および <tt class="docutils literal"><span class="pre">timedelta.microseconds</span></tt> は無視されます。 <tt class="docutils literal"><span class="pre">date2.year</span></tt> が <a class="reference internal" href="#datetime.MINYEAR" title="datetime.MINYEAR"><tt class="xref py py-const docutils literal"><span class="pre">MINYEAR</span></tt></a> になってしまったり、
<a class="reference internal" href="#datetime.MAXYEAR" title="datetime.MAXYEAR"><tt class="xref py py-const docutils literal"><span class="pre">MAXYEAR</span></tt></a> より大きくなってしまう場合には
<a class="reference internal" href="exceptions.html#exceptions.OverflowError" title="exceptions.OverflowError"><tt class="xref py py-exc docutils literal"><span class="pre">OverflowError</span></tt></a> が送出されます。</li>
<li>この操作は date1 + (-timedelta) と等価ではありません。なぜならば、
date1 - timedelta がオーバフローしない場合でも、 -timedelta 単体がオーバフローする可能性があるからです。 <tt class="docutils literal"><span class="pre">timedelta.seconds</span></tt> および
<tt class="docutils literal"><span class="pre">timedelta.microseconds</span></tt> は無視されます。</li>
<li>この演算は厳密で、オーバフローしません。 timedelta.seconds および
timedelta.microseconds は 0 で、演算後には date2 + timedelta ==
date1 となります。</li>
<li>別の言い方をすると、 <tt class="docutils literal"><span class="pre">date1.toordinal()</span> <span class="pre">&lt;</span> <span class="pre">date2.toordinal()</span></tt> であり、かつそのときに限り <tt class="docutils literal"><span class="pre">date1</span> <span class="pre">&lt;</span> <span class="pre">date2</span></tt> となります。型混合の比較がデフォルトのオブジェクトアドレス比較となってしまうのを抑止するために、 <a class="reference internal" href="#datetime.timedelta" title="datetime.timedelta"><tt class="xref py py-class docutils literal"><span class="pre">timedelta</span></tt></a> オブジェクトと異なる型のオブジェクトが比較されると <a class="reference internal" href="exceptions.html#exceptions.TypeError" title="exceptions.TypeError"><tt class="xref py py-exc docutils literal"><span class="pre">TypeError</span></tt></a> が送出されます。しかしながら、被比較演算子のもう一方が <tt class="xref py py-meth docutils literal"><span class="pre">timetuple()</span></tt> 属性を持つ場合には
<tt class="docutils literal"><span class="pre">NotImplemented</span></tt> が返されます。このフックにより、他種の日付オブジェクトに型混合比較を実装するチャンスを与えています。そうでない場合、 <a class="reference internal" href="#datetime.timedelta" title="datetime.timedelta"><tt class="xref py py-class docutils literal"><span class="pre">timedelta</span></tt></a> オブジェクトと異なる型のオブジェクトが比較されると、比較演算子が <tt class="docutils literal"><span class="pre">==</span></tt> または <tt class="docutils literal"><span class="pre">!=</span></tt> でないかぎり <a class="reference internal" href="exceptions.html#exceptions.TypeError" title="exceptions.TypeError"><tt class="xref py py-exc docutils literal"><span class="pre">TypeError</span></tt></a> が送出されます。後者の場合、それぞれ <a class="reference internal" href="constants.html#False" title="False"><tt class="xref py py-const docutils literal"><span class="pre">False</span></tt></a> または <a class="reference internal" href="constants.html#True" title="True"><tt class="xref py py-const docutils literal"><span class="pre">True</span></tt></a> を返します。</li>
</ol>
<p><a class="reference internal" href="#datetime.date" title="datetime.date"><tt class="xref py py-class docutils literal"><span class="pre">date</span></tt></a> オブジェクトは辞書のキーとして用いることができます。ブール演算コンテキストでは、全ての <a class="reference internal" href="#datetime.date" title="datetime.date"><tt class="xref py py-class docutils literal"><span class="pre">date</span></tt></a> オブジェクトは真であるとみなされます。</p>
<p>以下にインスタンスメソッドを示します:</p>
<dl class="method">
<dt id="datetime.date.replace">
<tt class="descclassname">date.</tt><tt class="descname">replace</tt><big>(</big><em>year</em>, <em>month</em>, <em>day</em><big>)</big><a class="headerlink" href="#datetime.date.replace" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>キーワード引数で指定されたデータメンバが置き換えられることを除き、同じ値を持つ <a class="reference internal" href="#datetime.date" title="datetime.date"><tt class="xref py py-class docutils literal"><span class="pre">date</span></tt></a> オブジェクトを返します。例えば、 <tt class="docutils literal"><span class="pre">d</span> <span class="pre">==</span>
<span class="pre">date(2002,</span> <span class="pre">12,</span> <span class="pre">31)</span></tt> とすると、 <tt class="docutils literal"><span class="pre">d.replace(day=26)</span> <span class="pre">==</span> <span class="pre">date(2002,</span>
<span class="pre">12,</span> <span class="pre">26)</span></tt> となります。</p>
</dd></dl>

<dl class="method">
<dt id="datetime.date.timetuple">
<tt class="descclassname">date.</tt><tt class="descname">timetuple</tt><big>(</big><big>)</big><a class="headerlink" href="#datetime.date.timetuple" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><a class="reference internal" href="time.html#time.localtime" title="time.localtime"><tt class="xref py py-func docutils literal"><span class="pre">time.localtime()</span></tt></a> が返す形式の <a class="reference internal" href="time.html#time.struct_time" title="time.struct_time"><tt class="xref py py-class docutils literal"><span class="pre">time.struct_time</span></tt></a> を返します。時間、分、および秒は 0 で、DST フラグは -1 になります。
<tt class="docutils literal"><span class="pre">d.timetuple()</span></tt> は次の値と同値です:
<tt class="docutils literal"><span class="pre">time.struct_time((d.year,</span> <span class="pre">d.month,</span> <span class="pre">d.day,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">d.weekday(),</span> <span class="pre">yday,</span> <span class="pre">-1))</span></tt>
ただし <tt class="docutils literal"><span class="pre">yday</span> <span class="pre">=</span> <span class="pre">d.toordinal()</span> <span class="pre">-</span> <span class="pre">date(d.year,</span> <span class="pre">1,</span> <span class="pre">1).toordinal()</span> <span class="pre">+</span> <span class="pre">1</span></tt>
が 1月1日 に 1 で始まる現在の年の日を表す</p>
</dd></dl>

<dl class="method">
<dt id="datetime.date.toordinal">
<tt class="descclassname">date.</tt><tt class="descname">toordinal</tt><big>(</big><big>)</big><a class="headerlink" href="#datetime.date.toordinal" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>予測的グレゴリオ暦における日付序数を返します。 1 年の 1 月 1 日が序数 1 となります。任意の <a class="reference internal" href="#datetime.date" title="datetime.date"><tt class="xref py py-class docutils literal"><span class="pre">date</span></tt></a> オブジェクト <em>d</em> について、
<tt class="docutils literal"><span class="pre">date.fromordinal(d.toordinal())</span> <span class="pre">==</span> <span class="pre">d</span></tt> となります。</p>
</dd></dl>

<dl class="method">
<dt id="datetime.date.weekday">
<tt class="descclassname">date.</tt><tt class="descname">weekday</tt><big>(</big><big>)</big><a class="headerlink" href="#datetime.date.weekday" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>月曜日を 0、日曜日を 6 として、曜日を整数で返します。例えば、
<tt class="docutils literal"><span class="pre">date(2002,</span> <span class="pre">12,</span> <span class="pre">4).weekday()</span> <span class="pre">==</span> <span class="pre">2</span></tt> であり、水曜日を示します。
<a class="reference internal" href="#datetime.date.isoweekday" title="datetime.date.isoweekday"><tt class="xref py py-meth docutils literal"><span class="pre">isoweekday()</span></tt></a> も参照してください。</p>
</dd></dl>

<dl class="method">
<dt id="datetime.date.isoweekday">
<tt class="descclassname">date.</tt><tt class="descname">isoweekday</tt><big>(</big><big>)</big><a class="headerlink" href="#datetime.date.isoweekday" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>月曜日を 1,日曜日を 7 として、曜日を整数で返します。例えば、
<tt class="docutils literal"><span class="pre">date(2002,</span> <span class="pre">12,</span> <span class="pre">4).weekday()</span> <span class="pre">==</span> <span class="pre">3</span></tt> であり、水曜日を示します。
<a class="reference internal" href="#datetime.date.weekday" title="datetime.date.weekday"><tt class="xref py py-meth docutils literal"><span class="pre">weekday()</span></tt></a>, <a class="reference internal" href="#datetime.date.isocalendar" title="datetime.date.isocalendar"><tt class="xref py py-meth docutils literal"><span class="pre">isocalendar()</span></tt></a> も参照してください。</p>
</dd></dl>

<dl class="method">
<dt id="datetime.date.isocalendar">
<tt class="descclassname">date.</tt><tt class="descname">isocalendar</tt><big>(</big><big>)</big><a class="headerlink" href="#datetime.date.isocalendar" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>3 要素のタプル (ISO 年、ISO 週番号、ISO 曜日) を返します。</p>
<p>ISO カレンダーはグレゴリオ暦の変種として広く用いられています。細かい説明については
<a class="reference external" href="http://www.phys.uu.nl/~vgent/calendar/isocalendar.htm">http://www.phys.uu.nl/~vgent/calendar/isocalendar.htm</a> を参照してください。</p>
<p>ISO 年は完全な週が 52 または 53 週あり、週は月曜から始まって日曜に終わります。 ISO 年でのある年における最初の週は、その年の木曜日を含む最初の (グレゴリオ暦での) 週となります。この週は週番号 1 と呼ばれ、この木曜日での ISO 年はグレゴリオ暦における年と等しくなります。</p>
<p>例えば、 2004 年は木曜日から始まるため、ISO 年の最初の週は 2003 年
12 月 29 日、月曜日から始まり、 2004 年 1 月 4 日、日曜日に終わります。従って、 <tt class="docutils literal"><span class="pre">date(2003,</span> <span class="pre">12,</span> <span class="pre">29).isocalendar()</span> <span class="pre">==</span> <span class="pre">(2004,</span> <span class="pre">1,</span> <span class="pre">1)</span></tt>
であり、かつ <tt class="docutils literal"><span class="pre">date(2004,</span> <span class="pre">1,</span> <span class="pre">4).isocalendar()</span> <span class="pre">==</span> <span class="pre">(2004,</span> <span class="pre">1,</span> <span class="pre">7)</span></tt> となります。</p>
</dd></dl>

<dl class="method">
<dt id="datetime.date.isoformat">
<tt class="descclassname">date.</tt><tt class="descname">isoformat</tt><big>(</big><big>)</big><a class="headerlink" href="#datetime.date.isoformat" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>ISO 8601 形式、 &#8216;YYYY-MM-DD&#8217; の日付を表す文字列を返します。例えば、
<tt class="docutils literal"><span class="pre">date(2002,</span> <span class="pre">12,</span> <span class="pre">4).isoformat()</span> <span class="pre">==</span> <span class="pre">'2002-12-04'</span></tt> となります。</p>
</dd></dl>

<dl class="method">
<dt id="datetime.date.__str__">
<tt class="descclassname">date.</tt><tt class="descname">__str__</tt><big>(</big><big>)</big><a class="headerlink" href="#datetime.date.__str__" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><a class="reference internal" href="#datetime.date" title="datetime.date"><tt class="xref py py-class docutils literal"><span class="pre">date</span></tt></a> オブジェクト <em>d</em> において、 <tt class="docutils literal"><span class="pre">str(d)</span></tt> は
<tt class="docutils literal"><span class="pre">d.isoformat()</span></tt> と等価です。</p>
</dd></dl>

<dl class="method">
<dt id="datetime.date.ctime">
<tt class="descclassname">date.</tt><tt class="descname">ctime</tt><big>(</big><big>)</big><a class="headerlink" href="#datetime.date.ctime" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>日付を表す文字列を、例えば <tt class="docutils literal"><span class="pre">date(2002,</span> <span class="pre">12,</span> <span class="pre">4).ctime()</span> <span class="pre">==</span> <span class="pre">'Wed</span> <span class="pre">Dec</span>
<span class="pre">4</span> <span class="pre">00:00:00</span> <span class="pre">2002'</span></tt> のようにして返します。ネイティブの C 関数 <tt class="xref c c-func docutils literal"><span class="pre">ctime()</span></tt>
(<a class="reference internal" href="time.html#time.ctime" title="time.ctime"><tt class="xref py py-func docutils literal"><span class="pre">time.ctime()</span></tt></a> はこの関数を呼び出しますが、 <a class="reference internal" href="#datetime.date.ctime" title="datetime.date.ctime"><tt class="xref py py-meth docutils literal"><span class="pre">date.ctime()</span></tt></a>
は呼び出しません) が C 標準に準拠しているプラットフォームでは、
<tt class="docutils literal"><span class="pre">d.ctime()</span></tt> は <tt class="docutils literal"><span class="pre">time.ctime(time.mktime(d.timetuple()))</span></tt> と等価です。</p>
</dd></dl>

<dl class="method">
<dt id="datetime.date.strftime">
<tt class="descclassname">date.</tt><tt class="descname">strftime</tt><big>(</big><em>format</em><big>)</big><a class="headerlink" href="#datetime.date.strftime" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>明示的な書式化文字列で制御された、日付を表現する文字列を返します。時間、分、秒を表す書式化コードは値 0 になります。
<a class="reference internal" href="#strftime-strptime-behavior"><em>strftime() と strptime() の振る舞い</em></a> も参照下さい。</p>
</dd></dl>

<p>イベントまでの日数を数える例を示します:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">time</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">date</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">today</span> <span class="o">=</span> <span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">today</span>
<span class="go">datetime.date(2007, 12, 5)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">today</span> <span class="o">==</span> <span class="n">date</span><span class="o">.</span><span class="n">fromtimestamp</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">())</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_birthday</span> <span class="o">=</span> <span class="n">date</span><span class="p">(</span><span class="n">today</span><span class="o">.</span><span class="n">year</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">24</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="n">my_birthday</span> <span class="o">&lt;</span> <span class="n">today</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">my_birthday</span> <span class="o">=</span> <span class="n">my_birthday</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">year</span><span class="o">=</span><span class="n">today</span><span class="o">.</span><span class="n">year</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_birthday</span>
<span class="go">datetime.date(2008, 6, 24)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">time_to_birthday</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">my_birthday</span> <span class="o">-</span> <span class="n">today</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">time_to_birthday</span><span class="o">.</span><span class="n">days</span>
<span class="go">202</span>
</pre></div>
</div>
<p><a class="reference internal" href="#datetime.date" title="datetime.date"><tt class="xref py py-class docutils literal"><span class="pre">date</span></tt></a> と併用する例を示します:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">date</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">date</span><span class="o">.</span><span class="n">fromordinal</span><span class="p">(</span><span class="mi">730920</span><span class="p">)</span> <span class="c"># 西暦1年1月1日を1日目として730920日目</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span>
<span class="go">datetime.date(2002, 3, 11)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">timetuple</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">t</span><span class="p">:</span>     
<span class="gp">... </span>    <span class="k">print</span> <span class="n">i</span>
<span class="go">2002                # 年</span>
<span class="go">3                   # 月</span>
<span class="go">11                  # 日</span>
<span class="go">0</span>
<span class="go">0</span>
<span class="go">0</span>
<span class="go">0                   # 曜日 (0 = 月曜日)</span>
<span class="go">70                  # 一年の中で70日目</span>
<span class="go">-1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ic</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">isocalendar</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">ic</span><span class="p">:</span>    
<span class="gp">... </span>    <span class="k">print</span> <span class="n">i</span>
<span class="go">2002                # ISO 年</span>
<span class="go">11                  # ISO 週番号</span>
<span class="go">1                   # ISO 曜日番号 ( 1 = 月曜日 )</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span>
<span class="go">&#39;2002-03-11&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s">&quot;</span><span class="si">%d</span><span class="s">/%m/%y&quot;</span><span class="p">)</span>
<span class="go">&#39;11/03/02&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s">&quot;%A </span><span class="si">%d</span><span class="s">. %B %Y&quot;</span><span class="p">)</span>
<span class="go">&#39;Monday 11. March 2002&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="datetime-datetime">
<span id="id2"></span><h2>8.1.4. <a class="reference internal" href="#module-datetime" title="datetime: 基本的な日付型および時間型。"><tt class="xref py py-class docutils literal"><span class="pre">datetime</span></tt></a> オブジェクト<a class="headerlink" href="#datetime-datetime" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p><a class="reference internal" href="#module-datetime" title="datetime: 基本的な日付型および時間型。"><tt class="xref py py-class docutils literal"><span class="pre">datetime</span></tt></a> オブジェクトは <a class="reference internal" href="#datetime.date" title="datetime.date"><tt class="xref py py-class docutils literal"><span class="pre">date</span></tt></a> オブジェクトおよび
<a class="reference internal" href="time.html#module-time" title="time: 時刻データへのアクセスと変換"><tt class="xref py py-class docutils literal"><span class="pre">time</span></tt></a> オブジェクトの全ての情報が入っている単一のオブジェクトです。 <a class="reference internal" href="#datetime.date" title="datetime.date"><tt class="xref py py-class docutils literal"><span class="pre">date</span></tt></a> オブジェクトと同様に、 <a class="reference internal" href="#module-datetime" title="datetime: 基本的な日付型および時間型。"><tt class="xref py py-class docutils literal"><span class="pre">datetime</span></tt></a> は現在のグレゴリオ暦が両方向に延長されているものと仮定します; また、
<a class="reference internal" href="time.html#module-time" title="time: 時刻データへのアクセスと変換"><tt class="xref py py-class docutils literal"><span class="pre">time</span></tt></a> オブジェクトと同様に, <a class="reference internal" href="#module-datetime" title="datetime: 基本的な日付型および時間型。"><tt class="xref py py-class docutils literal"><span class="pre">datetime</span></tt></a> は毎日が厳密に
3600*24 秒であると仮定します。</p>
<p>以下にコンストラクタを示します:</p>
<dl class="class">
<dt id="datetime.datetime">
<em class="property">class </em><tt class="descclassname">datetime.</tt><tt class="descname">datetime</tt><big>(</big><em>year</em>, <em>month</em>, <em>day</em><span class="optional">[</span>, <em>hour</em><span class="optional">[</span>, <em>minute</em><span class="optional">[</span>, <em>second</em><span class="optional">[</span>, <em>microsecond</em><span class="optional">[</span>, <em>tzinfo</em><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><big>)</big><a class="headerlink" href="#datetime.datetime" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>年、月、および日の引数は必須です。 <em>tzinfo</em> は <tt class="docutils literal"><span class="pre">None</span></tt> または
<a class="reference internal" href="#datetime.tzinfo" title="datetime.tzinfo"><tt class="xref py py-class docutils literal"><span class="pre">tzinfo</span></tt></a> クラスのサブクラスのインスタンスにすることができます。残りの引数は整数または長整数で、以下のような範囲に入ります:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">MINYEAR</span> <span class="pre">&lt;=</span> <span class="pre">year</span> <span class="pre">&lt;=</span> <span class="pre">MAXYEAR</span></tt></li>
<li><tt class="docutils literal"><span class="pre">1</span> <span class="pre">&lt;=</span> <span class="pre">month</span> <span class="pre">&lt;=</span> <span class="pre">12</span></tt></li>
<li><tt class="docutils literal"><span class="pre">1</span> <span class="pre">&lt;=</span> <span class="pre">day</span> <span class="pre">&lt;=</span> <span class="pre">与えられた年と月における日数</span></tt></li>
<li><tt class="docutils literal"><span class="pre">0</span> <span class="pre">&lt;=</span> <span class="pre">hour</span> <span class="pre">&lt;</span> <span class="pre">24</span></tt></li>
<li><tt class="docutils literal"><span class="pre">0</span> <span class="pre">&lt;=</span> <span class="pre">minute</span> <span class="pre">&lt;</span> <span class="pre">60</span></tt></li>
<li><tt class="docutils literal"><span class="pre">0</span> <span class="pre">&lt;=</span> <span class="pre">second</span> <span class="pre">&lt;</span> <span class="pre">60</span></tt></li>
<li><tt class="docutils literal"><span class="pre">0</span> <span class="pre">&lt;=</span> <span class="pre">microsecond</span> <span class="pre">&lt;</span> <span class="pre">1000000</span></tt></li>
</ul>
<p>引数がこれらの範囲外にある場合、 <a class="reference internal" href="exceptions.html#exceptions.ValueError" title="exceptions.ValueError"><tt class="xref py py-exc docutils literal"><span class="pre">ValueError</span></tt></a> が送出されます。</p>
</dd></dl>

<p>その他のコンストラクタ、およびクラスメソッドを以下に示します:</p>
<dl class="classmethod">
<dt id="datetime.datetime.today">
<em class="property">classmethod </em><tt class="descclassname">datetime.</tt><tt class="descname">today</tt><big>(</big><big>)</big><a class="headerlink" href="#datetime.datetime.today" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>現在のローカルな <a class="reference internal" href="#module-datetime" title="datetime: 基本的な日付型および時間型。"><tt class="xref py py-class docutils literal"><span class="pre">datetime</span></tt></a> を <a class="reference internal" href="#datetime.tzinfo" title="datetime.tzinfo"><tt class="xref py py-attr docutils literal"><span class="pre">tzinfo</span></tt></a> が <tt class="docutils literal"><span class="pre">None</span></tt> であるものとして返します。これは
<tt class="docutils literal"><span class="pre">datetime.fromtimestamp(time.time())</span></tt> と等価です。 <a class="reference internal" href="#datetime.datetime.now" title="datetime.datetime.now"><tt class="xref py py-meth docutils literal"><span class="pre">now()</span></tt></a>,
<a class="reference internal" href="#datetime.datetime.fromtimestamp" title="datetime.datetime.fromtimestamp"><tt class="xref py py-meth docutils literal"><span class="pre">fromtimestamp()</span></tt></a> も参照してください。</p>
</dd></dl>

<dl class="classmethod">
<dt id="datetime.datetime.now">
<em class="property">classmethod </em><tt class="descclassname">datetime.</tt><tt class="descname">now</tt><big>(</big><span class="optional">[</span><em>tz</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#datetime.datetime.now" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>現在のローカルな日付および時刻を返します。オプションの引数 <em>tz</em> が
<tt class="docutils literal"><span class="pre">None</span></tt> であるか指定されていない場合、このメソッドは
<a class="reference internal" href="#datetime.datetime.today" title="datetime.datetime.today"><tt class="xref py py-meth docutils literal"><span class="pre">today()</span></tt></a> と同様ですが、可能ならば <a class="reference internal" href="time.html#time.time" title="time.time"><tt class="xref py py-func docutils literal"><span class="pre">time.time()</span></tt></a> タイムスタンプを通じて得ることができる、より高い精度で時刻を提供します (例えば、プラットフォームが C  関数 <tt class="xref c c-func docutils literal"><span class="pre">gettimeofday()</span></tt> をサポートする場合には可能なことがあります)。</p>
<p>そうでない場合、 <em>tz</em> はクラス <a class="reference internal" href="#datetime.tzinfo" title="datetime.tzinfo"><tt class="xref py py-class docutils literal"><span class="pre">tzinfo</span></tt></a> のサブクラスのインスタンスでなければならず、現在の日付および時刻は <em>tz</em> のタイムゾーンに変換されます。この場合、結果は
<tt class="docutils literal"><span class="pre">tz.fromutc(datetime.utcnow().replace(tzinfo=tz))</span></tt> と等価になります。 <a class="reference internal" href="#datetime.datetime.today" title="datetime.datetime.today"><tt class="xref py py-meth docutils literal"><span class="pre">today()</span></tt></a>, <a class="reference internal" href="#datetime.datetime.utcnow" title="datetime.datetime.utcnow"><tt class="xref py py-meth docutils literal"><span class="pre">utcnow()</span></tt></a> も参照してください。</p>
</dd></dl>

<dl class="classmethod">
<dt id="datetime.datetime.utcnow">
<em class="property">classmethod </em><tt class="descclassname">datetime.</tt><tt class="descname">utcnow</tt><big>(</big><big>)</big><a class="headerlink" href="#datetime.datetime.utcnow" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>現在の UTC における日付と時刻を、 <a class="reference internal" href="#datetime.tzinfo" title="datetime.tzinfo"><tt class="xref py py-attr docutils literal"><span class="pre">tzinfo</span></tt></a> が <tt class="docutils literal"><span class="pre">None</span></tt> であるものとして返します。このメソッドは <a class="reference internal" href="#datetime.datetime.now" title="datetime.datetime.now"><tt class="xref py py-meth docutils literal"><span class="pre">now()</span></tt></a> に似ていますが、現在の UTC における日付と時刻を naive な <a class="reference internal" href="#module-datetime" title="datetime: 基本的な日付型および時間型。"><tt class="xref py py-class docutils literal"><span class="pre">datetime</span></tt></a> オブジェクトとして返します。 <a class="reference internal" href="#datetime.datetime.now" title="datetime.datetime.now"><tt class="xref py py-meth docutils literal"><span class="pre">now()</span></tt></a> も参照してください。</p>
</dd></dl>

<dl class="classmethod">
<dt id="datetime.datetime.fromtimestamp">
<em class="property">classmethod </em><tt class="descclassname">datetime.</tt><tt class="descname">fromtimestamp</tt><big>(</big><em>timestamp</em><span class="optional">[</span>, <em>tz</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#datetime.datetime.fromtimestamp" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><a class="reference internal" href="time.html#time.time" title="time.time"><tt class="xref py py-func docutils literal"><span class="pre">time.time()</span></tt></a> が返すような、 POSIX タイムスタンプに対応するローカルな日付と時刻を返します。オプションの引数 <em>tz</em> が <tt class="docutils literal"><span class="pre">None</span></tt> であるか、指定されていない場合、タイムスタンプはプラットフォームのローカルな日付および時刻に変換され、返される <a class="reference internal" href="#module-datetime" title="datetime: 基本的な日付型および時間型。"><tt class="xref py py-class docutils literal"><span class="pre">datetime</span></tt></a> オブジェクトは naive なものになります。</p>
<p>そうでない場合、 <em>tz</em> はクラス <a class="reference internal" href="#datetime.tzinfo" title="datetime.tzinfo"><tt class="xref py py-class docutils literal"><span class="pre">tzinfo</span></tt></a> のサブクラスのインスタンスでなければならず、現在の日付および時刻は <em>tz</em> のタイムゾーンに変換されます。この場合、結果は
<tt class="docutils literal"><span class="pre">tz.fromutc(datetime.utcfromtimestamp(timestamp).replace(tzinfo=tz))</span></tt>
と等価になります。</p>
<p>タイムスタンプがプラットフォームの C 関数 <tt class="xref c c-func docutils literal"><span class="pre">localtime()</span></tt> や
<tt class="xref c c-func docutils literal"><span class="pre">gmtime()</span></tt> でサポートされている範囲を超えた場合、
<a class="reference internal" href="#datetime.datetime.fromtimestamp" title="datetime.datetime.fromtimestamp"><tt class="xref py py-meth docutils literal"><span class="pre">fromtimestamp()</span></tt></a> は <a class="reference internal" href="exceptions.html#exceptions.ValueError" title="exceptions.ValueError"><tt class="xref py py-exc docutils literal"><span class="pre">ValueError</span></tt></a> を送出することがあります。この範囲はよく 1970 年から 2038 年に制限されています。うるう秒がタイムスタンプの概念に含まれている非 POSIX システムでは、
<a class="reference internal" href="#datetime.datetime.fromtimestamp" title="datetime.datetime.fromtimestamp"><tt class="xref py py-meth docutils literal"><span class="pre">fromtimestamp()</span></tt></a> はうるう秒を無視します。このため、秒の異なる二つのタイムスタンプが同一の <a class="reference internal" href="#module-datetime" title="datetime: 基本的な日付型および時間型。"><tt class="xref py py-class docutils literal"><span class="pre">datetime</span></tt></a> オブジェクトとなることが起こり得ます。
<a class="reference internal" href="#datetime.datetime.utcfromtimestamp" title="datetime.datetime.utcfromtimestamp"><tt class="xref py py-meth docutils literal"><span class="pre">utcfromtimestamp()</span></tt></a> も参照してください。</p>
</dd></dl>

<dl class="classmethod">
<dt id="datetime.datetime.utcfromtimestamp">
<em class="property">classmethod </em><tt class="descclassname">datetime.</tt><tt class="descname">utcfromtimestamp</tt><big>(</big><em>timestamp</em><big>)</big><a class="headerlink" href="#datetime.datetime.utcfromtimestamp" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><a class="reference internal" href="time.html#time.time" title="time.time"><tt class="xref py py-func docutils literal"><span class="pre">time.time()</span></tt></a> が返すような POSIX タイムスタンプに対応する、 UTC
での <a class="reference internal" href="#module-datetime" title="datetime: 基本的な日付型および時間型。"><tt class="xref py py-class docutils literal"><span class="pre">datetime</span></tt></a> オブジェクトを返します。タイムスタンプがプラットフォームにおける C 関数 <tt class="xref c c-func docutils literal"><span class="pre">localtime()</span></tt> でサポートされている範囲を超えている場合には <a class="reference internal" href="exceptions.html#exceptions.ValueError" title="exceptions.ValueError"><tt class="xref py py-exc docutils literal"><span class="pre">ValueError</span></tt></a> を送出します。この値はよく 1970 年から 2038 年に制限されていることがあります。
<a class="reference internal" href="#datetime.datetime.fromtimestamp" title="datetime.datetime.fromtimestamp"><tt class="xref py py-meth docutils literal"><span class="pre">fromtimestamp()</span></tt></a> も参照してください。</p>
</dd></dl>

<dl class="classmethod">
<dt id="datetime.datetime.fromordinal">
<em class="property">classmethod </em><tt class="descclassname">datetime.</tt><tt class="descname">fromordinal</tt><big>(</big><em>ordinal</em><big>)</big><a class="headerlink" href="#datetime.datetime.fromordinal" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>1 年 1 月 1 日を序数 1 とする予測的グレゴリオ暦序数に対応する
<a class="reference internal" href="#module-datetime" title="datetime: 基本的な日付型および時間型。"><tt class="xref py py-class docutils literal"><span class="pre">datetime</span></tt></a> オブジェクトを返します。 <tt class="docutils literal"><span class="pre">1</span> <span class="pre">&lt;=</span> <span class="pre">ordinal</span> <span class="pre">&lt;=</span>
<span class="pre">datetime.max.toordinal()</span></tt> でないかぎり <a class="reference internal" href="exceptions.html#exceptions.ValueError" title="exceptions.ValueError"><tt class="xref py py-exc docutils literal"><span class="pre">ValueError</span></tt></a> が送出されます。結果として返されるオブジェクトの時間、分、秒、およびマイクロ秒はすべて 0 となり、 <a class="reference internal" href="#datetime.tzinfo" title="datetime.tzinfo"><tt class="xref py py-attr docutils literal"><span class="pre">tzinfo</span></tt></a> は <tt class="docutils literal"><span class="pre">None</span></tt> となります。</p>
</dd></dl>

<dl class="classmethod">
<dt id="datetime.datetime.combine">
<em class="property">classmethod </em><tt class="descclassname">datetime.</tt><tt class="descname">combine</tt><big>(</big><em>date</em>, <em>time</em><big>)</big><a class="headerlink" href="#datetime.datetime.combine" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>与えられた <a class="reference internal" href="#datetime.date" title="datetime.date"><tt class="xref py py-class docutils literal"><span class="pre">date</span></tt></a> オブジェクトと同じデータメンバを持ち、時刻と <a class="reference internal" href="#datetime.tzinfo" title="datetime.tzinfo"><tt class="xref py py-attr docutils literal"><span class="pre">tzinfo</span></tt></a> メンバが与えられた <a class="reference internal" href="time.html#module-time" title="time: 時刻データへのアクセスと変換"><tt class="xref py py-class docutils literal"><span class="pre">time</span></tt></a> オブジェクトと等しい、新たな <a class="reference internal" href="#module-datetime" title="datetime: 基本的な日付型および時間型。"><tt class="xref py py-class docutils literal"><span class="pre">datetime</span></tt></a> オブジェクトを返します。任意の
<a class="reference internal" href="#module-datetime" title="datetime: 基本的な日付型および時間型。"><tt class="xref py py-class docutils literal"><span class="pre">datetime</span></tt></a> オブジェクト <em>d</em> について、 <tt class="docutils literal"><span class="pre">d</span> <span class="pre">==</span>
<span class="pre">datetime.combine(d.date(),</span> <span class="pre">d.timetz())</span></tt> となります。 <em>date</em> が
<a class="reference internal" href="#module-datetime" title="datetime: 基本的な日付型および時間型。"><tt class="xref py py-class docutils literal"><span class="pre">datetime</span></tt></a> オブジェクトの場合、その時刻と <a class="reference internal" href="#datetime.tzinfo" title="datetime.tzinfo"><tt class="xref py py-attr docutils literal"><span class="pre">tzinfo</span></tt></a> は無視されます。</p>
</dd></dl>

<dl class="classmethod">
<dt id="datetime.datetime.strptime">
<em class="property">classmethod </em><tt class="descclassname">datetime.</tt><tt class="descname">strptime</tt><big>(</big><em>date_string</em>, <em>format</em><big>)</big><a class="headerlink" href="#datetime.datetime.strptime" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><em>date_string</em> に対応した <a class="reference internal" href="#module-datetime" title="datetime: 基本的な日付型および時間型。"><tt class="xref py py-class docutils literal"><span class="pre">datetime</span></tt></a> をかえします。 <em>format</em>
にしたがって構文解析されます。これは、
<tt class="docutils literal"><span class="pre">datetime(*(time.strptime(date_string,</span> <span class="pre">format)[0:6]))</span></tt> と等価です。
date_stringとformatが <a class="reference internal" href="time.html#time.strptime" title="time.strptime"><tt class="xref py py-func docutils literal"><span class="pre">time.strptime()</span></tt></a> で構文解析できない場合や、この関数が時刻タプルを返してこない場合には <a class="reference internal" href="exceptions.html#exceptions.ValueError" title="exceptions.ValueError"><tt class="xref py py-exc docutils literal"><span class="pre">ValueError</span></tt></a> を送出します。セクション <a class="reference internal" href="#strftime-strptime-behavior"><em>strftime() と strptime() の振る舞い</em></a> を参照して下さい。</p>
<p class="versionadded">
<span class="versionmodified">バージョン 2.5 で追加.</span></p>
</dd></dl>

<p>以下にクラス属性を示します:</p>
<dl class="attribute">
<dt id="datetime.datetime.min">
<tt class="descclassname">datetime.</tt><tt class="descname">min</tt><a class="headerlink" href="#datetime.datetime.min" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>表現できる最も古い <a class="reference internal" href="#module-datetime" title="datetime: 基本的な日付型および時間型。"><tt class="xref py py-class docutils literal"><span class="pre">datetime</span></tt></a> で、 <tt class="docutils literal"><span class="pre">datetime(MINYEAR,</span> <span class="pre">1,</span> <span class="pre">1,</span>
<span class="pre">tzinfo=None)</span></tt> です。</p>
</dd></dl>

<dl class="attribute">
<dt id="datetime.datetime.max">
<tt class="descclassname">datetime.</tt><tt class="descname">max</tt><a class="headerlink" href="#datetime.datetime.max" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>表現できる最も新しい <a class="reference internal" href="#module-datetime" title="datetime: 基本的な日付型および時間型。"><tt class="xref py py-class docutils literal"><span class="pre">datetime</span></tt></a> で、 <tt class="docutils literal"><span class="pre">datetime(MAXYEAR,</span> <span class="pre">12,</span>
<span class="pre">31,</span> <span class="pre">23,</span> <span class="pre">59,</span> <span class="pre">59,</span> <span class="pre">999999,</span> <span class="pre">tzinfo=None)</span></tt> です。</p>
</dd></dl>

<dl class="attribute">
<dt id="datetime.datetime.resolution">
<tt class="descclassname">datetime.</tt><tt class="descname">resolution</tt><a class="headerlink" href="#datetime.datetime.resolution" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>等しくない <a class="reference internal" href="#module-datetime" title="datetime: 基本的な日付型および時間型。"><tt class="xref py py-class docutils literal"><span class="pre">datetime</span></tt></a> オブジェクト間の最小の差で、
<tt class="docutils literal"><span class="pre">timedelta(microseconds=1)</span></tt> です。</p>
</dd></dl>

<p>以下に (読み出し専用の) インスタンス属性を示します:</p>
<dl class="attribute">
<dt id="datetime.datetime.year">
<tt class="descclassname">datetime.</tt><tt class="descname">year</tt><a class="headerlink" href="#datetime.datetime.year" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>両端値を含む <a class="reference internal" href="#datetime.MINYEAR" title="datetime.MINYEAR"><tt class="xref py py-const docutils literal"><span class="pre">MINYEAR</span></tt></a> から <a class="reference internal" href="#datetime.MAXYEAR" title="datetime.MAXYEAR"><tt class="xref py py-const docutils literal"><span class="pre">MAXYEAR</span></tt></a> までの値です。</p>
</dd></dl>

<dl class="attribute">
<dt id="datetime.datetime.month">
<tt class="descclassname">datetime.</tt><tt class="descname">month</tt><a class="headerlink" href="#datetime.datetime.month" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>両端値を含む 1 から 12 までの値です。</p>
</dd></dl>

<dl class="attribute">
<dt id="datetime.datetime.day">
<tt class="descclassname">datetime.</tt><tt class="descname">day</tt><a class="headerlink" href="#datetime.datetime.day" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>1 から与えられた月と年における日数までの値です。</p>
</dd></dl>

<dl class="attribute">
<dt id="datetime.datetime.hour">
<tt class="descclassname">datetime.</tt><tt class="descname">hour</tt><a class="headerlink" href="#datetime.datetime.hour" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><tt class="docutils literal"><span class="pre">range(24)</span></tt> 内の値です。</p>
</dd></dl>

<dl class="attribute">
<dt id="datetime.datetime.minute">
<tt class="descclassname">datetime.</tt><tt class="descname">minute</tt><a class="headerlink" href="#datetime.datetime.minute" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><tt class="docutils literal"><span class="pre">range(60)</span></tt> 内の値です。</p>
</dd></dl>

<dl class="attribute">
<dt id="datetime.datetime.second">
<tt class="descclassname">datetime.</tt><tt class="descname">second</tt><a class="headerlink" href="#datetime.datetime.second" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><tt class="docutils literal"><span class="pre">range(60)</span></tt> 内の値です。</p>
</dd></dl>

<dl class="attribute">
<dt id="datetime.datetime.microsecond">
<tt class="descclassname">datetime.</tt><tt class="descname">microsecond</tt><a class="headerlink" href="#datetime.datetime.microsecond" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><tt class="docutils literal"><span class="pre">range(1000000)</span></tt> 内の値です。</p>
</dd></dl>

<dl class="attribute">
<dt id="datetime.datetime.tzinfo">
<tt class="descclassname">datetime.</tt><tt class="descname">tzinfo</tt><a class="headerlink" href="#datetime.datetime.tzinfo" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><a class="reference internal" href="#module-datetime" title="datetime: 基本的な日付型および時間型。"><tt class="xref py py-class docutils literal"><span class="pre">datetime</span></tt></a> コンストラクタに <em>tzinfo</em> 引数として与えられたオブジェクトになり、何も渡されなかった場合には <tt class="docutils literal"><span class="pre">None</span></tt> になります。</p>
</dd></dl>

<p>以下にサポートされている演算を示します:</p>
<table border="1" class="docutils">
<colgroup>
<col width="41%" />
<col width="59%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">演算</th>
<th class="head">結果</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">datetime2</span> <span class="pre">=</span> <span class="pre">datetime1</span> <span class="pre">+</span> <span class="pre">timedelta</span></tt></td>
<td>(1)</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">datetime2</span> <span class="pre">=</span> <span class="pre">datetime1</span> <span class="pre">-</span> <span class="pre">timedelta</span></tt></td>
<td>(2)</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">timedelta</span> <span class="pre">=</span> <span class="pre">datetime1</span> <span class="pre">-</span> <span class="pre">datetime2</span></tt></td>
<td>(3)</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">datetime1</span> <span class="pre">&lt;</span> <span class="pre">datetime2</span></tt></td>
<td><a class="reference internal" href="#module-datetime" title="datetime: 基本的な日付型および時間型。"><tt class="xref py py-class docutils literal"><span class="pre">datetime</span></tt></a> を <a class="reference internal" href="#module-datetime" title="datetime: 基本的な日付型および時間型。"><tt class="xref py py-class docutils literal"><span class="pre">datetime</span></tt></a> と比較します。
(4)</td>
</tr>
</tbody>
</table>
<ol class="arabic">
<li><p class="first">datetime2 は datetime1 から時間 timedelta 移動したもので、
<tt class="docutils literal"><span class="pre">timedelta.days</span> <span class="pre">&gt;</span> <span class="pre">0</span></tt> の場合進む方向に、 <tt class="docutils literal"><span class="pre">timedelta.days</span> <span class="pre">&lt;</span> <span class="pre">0</span></tt> の場合戻る方向に移動します。結果は入力の datetime と同じ
<a class="reference internal" href="#datetime.tzinfo" title="datetime.tzinfo"><tt class="xref py py-attr docutils literal"><span class="pre">tzinfo</span></tt></a> を持ち、演算後には datetime2 - datetime1 ==
timedelta となります。 datetime2.year が <a class="reference internal" href="#datetime.MINYEAR" title="datetime.MINYEAR"><tt class="xref py py-const docutils literal"><span class="pre">MINYEAR</span></tt></a> よりも小さいか、 <a class="reference internal" href="#datetime.MAXYEAR" title="datetime.MAXYEAR"><tt class="xref py py-const docutils literal"><span class="pre">MAXYEAR</span></tt></a> より大きい場合には <a class="reference internal" href="exceptions.html#exceptions.OverflowError" title="exceptions.OverflowError"><tt class="xref py py-exc docutils literal"><span class="pre">OverflowError</span></tt></a>
が送出されます。入力が aware なオブジェクトの場合でもタイムゾーン修正は全く行われません。</p>
</li>
<li><p class="first">datetime2 + timedelta == datetime1 となるような datetime2 を計算します。ちなみに、結果は入力の datetime と同じ <a class="reference internal" href="#datetime.tzinfo" title="datetime.tzinfo"><tt class="xref py py-attr docutils literal"><span class="pre">tzinfo</span></tt></a> メンバを持ち、入力が aware でもタイムゾーン修正は全く行われません。この操作は date1 + (-timedelta) と等価ではありません。なぜならば、
date1 - timedeltaがオーバフローしない場合でも、-timedelta 単体がオーバフローする可能性があるからです。</p>
</li>
<li><p class="first"><a class="reference internal" href="#module-datetime" title="datetime: 基本的な日付型および時間型。"><tt class="xref py py-class docutils literal"><span class="pre">datetime</span></tt></a> から <a class="reference internal" href="#module-datetime" title="datetime: 基本的な日付型および時間型。"><tt class="xref py py-class docutils literal"><span class="pre">datetime</span></tt></a> の減算は両方の被演算子が
naive であるか、両方とも aware である場合にのみ定義されています。片方が aware でもう一方が naive の場合、 <a class="reference internal" href="exceptions.html#exceptions.TypeError" title="exceptions.TypeError"><tt class="xref py py-exc docutils literal"><span class="pre">TypeError</span></tt></a> が送出されます。</p>
<p>両方とも naive か、両方とも aware で同じ <a class="reference internal" href="#datetime.tzinfo" title="datetime.tzinfo"><tt class="xref py py-attr docutils literal"><span class="pre">tzinfo</span></tt></a> メンバを持つ場合、 <a class="reference internal" href="#datetime.tzinfo" title="datetime.tzinfo"><tt class="xref py py-attr docutils literal"><span class="pre">tzinfo</span></tt></a> メンバは無視され、結果は <tt class="docutils literal"><span class="pre">datetime2</span> <span class="pre">+</span> <span class="pre">t</span> <span class="pre">==</span>
<span class="pre">datetime1</span></tt> であるような <a class="reference internal" href="#datetime.timedelta" title="datetime.timedelta"><tt class="xref py py-class docutils literal"><span class="pre">timedelta</span></tt></a> オブジェクト <em>t</em> となります。この場合タイムゾーン修正は全く行われません。</p>
<p>両方が aware で異なる <a class="reference internal" href="#datetime.tzinfo" title="datetime.tzinfo"><tt class="xref py py-attr docutils literal"><span class="pre">tzinfo</span></tt></a> メンバを持つ場合、 <tt class="docutils literal"><span class="pre">a-b</span></tt> は
<em>a</em> および <em>b</em> をまず naive な UTC datetime オブジェクトに変換したかのようにして行います。演算結果は決してオーバフローを起こさないことを除き、
<tt class="docutils literal"><span class="pre">(a.replace(tzinfo=None)</span> <span class="pre">-</span> <span class="pre">a.utcoffset())</span> <span class="pre">-</span> <span class="pre">(b.replace(tzinfo=None)</span> <span class="pre">-</span>
<span class="pre">b.utcoffset())</span></tt> と同じになります。</p>
</li>
<li><p class="first"><em>datetime1</em> が時刻として <em>datetime2</em> よりも前を表す場合に、
<em>datetime1</em> は <em>datetime2</em> よりも小さいと見なされます。</p>
<p>被演算子の片方が naive でもう一方が aware の場合、 <a class="reference internal" href="exceptions.html#exceptions.TypeError" title="exceptions.TypeError"><tt class="xref py py-exc docutils literal"><span class="pre">TypeError</span></tt></a>
が送出されます。両方の被演算子が aware で、同じ <a class="reference internal" href="#datetime.tzinfo" title="datetime.tzinfo"><tt class="xref py py-attr docutils literal"><span class="pre">tzinfo</span></tt></a> メンバを持つ場合、共通の <a class="reference internal" href="#datetime.tzinfo" title="datetime.tzinfo"><tt class="xref py py-attr docutils literal"><span class="pre">tzinfo</span></tt></a> メンバは無視され、基本の
datetime 間の比較が行われます。両方の被演算子が aware で異なる <a class="reference internal" href="#datetime.tzinfo" title="datetime.tzinfo"><tt class="xref py py-attr docutils literal"><span class="pre">tzinfo</span></tt></a> メンバを持つ場合、被演算子はまず (<tt class="docutils literal"><span class="pre">self.utcoffset()</span></tt> で得られる) UTC オフセットで修正されます。</p>
<div class="admonition note">
<p class="first admonition-title">ノート</p>
<p class="last">型混合の比較がデフォルトのオブジェクトアドレス比較となってしまうのを抑止するために、被演算子のもう一方が <tt class="xref py py-class docutils literal"><span class="pre">datatime</span></tt> オブジェクトと異なる型のオブジェクトの場合には <a class="reference internal" href="exceptions.html#exceptions.TypeError" title="exceptions.TypeError"><tt class="xref py py-exc docutils literal"><span class="pre">TypeError</span></tt></a> が送出されます。しかしながら、被比較演算子のもう一方が
<tt class="xref py py-meth docutils literal"><span class="pre">timetuple()</span></tt> 属性を持つ場合には <tt class="docutils literal"><span class="pre">NotImplemented</span></tt> が返されます。このフックにより、他種の日付オブジェクトに型混合比較を実装するチャンスを与えています。そうでない場合, <a class="reference internal" href="#module-datetime" title="datetime: 基本的な日付型および時間型。"><tt class="xref py py-class docutils literal"><span class="pre">datetime</span></tt></a> オブジェクトと異なる型のオブジェクトが比較されると、比較演算子が
<tt class="docutils literal"><span class="pre">==</span></tt> または <tt class="docutils literal"><span class="pre">!=</span></tt> でないかぎり <a class="reference internal" href="exceptions.html#exceptions.TypeError" title="exceptions.TypeError"><tt class="xref py py-exc docutils literal"><span class="pre">TypeError</span></tt></a> が送出されます。後者の場合、それぞれ <a class="reference internal" href="constants.html#False" title="False"><tt class="xref py py-const docutils literal"><span class="pre">False</span></tt></a> または <a class="reference internal" href="constants.html#True" title="True"><tt class="xref py py-const docutils literal"><span class="pre">True</span></tt></a> を返します。</p>
</div>
</li>
</ol>
<p><a class="reference internal" href="#module-datetime" title="datetime: 基本的な日付型および時間型。"><tt class="xref py py-class docutils literal"><span class="pre">datetime</span></tt></a> オブジェクトは辞書のキーとして用いることができます。ブール演算コンテキストでは、全ての <a class="reference internal" href="#module-datetime" title="datetime: 基本的な日付型および時間型。"><tt class="xref py py-class docutils literal"><span class="pre">datetime</span></tt></a> オブジェクトは真であるとみなされます。</p>
<p>インスタンスメソッドを以下に示します:</p>
<dl class="method">
<dt id="datetime.datetime.date">
<tt class="descclassname">datetime.</tt><tt class="descname">date</tt><big>(</big><big>)</big><a class="headerlink" href="#datetime.datetime.date" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>同じ年、月、日の <a class="reference internal" href="#datetime.date" title="datetime.date"><tt class="xref py py-class docutils literal"><span class="pre">date</span></tt></a> オブジェクトを返します。</p>
</dd></dl>

<dl class="method">
<dt id="datetime.datetime.time">
<tt class="descclassname">datetime.</tt><tt class="descname">time</tt><big>(</big><big>)</big><a class="headerlink" href="#datetime.datetime.time" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>同じ時、分、秒、マイクロ秒を持つ <a class="reference internal" href="time.html#module-time" title="time: 時刻データへのアクセスと変換"><tt class="xref py py-class docutils literal"><span class="pre">time</span></tt></a> オブジェクトを返します。 <a class="reference internal" href="#datetime.tzinfo" title="datetime.tzinfo"><tt class="xref py py-attr docutils literal"><span class="pre">tzinfo</span></tt></a> は <tt class="docutils literal"><span class="pre">None</span></tt> です。 <a class="reference internal" href="#datetime.datetime.timetz" title="datetime.datetime.timetz"><tt class="xref py py-meth docutils literal"><span class="pre">timetz()</span></tt></a> も参照してください。</p>
</dd></dl>

<dl class="method">
<dt id="datetime.datetime.timetz">
<tt class="descclassname">datetime.</tt><tt class="descname">timetz</tt><big>(</big><big>)</big><a class="headerlink" href="#datetime.datetime.timetz" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>同じ時、分、秒、マイクロ秒、および tzinfo メンバを持つ
<a class="reference internal" href="time.html#module-time" title="time: 時刻データへのアクセスと変換"><tt class="xref py py-class docutils literal"><span class="pre">time</span></tt></a> オブジェクトを返します。 <a class="reference internal" href="time.html#module-time" title="time: 時刻データへのアクセスと変換"><tt class="xref py py-meth docutils literal"><span class="pre">time()</span></tt></a> メソッドも参照してください。</p>
</dd></dl>

<dl class="method">
<dt id="datetime.datetime.replace">
<tt class="descclassname">datetime.</tt><tt class="descname">replace</tt><big>(</big><span class="optional">[</span><em>year</em><span class="optional">[</span>, <em>month</em><span class="optional">[</span>, <em>day</em><span class="optional">[</span>, <em>hour</em><span class="optional">[</span>, <em>minute</em><span class="optional">[</span>, <em>second</em><span class="optional">[</span>, <em>microsecond</em><span class="optional">[</span>, <em>tzinfo</em><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><big>)</big><a class="headerlink" href="#datetime.datetime.replace" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>キーワード引数で指定したメンバの値を除き、同じ値をもつ datetime  オブジェクトを返します。メンバに対する変換を行わずに aware な
datetime オブジェクトから naive な datetime オブジェクトを生成するために、 <tt class="docutils literal"><span class="pre">tzinfo=None</span></tt> を指定することもできます。</p>
</dd></dl>

<dl class="method">
<dt id="datetime.datetime.astimezone">
<tt class="descclassname">datetime.</tt><tt class="descname">astimezone</tt><big>(</big><em>tz</em><big>)</big><a class="headerlink" href="#datetime.datetime.astimezone" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><a class="reference internal" href="#module-datetime" title="datetime: 基本的な日付型および時間型。"><tt class="xref py py-class docutils literal"><span class="pre">datetime</span></tt></a> オブジェクトを返します。返されるオブジェクトは新たな <a class="reference internal" href="#datetime.tzinfo" title="datetime.tzinfo"><tt class="xref py py-attr docutils literal"><span class="pre">tzinfo</span></tt></a> メンバ <em>tz</em> を持ちます。 <em>tz</em> は日付および時刻を調整して、オブジェクトが <em>self</em> と同じ UTC 時刻を持つが、 <em>tz</em> におけるローカルな時刻を表すようにします。</p>
<p><em>tz</em> は <a class="reference internal" href="#datetime.tzinfo" title="datetime.tzinfo"><tt class="xref py py-class docutils literal"><span class="pre">tzinfo</span></tt></a> のサブクラスのインスタンスでなければならず、インスタンスの <a class="reference internal" href="#datetime.datetime.utcoffset" title="datetime.datetime.utcoffset"><tt class="xref py py-meth docutils literal"><span class="pre">utcoffset()</span></tt></a> および <a class="reference internal" href="#datetime.datetime.dst" title="datetime.datetime.dst"><tt class="xref py py-meth docutils literal"><span class="pre">dst()</span></tt></a> メソッドは
<tt class="docutils literal"><span class="pre">None</span></tt> を返してはなりません。 <em>self</em> は aware でなくてはなりません (<tt class="docutils literal"><span class="pre">self.tzinfo</span></tt> が <tt class="docutils literal"><span class="pre">None</span></tt> であってはならず、かつ
<tt class="docutils literal"><span class="pre">self.utcoffset()</span></tt> は <tt class="docutils literal"><span class="pre">None</span></tt> を返してはなりません)。</p>
<p><tt class="docutils literal"><span class="pre">self.tzinfo</span></tt> が <em>tz</em> の場合、 <tt class="docutils literal"><span class="pre">self.astimezone(tz)</span></tt> は <em>self</em>
に等しくなります:
日付および時刻データメンバに対する調整は行われません。そうでない場合、結果はタイムゾーン <em>tz</em> におけるローカル時刻で、 <em>self</em> と同じ
UTC 時刻を表すようになります: <tt class="docutils literal"><span class="pre">astz</span> <span class="pre">=</span> <span class="pre">dt.astimezone(tz)</span></tt> とした後、
<tt class="docutils literal"><span class="pre">astz</span> <span class="pre">-</span> <span class="pre">astz.utcoffset()</span></tt> は通常 <tt class="docutils literal"><span class="pre">dt</span> <span class="pre">-</span> <span class="pre">dt.utcoffset()</span></tt> と同じ日付および時刻データメンバを持ちます。 <a class="reference internal" href="#datetime.tzinfo" title="datetime.tzinfo"><tt class="xref py py-class docutils literal"><span class="pre">tzinfo</span></tt></a> クラスに関する議論では、夏時間 (Daylight Saving time) の遷移境界では上の等価性が成り立たないことを説明しています (<em>tz</em> が標準時と夏時間の両方をモデル化している場合のみの問題です)。</p>
<p>単にタイムゾーンオブジェクト <em>tz</em> を <a class="reference internal" href="#module-datetime" title="datetime: 基本的な日付型および時間型。"><tt class="xref py py-class docutils literal"><span class="pre">datetime</span></tt></a> オブジェクト
<em>dt</em> に追加したいだけで、日付や時刻データメンバへの調整を行わないのなら、 <tt class="docutils literal"><span class="pre">dt.replace(tzinfo=tz)</span></tt> を使ってください。単に aware な <a class="reference internal" href="#module-datetime" title="datetime: 基本的な日付型および時間型。"><tt class="xref py py-class docutils literal"><span class="pre">datetime</span></tt></a>
オブジェクト <em>dt</em> からタイムゾーンオブジェクトを除去したいだけで、日付や時刻データメンバの変換を行わないのなら、
<tt class="docutils literal"><span class="pre">dt.replace(tzinfo=None)</span></tt> を使ってください。</p>
<p>デフォルトの <a class="reference internal" href="#datetime.tzinfo.fromutc" title="datetime.tzinfo.fromutc"><tt class="xref py py-meth docutils literal"><span class="pre">tzinfo.fromutc()</span></tt></a> メソッドを <a class="reference internal" href="#datetime.tzinfo" title="datetime.tzinfo"><tt class="xref py py-class docutils literal"><span class="pre">tzinfo</span></tt></a>
のサブクラスで上書きして, <a class="reference internal" href="#datetime.datetime.astimezone" title="datetime.datetime.astimezone"><tt class="xref py py-meth docutils literal"><span class="pre">astimezone()</span></tt></a> が返す結果に影響を及ぼすことができます。エラーの場合を無視すると、
<a class="reference internal" href="#datetime.datetime.astimezone" title="datetime.datetime.astimezone"><tt class="xref py py-meth docutils literal"><span class="pre">astimezone()</span></tt></a> は以下のように動作します:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">astimezone</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tz</span><span class="p">):</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">tzinfo</span> <span class="ow">is</span> <span class="n">tz</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span>
    <span class="c"># 自身を UTC に変換し、新しいタイムゾーンオブジェクトをアタッチします</span>
    <span class="n">utc</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">utcoffset</span><span class="p">())</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">tzinfo</span><span class="o">=</span><span class="n">tz</span><span class="p">)</span>
    <span class="c"># UTC から tz のローカルタイムに変換します</span>
    <span class="k">return</span> <span class="n">tz</span><span class="o">.</span><span class="n">fromutc</span><span class="p">(</span><span class="n">utc</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="datetime.datetime.utcoffset">
<tt class="descclassname">datetime.</tt><tt class="descname">utcoffset</tt><big>(</big><big>)</big><a class="headerlink" href="#datetime.datetime.utcoffset" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><a class="reference internal" href="#datetime.tzinfo" title="datetime.tzinfo"><tt class="xref py py-attr docutils literal"><span class="pre">tzinfo</span></tt></a> が <tt class="docutils literal"><span class="pre">None</span></tt> の場合、 <tt class="docutils literal"><span class="pre">None</span></tt> を返し、そうでない場合には
<tt class="docutils literal"><span class="pre">self.tzinfo.utcoffset(self)</span></tt> を返します。後者の式が <tt class="docutils literal"><span class="pre">None</span></tt> か、1 日以下の大きさを持つ経過時間を表す
<a class="reference internal" href="#datetime.timedelta" title="datetime.timedelta"><tt class="xref py py-class docutils literal"><span class="pre">timedelta</span></tt></a> オブジェクトのいずれかを返さない場合には例外を送出します。</p>
</dd></dl>

<dl class="method">
<dt id="datetime.datetime.dst">
<tt class="descclassname">datetime.</tt><tt class="descname">dst</tt><big>(</big><big>)</big><a class="headerlink" href="#datetime.datetime.dst" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><a class="reference internal" href="#datetime.tzinfo" title="datetime.tzinfo"><tt class="xref py py-attr docutils literal"><span class="pre">tzinfo</span></tt></a> が <tt class="docutils literal"><span class="pre">None</span></tt> の場合、 <tt class="docutils literal"><span class="pre">None</span></tt> を返し、そうでない場合には <tt class="docutils literal"><span class="pre">self.tzinfo.dst(self)</span></tt>
を返します。後者の式が <tt class="docutils literal"><span class="pre">None</span></tt> か、1 日以下の大きさを持つ経過時間を表す <a class="reference internal" href="#datetime.timedelta" title="datetime.timedelta"><tt class="xref py py-class docutils literal"><span class="pre">timedelta</span></tt></a> オブジェクトのいずれかを返さない場合には例外を送出します。</p>
</dd></dl>

<dl class="method">
<dt id="datetime.datetime.tzname">
<tt class="descclassname">datetime.</tt><tt class="descname">tzname</tt><big>(</big><big>)</big><a class="headerlink" href="#datetime.datetime.tzname" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><a class="reference internal" href="#datetime.tzinfo" title="datetime.tzinfo"><tt class="xref py py-attr docutils literal"><span class="pre">tzinfo</span></tt></a> が <tt class="docutils literal"><span class="pre">None</span></tt> の場合、 <tt class="docutils literal"><span class="pre">None</span></tt> を返し、そうでない場合には
<tt class="docutils literal"><span class="pre">self.tzinfo.tzname(self)</span></tt> を返します。後者の式が <tt class="docutils literal"><span class="pre">None</span></tt> か文字列オブジェクトのいずれかを返さない場合には例外を送出します。</p>
</dd></dl>

<dl class="method">
<dt id="datetime.datetime.timetuple">
<tt class="descclassname">datetime.</tt><tt class="descname">timetuple</tt><big>(</big><big>)</big><a class="headerlink" href="#datetime.datetime.timetuple" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><a class="reference internal" href="time.html#time.localtime" title="time.localtime"><tt class="xref py py-func docutils literal"><span class="pre">time.localtime()</span></tt></a> が返す形式の <a class="reference internal" href="time.html#time.struct_time" title="time.struct_time"><tt class="xref py py-class docutils literal"><span class="pre">time.struct_time</span></tt></a> を返します。
<tt class="docutils literal"><span class="pre">d.timetuple()</span></tt> は次の値と等価です:
<tt class="docutils literal"><span class="pre">time.struct_time((d.year,</span> <span class="pre">d.month,</span> <span class="pre">d.day,</span>
<span class="pre">d.hour,</span> <span class="pre">d.minute,</span> <span class="pre">d.second,</span> <span class="pre">d.weekday(),</span> <span class="pre">yday,</span> <span class="pre">dst))</span></tt>, ただし <tt class="docutils literal"><span class="pre">yday</span> <span class="pre">=</span>
<span class="pre">d.toordinal()</span> <span class="pre">-</span> <span class="pre">date(d.year,</span> <span class="pre">1,</span> <span class="pre">1).toordinal()</span> <span class="pre">+</span> <span class="pre">1</span></tt> は 1月1日が <tt class="docutils literal"><span class="pre">1</span></tt>
で始まるその年の中の日の数.</p>
<p>返されるタプルの <tt class="xref py py-attr docutils literal"><span class="pre">tm_isdst</span></tt> フラグは <a class="reference internal" href="#datetime.datetime.dst" title="datetime.datetime.dst"><tt class="xref py py-meth docutils literal"><span class="pre">dst()</span></tt></a> メソッドに従って設定されます:  <a class="reference internal" href="#datetime.tzinfo" title="datetime.tzinfo"><tt class="xref py py-attr docutils literal"><span class="pre">tzinfo</span></tt></a> が
<tt class="docutils literal"><span class="pre">None</span></tt> か <a class="reference internal" href="#datetime.datetime.dst" title="datetime.datetime.dst"><tt class="xref py py-meth docutils literal"><span class="pre">dst()</span></tt></a> が <tt class="docutils literal"><span class="pre">None</span></tt> を返す場合、 <tt class="xref py py-attr docutils literal"><span class="pre">tm_isdst</span></tt> は <tt class="docutils literal"><span class="pre">-1</span></tt> に設定されます;
そうでない場合、 <a class="reference internal" href="#datetime.datetime.dst" title="datetime.datetime.dst"><tt class="xref py py-meth docutils literal"><span class="pre">dst()</span></tt></a> がゼロでない値を返すと, <tt class="xref py py-attr docutils literal"><span class="pre">tm_isdst</span></tt> は <tt class="docutils literal"><span class="pre">1</span></tt> となります; それ以外の場合には
<tt class="docutils literal"><span class="pre">tm_isdst</span></tt> は <tt class="docutils literal"><span class="pre">0</span></tt> に設定されます。</p>
</dd></dl>

<dl class="method">
<dt id="datetime.datetime.utctimetuple">
<tt class="descclassname">datetime.</tt><tt class="descname">utctimetuple</tt><big>(</big><big>)</big><a class="headerlink" href="#datetime.datetime.utctimetuple" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><a class="reference internal" href="#module-datetime" title="datetime: 基本的な日付型および時間型。"><tt class="xref py py-class docutils literal"><span class="pre">datetime</span></tt></a> インスタンス <em>d</em> が naive の場合、このメソッドは <tt class="docutils literal"><span class="pre">d.timetuple()</span></tt>
と同じであり、 <tt class="docutils literal"><span class="pre">d.dst()</span></tt> の返す内容にかかわらず <tt class="xref py py-attr docutils literal"><span class="pre">tm_isdst</span></tt> が 0 に強制される点だけが異なります。 DST が UTC
時刻に影響を及ぼすことは決してありません。</p>
<p><em>d</em> が aware の場合、 <em>d</em> から <tt class="docutils literal"><span class="pre">d.utcoffset()</span></tt> が差し引かれて UTC 時刻に正規化され、正規化された時刻の
<a class="reference internal" href="time.html#time.struct_time" title="time.struct_time"><tt class="xref py py-class docutils literal"><span class="pre">time.struct_time</span></tt></a> を返します。 <tt class="xref py py-attr docutils literal"><span class="pre">tm_isdst</span></tt> は 0 に強制されます。 <em>d</em>.year が
<tt class="docutils literal"><span class="pre">MINYEAR</span></tt> や <tt class="docutils literal"><span class="pre">MAXUEAR</span></tt> で、UTC への修正の結果表現可能な年の境界を越えた場合には、戻り値の <tt class="xref py py-attr docutils literal"><span class="pre">tm_year</span></tt>
メンバは <a class="reference internal" href="#datetime.MINYEAR" title="datetime.MINYEAR"><tt class="xref py py-const docutils literal"><span class="pre">MINYEAR</span></tt></a>-1 または <a class="reference internal" href="#datetime.MAXYEAR" title="datetime.MAXYEAR"><tt class="xref py py-const docutils literal"><span class="pre">MAXYEAR</span></tt></a>+1 になることがあります。</p>
</dd></dl>

<dl class="method">
<dt id="datetime.datetime.toordinal">
<tt class="descclassname">datetime.</tt><tt class="descname">toordinal</tt><big>(</big><big>)</big><a class="headerlink" href="#datetime.datetime.toordinal" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>予測的グレゴリオ暦における日付序数を返します。 <tt class="docutils literal"><span class="pre">self.date().toordinal()</span></tt> と同じです。</p>
</dd></dl>

<dl class="method">
<dt id="datetime.datetime.weekday">
<tt class="descclassname">datetime.</tt><tt class="descname">weekday</tt><big>(</big><big>)</big><a class="headerlink" href="#datetime.datetime.weekday" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>月曜日を 0、日曜日を 6 として、曜日を整数で返します。 <tt class="docutils literal"><span class="pre">self.date().weekday()</span></tt> と同じです。
<a class="reference internal" href="#datetime.datetime.isoweekday" title="datetime.datetime.isoweekday"><tt class="xref py py-meth docutils literal"><span class="pre">isoweekday()</span></tt></a> も参照してください。</p>
</dd></dl>

<dl class="method">
<dt id="datetime.datetime.isoweekday">
<tt class="descclassname">datetime.</tt><tt class="descname">isoweekday</tt><big>(</big><big>)</big><a class="headerlink" href="#datetime.datetime.isoweekday" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>月曜日を 1、日曜日を 7 として、曜日を整数で返します。 <tt class="docutils literal"><span class="pre">self.date().isoweekday()</span></tt> と等価です。
<a class="reference internal" href="#datetime.datetime.weekday" title="datetime.datetime.weekday"><tt class="xref py py-meth docutils literal"><span class="pre">weekday()</span></tt></a> 、 <a class="reference internal" href="#datetime.datetime.isocalendar" title="datetime.datetime.isocalendar"><tt class="xref py py-meth docutils literal"><span class="pre">isocalendar()</span></tt></a> も参照してください。</p>
</dd></dl>

<dl class="method">
<dt id="datetime.datetime.isocalendar">
<tt class="descclassname">datetime.</tt><tt class="descname">isocalendar</tt><big>(</big><big>)</big><a class="headerlink" href="#datetime.datetime.isocalendar" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>3 要素のタプル (ISO 年、ISO 週番号、ISO 曜日) を返します。 <tt class="docutils literal"><span class="pre">self.date().isocalendar()</span></tt> と等価です。</p>
</dd></dl>

<dl class="method">
<dt id="datetime.datetime.isoformat">
<tt class="descclassname">datetime.</tt><tt class="descname">isoformat</tt><big>(</big><span class="optional">[</span><em>sep</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#datetime.datetime.isoformat" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>日付と時刻を ISO 8601 形式、すなわち YYYY-MM-DDTHH:MM:SS.mmmmmm か、 <a class="reference internal" href="#datetime.datetime.microsecond" title="datetime.datetime.microsecond"><tt class="xref py py-attr docutils literal"><span class="pre">microsecond</span></tt></a> が 0
の場合には YYYY-MM-DDTHH:MM:SS で表した文字列を返します。 <a class="reference internal" href="#datetime.datetime.utcoffset" title="datetime.datetime.utcoffset"><tt class="xref py py-meth docutils literal"><span class="pre">utcoffset()</span></tt></a> が <tt class="docutils literal"><span class="pre">None</span></tt> を返さない場合、
UTC からのオフセットを時間と分を表した (符号付きの) 6 文字からなる  文字列が追加されます: すなわち、 YYYY-MM-
DDTHH:MM:SS.mmmmmm+HH:MM となるか、 <a class="reference internal" href="#datetime.datetime.microsecond" title="datetime.datetime.microsecond"><tt class="xref py py-attr docutils literal"><span class="pre">microsecond</span></tt></a> がゼロの場合には YYYY-MM-
DDTHH:MM:SS+HH:MM となります。オプションの引数 <em>sep</em> (デフォルトでは <tt class="docutils literal"><span class="pre">'T'</span></tt> です)  は 1
文字のセパレータで、結果の文字列の日付と時刻の間に置かれます。例えば、</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">tzinfo</span><span class="p">,</span> <span class="n">timedelta</span><span class="p">,</span> <span class="n">datetime</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">TZ</span><span class="p">(</span><span class="n">tzinfo</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">utcoffset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dt</span><span class="p">):</span> <span class="k">return</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">minutes</span><span class="o">=-</span><span class="mi">399</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">datetime</span><span class="p">(</span><span class="mi">2002</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="n">tzinfo</span><span class="o">=</span><span class="n">TZ</span><span class="p">())</span><span class="o">.</span><span class="n">isoformat</span><span class="p">(</span><span class="s">&#39; &#39;</span><span class="p">)</span>
<span class="go">&#39;2002-12-25 00:00:00-06:39&#39;</span>
</pre></div>
</div>
<p>となります。</p>
</dd></dl>

<dl class="method">
<dt id="datetime.datetime.__str__">
<tt class="descclassname">datetime.</tt><tt class="descname">__str__</tt><big>(</big><big>)</big><a class="headerlink" href="#datetime.datetime.__str__" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><a class="reference internal" href="#module-datetime" title="datetime: 基本的な日付型および時間型。"><tt class="xref py py-class docutils literal"><span class="pre">datetime</span></tt></a> オブジェクト <em>d</em> において、 <tt class="docutils literal"><span class="pre">str(d)</span></tt> は <tt class="docutils literal"><span class="pre">d.isoformat('</span> <span class="pre">')</span></tt> と等価です。</p>
</dd></dl>

<dl class="method">
<dt id="datetime.datetime.ctime">
<tt class="descclassname">datetime.</tt><tt class="descname">ctime</tt><big>(</big><big>)</big><a class="headerlink" href="#datetime.datetime.ctime" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>日付を表す文字列を、例えば <tt class="docutils literal"><span class="pre">datetime(2002,</span> <span class="pre">12,</span> <span class="pre">4,</span> <span class="pre">20,</span> <span class="pre">30,</span> <span class="pre">40).ctime()</span> <span class="pre">==</span> <span class="pre">'Wed</span> <span class="pre">Dec</span>&nbsp; <span class="pre">4</span>
<span class="pre">20:30:40</span> <span class="pre">2002'</span></tt> のようにして返します。ネイティブの C 関数 <tt class="xref c c-func docutils literal"><span class="pre">ctime()</span></tt>  (<a class="reference internal" href="time.html#time.ctime" title="time.ctime"><tt class="xref py py-func docutils literal"><span class="pre">time.ctime()</span></tt></a>
はこの関数を呼び出しますが、 <a class="reference internal" href="#datetime.datetime.ctime" title="datetime.datetime.ctime"><tt class="xref py py-meth docutils literal"><span class="pre">datetime.ctime()</span></tt></a> は呼び出しません) が C 標準に準拠しているプラットフォームでは、
<tt class="docutils literal"><span class="pre">d.ctime()</span></tt> は <tt class="docutils literal"><span class="pre">time.ctime(time.mktime(d.timetuple()))</span></tt> と等価です。</p>
</dd></dl>

<dl class="method">
<dt id="datetime.datetime.strftime">
<tt class="descclassname">datetime.</tt><tt class="descname">strftime</tt><big>(</big><em>format</em><big>)</big><a class="headerlink" href="#datetime.datetime.strftime" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>明示的な書式化文字列で制御された、日付を表現する文字列を返します。 <a class="reference internal" href="#datetime.datetime.strftime" title="datetime.datetime.strftime"><tt class="xref py py-meth docutils literal"><span class="pre">strftime()</span></tt></a> のふるまいについてのセクション
<a class="reference internal" href="#strftime-strptime-behavior"><em>strftime() と strptime() の振る舞い</em></a> を参照してください。</p>
</dd></dl>

<p>datetime オブジェクトを使う例:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">date</span><span class="p">,</span> <span class="n">time</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># Using datetime.combine()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">date</span><span class="p">(</span><span class="mi">2005</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">14</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">time</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">datetime</span><span class="o">.</span><span class="n">combine</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span>
<span class="go">datetime.datetime(2005, 7, 14, 12, 30)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># Using datetime.now() or datetime.utcnow()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>   
<span class="go">datetime.datetime(2007, 12, 6, 16, 29, 43, 79043)   # GMT +1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span>   
<span class="go">datetime.datetime(2007, 12, 6, 15, 29, 43, 79060)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># Using datetime.strptime()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dt</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="s">&quot;21/11/06 16:30&quot;</span><span class="p">,</span> <span class="s">&quot;</span><span class="si">%d</span><span class="s">/%m/%y %H:%M&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dt</span>
<span class="go">datetime.datetime(2006, 11, 21, 16, 30)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># Using datetime.timetuple() to get tuple of all attributes</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tt</span> <span class="o">=</span> <span class="n">dt</span><span class="o">.</span><span class="n">timetuple</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">it</span> <span class="ow">in</span> <span class="n">tt</span><span class="p">:</span>   
<span class="gp">... </span>    <span class="k">print</span> <span class="n">it</span>
<span class="gp">...</span>
<span class="go">2006    # year</span>
<span class="go">11      # month</span>
<span class="go">21      # day</span>
<span class="go">16      # hour</span>
<span class="go">30      # minute</span>
<span class="go">0       # second</span>
<span class="go">1       # weekday (0 = Monday)</span>
<span class="go">325     # number of days since 1st January</span>
<span class="go">-1      # dst - method tzinfo.dst() returned None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># Date in ISO format</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ic</span> <span class="o">=</span> <span class="n">dt</span><span class="o">.</span><span class="n">isocalendar</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">it</span> <span class="ow">in</span> <span class="n">ic</span><span class="p">:</span>   
<span class="gp">... </span>    <span class="k">print</span> <span class="n">it</span>
<span class="gp">...</span>
<span class="go">2006    # ISO year</span>
<span class="go">47      # ISO week</span>
<span class="go">2       # ISO weekday</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># Formatting datetime</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dt</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s">&quot;%A, </span><span class="si">%d</span><span class="s">. %B %Y %I:%M%p&quot;</span><span class="p">)</span>
<span class="go">&#39;Tuesday, 21. November 2006 04:30PM&#39;</span>
</pre></div>
</div>
<p>datetime を tzinfo と組み合わせて使う:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">timedelta</span><span class="p">,</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">tzinfo</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">GMT1</span><span class="p">(</span><span class="n">tzinfo</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>         <span class="c"># DST starts last Sunday in March</span>
<span class="gp">... </span>        <span class="n">d</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">(</span><span class="n">dt</span><span class="o">.</span><span class="n">year</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>   <span class="c"># ends last Sunday in October</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">dston</span> <span class="o">=</span> <span class="n">d</span> <span class="o">-</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="n">d</span><span class="o">.</span><span class="n">weekday</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">... </span>        <span class="n">d</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">(</span><span class="n">dt</span><span class="o">.</span><span class="n">year</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">dstoff</span> <span class="o">=</span> <span class="n">d</span> <span class="o">-</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="n">d</span><span class="o">.</span><span class="n">weekday</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">utcoffset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dt</span><span class="p">):</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">dst</span><span class="p">(</span><span class="n">dt</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">dst</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dt</span><span class="p">):</span>
<span class="gp">... </span>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dston</span> <span class="o">&lt;=</span>  <span class="n">dt</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">tzinfo</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">dstoff</span><span class="p">:</span>
<span class="gp">... </span>            <span class="k">return</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">... </span>        <span class="k">else</span><span class="p">:</span>
<span class="gp">... </span>            <span class="k">return</span> <span class="n">timedelta</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">tzname</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">dt</span><span class="p">):</span>
<span class="gp">... </span>         <span class="k">return</span> <span class="s">&quot;GMT +1&quot;</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">GMT2</span><span class="p">(</span><span class="n">tzinfo</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">... </span>        <span class="n">d</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">(</span><span class="n">dt</span><span class="o">.</span><span class="n">year</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">dston</span> <span class="o">=</span> <span class="n">d</span> <span class="o">-</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="n">d</span><span class="o">.</span><span class="n">weekday</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">... </span>        <span class="n">d</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">(</span><span class="n">dt</span><span class="o">.</span><span class="n">year</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">dstoff</span> <span class="o">=</span> <span class="n">d</span> <span class="o">-</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="n">d</span><span class="o">.</span><span class="n">weekday</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">utcoffset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dt</span><span class="p">):</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">dst</span><span class="p">(</span><span class="n">dt</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">dst</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dt</span><span class="p">):</span>
<span class="gp">... </span>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dston</span> <span class="o">&lt;=</span>  <span class="n">dt</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">tzinfo</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">dstoff</span><span class="p">:</span>
<span class="gp">... </span>            <span class="k">return</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">... </span>        <span class="k">else</span><span class="p">:</span>
<span class="gp">... </span>            <span class="k">return</span> <span class="n">timedelta</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">tzname</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">dt</span><span class="p">):</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="s">&quot;GMT +2&quot;</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gmt1</span> <span class="o">=</span> <span class="n">GMT1</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># Daylight Saving Time</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dt1</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">(</span><span class="mi">2006</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="n">tzinfo</span><span class="o">=</span><span class="n">gmt1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dt1</span><span class="o">.</span><span class="n">dst</span><span class="p">()</span>
<span class="go">datetime.timedelta(0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dt1</span><span class="o">.</span><span class="n">utcoffset</span><span class="p">()</span>
<span class="go">datetime.timedelta(0, 3600)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dt2</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">(</span><span class="mi">2006</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">tzinfo</span><span class="o">=</span><span class="n">gmt1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dt2</span><span class="o">.</span><span class="n">dst</span><span class="p">()</span>
<span class="go">datetime.timedelta(0, 3600)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dt2</span><span class="o">.</span><span class="n">utcoffset</span><span class="p">()</span>
<span class="go">datetime.timedelta(0, 7200)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># Convert datetime to another time zone</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dt3</span> <span class="o">=</span> <span class="n">dt2</span><span class="o">.</span><span class="n">astimezone</span><span class="p">(</span><span class="n">GMT2</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dt3</span>     <span class="c"># doctest: +ELLIPSIS</span>
<span class="go">datetime.datetime(2006, 6, 14, 14, 0, tzinfo=&lt;GMT2 object at 0x...&gt;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dt2</span>     <span class="c"># doctest: +ELLIPSIS</span>
<span class="go">datetime.datetime(2006, 6, 14, 13, 0, tzinfo=&lt;GMT1 object at 0x...&gt;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dt2</span><span class="o">.</span><span class="n">utctimetuple</span><span class="p">()</span> <span class="o">==</span> <span class="n">dt3</span><span class="o">.</span><span class="n">utctimetuple</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</div>
<div class="section" id="time">
<span id="datetime-time"></span><h2>8.1.5. <a class="reference internal" href="time.html#module-time" title="time: 時刻データへのアクセスと変換"><tt class="xref py py-class docutils literal"><span class="pre">time</span></tt></a> オブジェクト<a class="headerlink" href="#time" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p><a class="reference internal" href="time.html#module-time" title="time: 時刻データへのアクセスと変換"><tt class="xref py py-class docutils literal"><span class="pre">time</span></tt></a> オブジェクトは (ローカルの) 日中時刻を表現します。この時刻表現は特定の日の影響を受けず, <a class="reference internal" href="#datetime.tzinfo" title="datetime.tzinfo"><tt class="xref py py-class docutils literal"><span class="pre">tzinfo</span></tt></a>
オブジェクトを介した修正の対象となります。</p>
<dl class="class">
<dt id="datetime.time">
<em class="property">class </em><tt class="descclassname">datetime.</tt><tt class="descname">time</tt><big>(</big><em>hour</em><span class="optional">[</span>, <em>minute</em><span class="optional">[</span>, <em>second</em><span class="optional">[</span>, <em>microsecond</em><span class="optional">[</span>, <em>tzinfo</em><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><big>)</big><a class="headerlink" href="#datetime.time" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>全ての引数はオプションです。 <em>tzinfo</em> は <tt class="docutils literal"><span class="pre">None</span></tt> または <a class="reference internal" href="#datetime.tzinfo" title="datetime.tzinfo"><tt class="xref py py-class docutils literal"><span class="pre">tzinfo</span></tt></a> クラスのサブクラスのインスタンスにすることができます。残りの引数は整数または長整数で、以下のような範囲に入ります:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">0</span> <span class="pre">&lt;=</span> <span class="pre">hour</span> <span class="pre">&lt;</span> <span class="pre">24</span></tt></li>
<li><tt class="docutils literal"><span class="pre">0</span> <span class="pre">&lt;=</span> <span class="pre">minute</span> <span class="pre">&lt;</span> <span class="pre">60</span></tt></li>
<li><tt class="docutils literal"><span class="pre">0</span> <span class="pre">&lt;=</span> <span class="pre">second</span> <span class="pre">&lt;</span> <span class="pre">60</span></tt></li>
<li><tt class="docutils literal"><span class="pre">0</span> <span class="pre">&lt;=</span> <span class="pre">microsecond</span> <span class="pre">&lt;</span> <span class="pre">1000000</span></tt>.</li>
</ul>
<p>引数がこれらの範囲外にある場合、 <a class="reference internal" href="exceptions.html#exceptions.ValueError" title="exceptions.ValueError"><tt class="xref py py-exc docutils literal"><span class="pre">ValueError</span></tt></a> が送出されます。 <em>tzinfo</em> のデフォルト値が
<a class="reference internal" href="constants.html#None" title="None"><tt class="xref py py-const docutils literal"><span class="pre">None</span></tt></a> である以外のデフォルト値は <em>0</em> です。</p>
</dd></dl>

<p>以下にクラス属性を示します:</p>
<dl class="attribute">
<dt id="datetime.time.min">
<tt class="descclassname">time.</tt><tt class="descname">min</tt><a class="headerlink" href="#datetime.time.min" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>表現できる最も古い <a class="reference internal" href="#module-datetime" title="datetime: 基本的な日付型および時間型。"><tt class="xref py py-class docutils literal"><span class="pre">datetime</span></tt></a> で、 <tt class="docutils literal"><span class="pre">time(0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0)</span></tt> です。 The earliest
representable <a class="reference internal" href="time.html#module-time" title="time: 時刻データへのアクセスと変換"><tt class="xref py py-class docutils literal"><span class="pre">time</span></tt></a>, <tt class="docutils literal"><span class="pre">time(0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0)</span></tt>.</p>
</dd></dl>

<dl class="attribute">
<dt id="datetime.time.max">
<tt class="descclassname">time.</tt><tt class="descname">max</tt><a class="headerlink" href="#datetime.time.max" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>表現できる最も新しい <a class="reference internal" href="#module-datetime" title="datetime: 基本的な日付型および時間型。"><tt class="xref py py-class docutils literal"><span class="pre">datetime</span></tt></a> で、 <tt class="docutils literal"><span class="pre">time(23,</span> <span class="pre">59,</span> <span class="pre">59,</span> <span class="pre">999999,</span> <span class="pre">tzinfo=None)</span></tt> です。</p>
</dd></dl>

<dl class="attribute">
<dt id="datetime.time.resolution">
<tt class="descclassname">time.</tt><tt class="descname">resolution</tt><a class="headerlink" href="#datetime.time.resolution" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>等しくない <a class="reference internal" href="#module-datetime" title="datetime: 基本的な日付型および時間型。"><tt class="xref py py-class docutils literal"><span class="pre">datetime</span></tt></a> オブジェクト間の最小の差で、  <tt class="docutils literal"><span class="pre">timedelta(microseconds=1)</span></tt>
ですが, <a class="reference internal" href="time.html#module-time" title="time: 時刻データへのアクセスと変換"><tt class="xref py py-class docutils literal"><span class="pre">time</span></tt></a> オブジェクト間の四則演算はサポートされていないので注意してください。</p>
</dd></dl>

<p>以下に (読み出し専用の) インスタンス属性を示します:</p>
<dl class="attribute">
<dt id="datetime.time.hour">
<tt class="descclassname">time.</tt><tt class="descname">hour</tt><a class="headerlink" href="#datetime.time.hour" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><tt class="docutils literal"><span class="pre">range(24)</span></tt> 内の値です。</p>
</dd></dl>

<dl class="attribute">
<dt id="datetime.time.minute">
<tt class="descclassname">time.</tt><tt class="descname">minute</tt><a class="headerlink" href="#datetime.time.minute" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><tt class="docutils literal"><span class="pre">range(60)</span></tt> 内の値です。</p>
</dd></dl>

<dl class="attribute">
<dt id="datetime.time.second">
<tt class="descclassname">time.</tt><tt class="descname">second</tt><a class="headerlink" href="#datetime.time.second" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><tt class="docutils literal"><span class="pre">range(60)</span></tt> 内の値です。</p>
</dd></dl>

<dl class="attribute">
<dt id="datetime.time.microsecond">
<tt class="descclassname">time.</tt><tt class="descname">microsecond</tt><a class="headerlink" href="#datetime.time.microsecond" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><tt class="docutils literal"><span class="pre">range(1000000)</span></tt> 内の値です。</p>
</dd></dl>

<dl class="attribute">
<dt id="datetime.time.tzinfo">
<tt class="descclassname">time.</tt><tt class="descname">tzinfo</tt><a class="headerlink" href="#datetime.time.tzinfo" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><a class="reference internal" href="time.html#module-time" title="time: 時刻データへのアクセスと変換"><tt class="xref py py-class docutils literal"><span class="pre">time</span></tt></a> コンストラクタに <em>tzinfo</em> 引数として与えられたオブジェクトになり、何も渡されなかった場合には <tt class="docutils literal"><span class="pre">None</span></tt>
になります。</p>
</dd></dl>

<p>以下にサポートされている操作を示します:</p>
<ul class="simple">
<li><a class="reference internal" href="time.html#module-time" title="time: 時刻データへのアクセスと変換"><tt class="xref py py-class docutils literal"><span class="pre">time</span></tt></a> と <a class="reference internal" href="time.html#module-time" title="time: 時刻データへのアクセスと変換"><tt class="xref py py-class docutils literal"><span class="pre">time</span></tt></a> の比較では、 <em>a</em> が時刻として <em>b</em> よりも前を表す場合に <em>a</em> は <em>b</em>
よりも小さいと見なされます。被演算子の片方が naive でもう一方が aware の場合、 <a class="reference internal" href="exceptions.html#exceptions.TypeError" title="exceptions.TypeError"><tt class="xref py py-exc docutils literal"><span class="pre">TypeError</span></tt></a>
が送出されます。両方の被演算子が aware で、同じ <a class="reference internal" href="#datetime.tzinfo" title="datetime.tzinfo"><tt class="xref py py-attr docutils literal"><span class="pre">tzinfo</span></tt></a> メンバを持つ場合、共通の <a class="reference internal" href="#datetime.tzinfo" title="datetime.tzinfo"><tt class="xref py py-attr docutils literal"><span class="pre">tzinfo</span></tt></a>
メンバは無視され、基本の datetime 間の比較が行われます。両方の被演算子が aware で異なる <a class="reference internal" href="#datetime.tzinfo" title="datetime.tzinfo"><tt class="xref py py-attr docutils literal"><span class="pre">tzinfo</span></tt></a> メンバを持つ場合、被演算子はまず (<tt class="docutils literal"><span class="pre">self.utcoffset()</span></tt> で得られる) UTC  オフセットで修正されます。型混合の比較がデフォルトのオブジェクトアドレス比較となってしまうのを抑止するために, <a class="reference internal" href="time.html#module-time" title="time: 時刻データへのアクセスと変換"><tt class="xref py py-class docutils literal"><span class="pre">time</span></tt></a> オブジェクトが他の型のオブジェクトと比較された場合、比較演算子が <tt class="docutils literal"><span class="pre">==</span></tt> または <tt class="docutils literal"><span class="pre">!=</span></tt> でないかぎり <a class="reference internal" href="exceptions.html#exceptions.TypeError" title="exceptions.TypeError"><tt class="xref py py-exc docutils literal"><span class="pre">TypeError</span></tt></a> が送出されます。後者の場合、それぞれ
<a class="reference internal" href="constants.html#False" title="False"><tt class="xref py py-const docutils literal"><span class="pre">False</span></tt></a> または <a class="reference internal" href="constants.html#True" title="True"><tt class="xref py py-const docutils literal"><span class="pre">True</span></tt></a> を返します。</li>
<li>ハッシュ化、辞書のキーとしての利用</li>
<li>効率的な pickle 化</li>
<li>ブール演算コンテキストでは, <a class="reference internal" href="time.html#module-time" title="time: 時刻データへのアクセスと変換"><tt class="xref py py-class docutils literal"><span class="pre">time</span></tt></a> オブジェクトは、分に変換し, <tt class="xref py py-meth docutils literal"><span class="pre">utfoffset()</span></tt> (<tt class="docutils literal"><span class="pre">None</span></tt>
を返した場合には <tt class="docutils literal"><span class="pre">0</span></tt>) を差し引いて変換した後の結果がゼロでない場合、かつそのときに限って真とみなされます。</li>
</ul>
<p>以下にインスタンスメソッドを示します:</p>
<dl class="method">
<dt id="datetime.time.replace">
<tt class="descclassname">time.</tt><tt class="descname">replace</tt><big>(</big><span class="optional">[</span><em>hour</em><span class="optional">[</span>, <em>minute</em><span class="optional">[</span>, <em>second</em><span class="optional">[</span>, <em>microsecond</em><span class="optional">[</span>, <em>tzinfo</em><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><big>)</big><a class="headerlink" href="#datetime.time.replace" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>キーワード引数で指定したメンバの値を除き、同じ値をもつ <a class="reference internal" href="time.html#module-time" title="time: 時刻データへのアクセスと変換"><tt class="xref py py-class docutils literal"><span class="pre">time</span></tt></a> オブジェクトを返します。メンバに対する変換を行わずに aware な
datetime オブジェクトから  naive な <a class="reference internal" href="time.html#module-time" title="time: 時刻データへのアクセスと変換"><tt class="xref py py-class docutils literal"><span class="pre">time</span></tt></a> オブジェクトを生成するために、 <tt class="docutils literal"><span class="pre">tzinfo=None</span></tt>
を指定することもできます。</p>
</dd></dl>

<dl class="method">
<dt id="datetime.time.isoformat">
<tt class="descclassname">time.</tt><tt class="descname">isoformat</tt><big>(</big><big>)</big><a class="headerlink" href="#datetime.time.isoformat" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>日付と時刻を ISO 8601 形式、すなわち HH:MM:SS.mmmmmm か、 <a class="reference internal" href="#datetime.time.microsecond" title="datetime.time.microsecond"><tt class="xref py py-attr docutils literal"><span class="pre">microsecond</span></tt></a> が 0 の場合には
HH:MM:SS で表した文字列を返します。 <a class="reference internal" href="#datetime.time.utcoffset" title="datetime.time.utcoffset"><tt class="xref py py-meth docutils literal"><span class="pre">utcoffset()</span></tt></a> が <tt class="docutils literal"><span class="pre">None</span></tt> を返さない場合、 UTC
からのオフセットを時間と分を表した (符号付きの) 6 文字からなる  文字列が追加されます: すなわち、 HH:MM:SS.mmmmmm+HH:MM
となるか、 <a class="reference internal" href="#datetime.time.microsecond" title="datetime.time.microsecond"><tt class="xref py py-attr docutils literal"><span class="pre">microsecond</span></tt></a> が 0 の場合には HH:MM:SS+HH:MM となります。</p>
</dd></dl>

<dl class="method">
<dt id="datetime.time.__str__">
<tt class="descclassname">time.</tt><tt class="descname">__str__</tt><big>(</big><big>)</big><a class="headerlink" href="#datetime.time.__str__" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><a class="reference internal" href="time.html#module-time" title="time: 時刻データへのアクセスと変換"><tt class="xref py py-class docutils literal"><span class="pre">time</span></tt></a> オブジェクト <em>t</em> において、 <tt class="docutils literal"><span class="pre">str(t)</span></tt> は <tt class="docutils literal"><span class="pre">t.isoformat()</span></tt> と等価です。</p>
</dd></dl>

<dl class="method">
<dt id="datetime.time.strftime">
<tt class="descclassname">time.</tt><tt class="descname">strftime</tt><big>(</big><em>format</em><big>)</big><a class="headerlink" href="#datetime.time.strftime" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>明示的な書式化文字列で制御された、日付を表現する文字列を返します。 <a class="reference internal" href="time.html#time.strftime" title="time.strftime"><tt class="xref py py-meth docutils literal"><span class="pre">strftime()</span></tt></a> のふるまいについてのセクション
<a class="reference internal" href="#strftime-strptime-behavior"><em>strftime() と strptime() の振る舞い</em></a> を参照してください。</p>
</dd></dl>

<dl class="method">
<dt id="datetime.time.utcoffset">
<tt class="descclassname">time.</tt><tt class="descname">utcoffset</tt><big>(</big><big>)</big><a class="headerlink" href="#datetime.time.utcoffset" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><a class="reference internal" href="#datetime.tzinfo" title="datetime.tzinfo"><tt class="xref py py-attr docutils literal"><span class="pre">tzinfo</span></tt></a> が <tt class="docutils literal"><span class="pre">None</span></tt> の場合、 <tt class="docutils literal"><span class="pre">None</span></tt> を返し、そうでない場合には <tt class="docutils literal"><span class="pre">self.tzinfo.utcoffset(None)</span></tt> を返します。後者の式が
<tt class="docutils literal"><span class="pre">None</span></tt> か、1 日以下の大きさを持つ経過時間を表す
<a class="reference internal" href="#datetime.timedelta" title="datetime.timedelta"><tt class="xref py py-class docutils literal"><span class="pre">timedelta</span></tt></a> オブジェクトのいずれかを返さない場合には例外を送出します。</p>
</dd></dl>

<dl class="method">
<dt id="datetime.time.dst">
<tt class="descclassname">time.</tt><tt class="descname">dst</tt><big>(</big><big>)</big><a class="headerlink" href="#datetime.time.dst" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><a class="reference internal" href="#datetime.tzinfo" title="datetime.tzinfo"><tt class="xref py py-attr docutils literal"><span class="pre">tzinfo</span></tt></a> が <tt class="docutils literal"><span class="pre">None</span></tt> の場合、 <tt class="docutils literal"><span class="pre">None</span></tt> を返し、そうでない場合には <tt class="docutils literal"><span class="pre">self.tzinfo.dst(None)</span></tt> を返します。後者の式が <tt class="docutils literal"><span class="pre">None</span></tt> か、
1日以下の大きさを持つ経過時間を表す <a class="reference internal" href="#datetime.timedelta" title="datetime.timedelta"><tt class="xref py py-class docutils literal"><span class="pre">timedelta</span></tt></a> オブジェクトのいずれかを返さない場合には例外を送出します。</p>
</dd></dl>

<dl class="method">
<dt id="datetime.time.tzname">
<tt class="descclassname">time.</tt><tt class="descname">tzname</tt><big>(</big><big>)</big><a class="headerlink" href="#datetime.time.tzname" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><a class="reference internal" href="#datetime.tzinfo" title="datetime.tzinfo"><tt class="xref py py-attr docutils literal"><span class="pre">tzinfo</span></tt></a> が <tt class="docutils literal"><span class="pre">None</span></tt> の場合、 <tt class="docutils literal"><span class="pre">None</span></tt> を返し、そうでない場合には <tt class="docutils literal"><span class="pre">self.tzinfo.tzname(None)</span></tt> を返します。後者の式が <tt class="docutils literal"><span class="pre">None</span></tt>
か文字列オブジェクトのいずれかを返さない場合には例外を送出します。</p>
</dd></dl>

<p>使用例:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">time</span><span class="p">,</span> <span class="n">tzinfo</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">GMT1</span><span class="p">(</span><span class="n">tzinfo</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">utcoffset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dt</span><span class="p">):</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">dst</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dt</span><span class="p">):</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="n">timedelta</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">tzname</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">dt</span><span class="p">):</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="s">&quot;Europe/Prague&quot;</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">time</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="n">tzinfo</span><span class="o">=</span><span class="n">GMT1</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span>                               <span class="c"># doctest: +ELLIPSIS</span>
<span class="go">datetime.time(12, 10, 30, tzinfo=&lt;GMT1 object at 0x...&gt;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gmt</span> <span class="o">=</span> <span class="n">GMT1</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span>
<span class="go">&#39;12:10:30+01:00&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">dst</span><span class="p">()</span>
<span class="go">datetime.timedelta(0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">tzname</span><span class="p">()</span>
<span class="go">&#39;Europe/Prague&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s">&quot;%H:%M:%S %Z&quot;</span><span class="p">)</span>
<span class="go">&#39;12:10:30 Europe/Prague&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="tzinfo">
<span id="datetime-tzinfo"></span><h2>8.1.6. <a class="reference internal" href="#datetime.tzinfo" title="datetime.tzinfo"><tt class="xref py py-class docutils literal"><span class="pre">tzinfo</span></tt></a> オブジェクト<a class="headerlink" href="#tzinfo" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p><a class="reference internal" href="#datetime.tzinfo" title="datetime.tzinfo"><tt class="xref py py-class docutils literal"><span class="pre">tzinfo</span></tt></a> は抽象基底クラスです。つまり、このクラスは直接インスタンス化して利用しません。具体的なサブクラスを派生し、 (少なくとも) 利用したい <a class="reference internal" href="#module-datetime" title="datetime: 基本的な日付型および時間型。"><tt class="xref py py-class docutils literal"><span class="pre">datetime</span></tt></a> のメソッドが必要とする <a class="reference internal" href="#datetime.tzinfo" title="datetime.tzinfo"><tt class="xref py py-class docutils literal"><span class="pre">tzinfo</span></tt></a> の標準メソッドを実装してやる必要があります。
<a class="reference internal" href="#module-datetime" title="datetime: 基本的な日付型および時間型。"><tt class="xref py py-mod docutils literal"><span class="pre">datetime</span></tt></a> モジュールでは、 <a class="reference internal" href="#datetime.tzinfo" title="datetime.tzinfo"><tt class="xref py py-class docutils literal"><span class="pre">tzinfo</span></tt></a> の具体的なサブクラスは何ら提供していません。</p>
<p><a class="reference internal" href="#datetime.tzinfo" title="datetime.tzinfo"><tt class="xref py py-class docutils literal"><span class="pre">tzinfo</span></tt></a> (の具体的なサブクラス) のインスタンスは
<a class="reference internal" href="#module-datetime" title="datetime: 基本的な日付型および時間型。"><tt class="xref py py-class docutils literal"><span class="pre">datetime</span></tt></a> および <a class="reference internal" href="time.html#module-time" title="time: 時刻データへのアクセスと変換"><tt class="xref py py-class docutils literal"><span class="pre">time</span></tt></a> オブジェクトのコンストラクタに渡すことができます。後者のオブジェクトでは、データメンバをローカル時刻におけるものとして見ており、 <a class="reference internal" href="#datetime.tzinfo" title="datetime.tzinfo"><tt class="xref py py-class docutils literal"><span class="pre">tzinfo</span></tt></a> オブジェクトはローカル時刻の UTC からのオフセット、タイムゾーンの名前、 DST オフセットを、渡された日付および時刻オブジェクトからの相対で示すためのメソッドを提供します。</p>
<p>pickle 化についての特殊な要求事項: <a class="reference internal" href="#datetime.tzinfo" title="datetime.tzinfo"><tt class="xref py py-class docutils literal"><span class="pre">tzinfo</span></tt></a> のサブクラスは引数なしで呼び出すことのできる <a class="reference internal" href="../reference/datamodel.html#object.__init__" title="object.__init__"><tt class="xref py py-meth docutils literal"><span class="pre">__init__()</span></tt></a> メソッドを持たねばなりません。そうでなければ、 pickle 化することはできますがおそらく unpickle 化することはできないでしょう。これは技術的な側面からの要求であり、将来緩和されるかもしれません。</p>
<p><a class="reference internal" href="#datetime.tzinfo" title="datetime.tzinfo"><tt class="xref py py-class docutils literal"><span class="pre">tzinfo</span></tt></a> の具体的なサブクラスでは、以下のメソッドを実装する必要があります。厳密にどのメソッドが必要なのかは、 aware な
<a class="reference internal" href="#module-datetime" title="datetime: 基本的な日付型および時間型。"><tt class="xref py py-mod docutils literal"><span class="pre">datetime</span></tt></a> オブジェクトがこのサブクラスのインスタンスをどのように使うかに依存します。不確かならば、単に全てを実装してください。</p>
<dl class="method">
<dt id="datetime.tzinfo.utcoffset">
<tt class="descclassname">tzinfo.</tt><tt class="descname">utcoffset</tt><big>(</big><em>self</em>, <em>dt</em><big>)</big><a class="headerlink" href="#datetime.tzinfo.utcoffset" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>ローカル時間の UTC からのオフセットを、 UTC から東向きを正とした分で返します。ローカル時間が UTC の西側にある場合、この値は負になります。このメソッドは UTC からのオフセットの総計を返すように意図されているので注意してください; 例えば、 <a class="reference internal" href="#datetime.tzinfo" title="datetime.tzinfo"><tt class="xref py py-class docutils literal"><span class="pre">tzinfo</span></tt></a> オブジェクトがタイムゾーンと DST 修正の両方を表現する場合、 <a class="reference internal" href="#datetime.tzinfo.utcoffset" title="datetime.tzinfo.utcoffset"><tt class="xref py py-meth docutils literal"><span class="pre">utcoffset()</span></tt></a> はそれらの合計を返さなければなりません。 UTC オフセットが未知である場合、
<tt class="docutils literal"><span class="pre">None</span></tt> を返してください。そうでない場合には、返される値は -1439
から 1439 の両端を含む値 (1440 = 24*60 ; つまり、オフセットの大きさは 1 日より短くなくてはなりません) が分で指定された
<a class="reference internal" href="#datetime.timedelta" title="datetime.timedelta"><tt class="xref py py-class docutils literal"><span class="pre">timedelta</span></tt></a> オブジェクトでなければなりません。ほとんどの <a class="reference internal" href="#datetime.tzinfo.utcoffset" title="datetime.tzinfo.utcoffset"><tt class="xref py py-meth docutils literal"><span class="pre">utcoffset()</span></tt></a> 実装は、おそらく以下の二つのうちの一つに似たものになるでしょう:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">return</span> <span class="n">CONSTANT</span>                 <span class="c"># fixed-offset class</span>
<span class="k">return</span> <span class="n">CONSTANT</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">dst</span><span class="p">(</span><span class="n">dt</span><span class="p">)</span>  <span class="c"># daylight-aware class</span>
</pre></div>
</div>
<p><a class="reference internal" href="#datetime.tzinfo.utcoffset" title="datetime.tzinfo.utcoffset"><tt class="xref py py-meth docutils literal"><span class="pre">utcoffset()</span></tt></a> が <tt class="docutils literal"><span class="pre">None</span></tt> を返さない場合、 <a class="reference internal" href="#datetime.tzinfo.dst" title="datetime.tzinfo.dst"><tt class="xref py py-meth docutils literal"><span class="pre">dst()</span></tt></a> も
<tt class="docutils literal"><span class="pre">None</span></tt> を返してはなりません。</p>
<p><a class="reference internal" href="#datetime.tzinfo.utcoffset" title="datetime.tzinfo.utcoffset"><tt class="xref py py-meth docutils literal"><span class="pre">utcoffset()</span></tt></a> のデフォルトの実装は <a class="reference internal" href="exceptions.html#exceptions.NotImplementedError" title="exceptions.NotImplementedError"><tt class="xref py py-exc docutils literal"><span class="pre">NotImplementedError</span></tt></a>
を送出します。</p>
</dd></dl>

<dl class="method">
<dt id="datetime.tzinfo.dst">
<tt class="descclassname">tzinfo.</tt><tt class="descname">dst</tt><big>(</big><em>self</em>, <em>dt</em><big>)</big><a class="headerlink" href="#datetime.tzinfo.dst" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>夏時間 (DST) 修正を、 UTC から東向きを正とした分で返します。 DST 情報が未知の場合、 <tt class="docutils literal"><span class="pre">None</span></tt> が返されます。 DST が有効でない場合には
<tt class="docutils literal"><span class="pre">timedelta(0)</span></tt> を返します。 DST が有効の場合、オフセットは
<a class="reference internal" href="#datetime.timedelta" title="datetime.timedelta"><tt class="xref py py-class docutils literal"><span class="pre">timedelta</span></tt></a> オブジェクトで返します (詳細は <a class="reference internal" href="#datetime.tzinfo.utcoffset" title="datetime.tzinfo.utcoffset"><tt class="xref py py-meth docutils literal"><span class="pre">utcoffset()</span></tt></a>
を参照してください)。 DST オフセットが利用可能な場合、この値は
<a class="reference internal" href="#datetime.tzinfo.utcoffset" title="datetime.tzinfo.utcoffset"><tt class="xref py py-meth docutils literal"><span class="pre">utcoffset()</span></tt></a> が返す UTC からのオフセットには既に加算されているため、 DST を個別に取得する必要がない限り <a class="reference internal" href="#datetime.tzinfo.dst" title="datetime.tzinfo.dst"><tt class="xref py py-meth docutils literal"><span class="pre">dst()</span></tt></a> を使って問い合わせる必要はないので注意してください。例えば、
<a class="reference internal" href="#datetime.datetime.timetuple" title="datetime.datetime.timetuple"><tt class="xref py py-meth docutils literal"><span class="pre">datetime.timetuple()</span></tt></a> は <a class="reference internal" href="#datetime.tzinfo" title="datetime.tzinfo"><tt class="xref py py-attr docutils literal"><span class="pre">tzinfo</span></tt></a> メンバの <a class="reference internal" href="#datetime.tzinfo.dst" title="datetime.tzinfo.dst"><tt class="xref py py-meth docutils literal"><span class="pre">dst()</span></tt></a>
メソッドを呼んで <tt class="xref py py-attr docutils literal"><span class="pre">tm_isdst</span></tt> フラグがセットされているかどうか判断し、 <a class="reference internal" href="#datetime.tzinfo.fromutc" title="datetime.tzinfo.fromutc"><tt class="xref py py-meth docutils literal"><span class="pre">tzinfo.fromutc()</span></tt></a> は <a class="reference internal" href="#datetime.tzinfo.dst" title="datetime.tzinfo.dst"><tt class="xref py py-meth docutils literal"><span class="pre">dst()</span></tt></a> タイムゾーンを移動する際に DST による変更があるかどうかを調べます。</p>
<p>標準および夏時間の両方をモデル化している <a class="reference internal" href="#datetime.tzinfo" title="datetime.tzinfo"><tt class="xref py py-class docutils literal"><span class="pre">tzinfo</span></tt></a> サブクラスのインスタンス <em>tz</em> は以下の式:</p>
<p><tt class="docutils literal"><span class="pre">tz.utcoffset(dt)</span> <span class="pre">-</span> <span class="pre">tz.dst(dt)</span></tt></p>
<p>が、 <tt class="docutils literal"><span class="pre">dt.tzinfo</span> <span class="pre">==</span> <span class="pre">tz</span></tt> 全ての <a class="reference internal" href="#module-datetime" title="datetime: 基本的な日付型および時間型。"><tt class="xref py py-class docutils literal"><span class="pre">datetime</span></tt></a> オブジェクト <em>dt</em>
について常に同じ結果を返さなければならないという点で、一貫性を持っていなければなりません。正常に実装された <a class="reference internal" href="#datetime.tzinfo" title="datetime.tzinfo"><tt class="xref py py-class docutils literal"><span class="pre">tzinfo</span></tt></a> のサブクラスでは、この式はタイムゾーンにおける &#8220;標準オフセット (standard
offset)&#8221; を表し、特定の日や時刻の事情ではなく地理的な位置にのみ依存していなくてはなりません。 <a class="reference internal" href="#datetime.datetime.astimezone" title="datetime.datetime.astimezone"><tt class="xref py py-meth docutils literal"><span class="pre">datetime.astimezone()</span></tt></a> の実装はこの事実に依存していますが、違反を検出することができません; 正しく実装するのはプログラマの責任です。 <a class="reference internal" href="#datetime.tzinfo" title="datetime.tzinfo"><tt class="xref py py-class docutils literal"><span class="pre">tzinfo</span></tt></a> のサブクラスでこれを保証することができない場合、 <a class="reference internal" href="#datetime.tzinfo.fromutc" title="datetime.tzinfo.fromutc"><tt class="xref py py-meth docutils literal"><span class="pre">tzinfo.fromutc()</span></tt></a> の実装をオーバライドして、 <tt class="xref py py-meth docutils literal"><span class="pre">astimezone()</span></tt> に関わらず正しく動作するようにしてもかまいません。</p>
<p>ほとんどの <a class="reference internal" href="#datetime.tzinfo.dst" title="datetime.tzinfo.dst"><tt class="xref py py-meth docutils literal"><span class="pre">dst()</span></tt></a> 実装は、おそらく以下の二つのうちの一つに似たものになるでしょう:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">dst</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="c"># a fixed-offset class:  doesn&#39;t account for DST</span>
    <span class="k">return</span> <span class="n">timedelta</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">dst</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="c"># Code to set dston and dstoff to the time zone&#39;s DST</span>
    <span class="c"># transition times based on the input dt.year, and expressed</span>
    <span class="c"># in standard local time.  Then</span>

    <span class="k">if</span> <span class="n">dston</span> <span class="o">&lt;=</span> <span class="n">dt</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">tzinfo</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">dstoff</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">timedelta</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<p>デフォルトの <a class="reference internal" href="#datetime.tzinfo.dst" title="datetime.tzinfo.dst"><tt class="xref py py-meth docutils literal"><span class="pre">dst()</span></tt></a> 実装は <a class="reference internal" href="exceptions.html#exceptions.NotImplementedError" title="exceptions.NotImplementedError"><tt class="xref py py-exc docutils literal"><span class="pre">NotImplementedError</span></tt></a> を送出します。</p>
</dd></dl>

<dl class="method">
<dt id="datetime.tzinfo.tzname">
<tt class="descclassname">tzinfo.</tt><tt class="descname">tzname</tt><big>(</big><em>self</em>, <em>dt</em><big>)</big><a class="headerlink" href="#datetime.tzinfo.tzname" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><a class="reference internal" href="#module-datetime" title="datetime: 基本的な日付型および時間型。"><tt class="xref py py-class docutils literal"><span class="pre">datetime</span></tt></a> オブジェクト <em>dt</em> に対応するタイムゾーン名を文字列で返します。 <a class="reference internal" href="#module-datetime" title="datetime: 基本的な日付型および時間型。"><tt class="xref py py-mod docutils literal"><span class="pre">datetime</span></tt></a> モジュールでは文字列名について何も定義しておらず、特に何かを意味するといった要求仕様もまったくありません。例えば、 &#8220;GMT&#8221;,&#8221;UTC&#8221;, &#8220;-500&#8221;, &#8220;-5:00&#8221;, &#8220;EDT&#8221;,
&#8220;US/Eastern&#8221;, &#8220;America/New York&#8221; は全て有効な応答となります。文字列名が未知の場合には <tt class="docutils literal"><span class="pre">None</span></tt> を返してください。 <a class="reference internal" href="#datetime.tzinfo" title="datetime.tzinfo"><tt class="xref py py-class docutils literal"><span class="pre">tzinfo</span></tt></a> のサブクラスでは、特に, <a class="reference internal" href="#datetime.tzinfo" title="datetime.tzinfo"><tt class="xref py py-class docutils literal"><span class="pre">tzinfo</span></tt></a> クラスが夏時間について記述している場合のように、渡された <em>dt</em> の特定の値によって異なった名前を返したい場合があるため、文字列値ではなくメソッドとなっていることに注意してください。</p>
<p>デフォルトの <a class="reference internal" href="#datetime.tzinfo.tzname" title="datetime.tzinfo.tzname"><tt class="xref py py-meth docutils literal"><span class="pre">tzname()</span></tt></a> 実装は <a class="reference internal" href="exceptions.html#exceptions.NotImplementedError" title="exceptions.NotImplementedError"><tt class="xref py py-exc docutils literal"><span class="pre">NotImplementedError</span></tt></a> を送出します。</p>
</dd></dl>

<p>以下のメソッドは <a class="reference internal" href="#module-datetime" title="datetime: 基本的な日付型および時間型。"><tt class="xref py py-class docutils literal"><span class="pre">datetime</span></tt></a> や <a class="reference internal" href="time.html#module-time" title="time: 時刻データへのアクセスと変換"><tt class="xref py py-class docutils literal"><span class="pre">time</span></tt></a> オブジェクトにおいて、同名のメソッドが呼び出された際に応じて呼び出されます。
<a class="reference internal" href="#module-datetime" title="datetime: 基本的な日付型および時間型。"><tt class="xref py py-class docutils literal"><span class="pre">datetime</span></tt></a> オブジェクトは自身を引数としてメソッドに渡し、
<a class="reference internal" href="time.html#module-time" title="time: 時刻データへのアクセスと変換"><tt class="xref py py-class docutils literal"><span class="pre">time</span></tt></a> オブジェクトは引数として <tt class="docutils literal"><span class="pre">None</span></tt> をメソッドに渡します。従って、 <a class="reference internal" href="#datetime.tzinfo" title="datetime.tzinfo"><tt class="xref py py-class docutils literal"><span class="pre">tzinfo</span></tt></a> のサブクラスにおけるメソッドは引数 <em>dt</em> が
<tt class="docutils literal"><span class="pre">None</span></tt> の場合と、 <a class="reference internal" href="#module-datetime" title="datetime: 基本的な日付型および時間型。"><tt class="xref py py-class docutils literal"><span class="pre">datetime</span></tt></a> の場合を受理するように用意しなければなりません。</p>
<p><tt class="docutils literal"><span class="pre">None</span></tt> が渡された場合、最良の応答方法を決めるのはクラス設計者次第です。例えば、このクラスが <a class="reference internal" href="#datetime.tzinfo" title="datetime.tzinfo"><tt class="xref py py-class docutils literal"><span class="pre">tzinfo</span></tt></a> プロトコルと関係をもたないということを表明させたければ、 <tt class="docutils literal"><span class="pre">None</span></tt> が適切です。標準時のオフセットを見つける他の手段がない場合には、標準 UTC オフセットを返すために
<tt class="docutils literal"><span class="pre">utcoffset(None)</span></tt> を使うともっと便利かもしれません。</p>
<p><a class="reference internal" href="#module-datetime" title="datetime: 基本的な日付型および時間型。"><tt class="xref py py-class docutils literal"><span class="pre">datetime</span></tt></a> オブジェクトが <a class="reference internal" href="#module-datetime" title="datetime: 基本的な日付型および時間型。"><tt class="xref py py-meth docutils literal"><span class="pre">datetime()</span></tt></a> メソッドの応答として返された場合、 <tt class="docutils literal"><span class="pre">dt.tzinfo</span></tt> は <em>self</em> と同じオブジェクトになります。ユーザが直接 <a class="reference internal" href="#datetime.tzinfo" title="datetime.tzinfo"><tt class="xref py py-class docutils literal"><span class="pre">tzinfo</span></tt></a> メソッドを呼び出さないかぎり、
<a class="reference internal" href="#datetime.tzinfo" title="datetime.tzinfo"><tt class="xref py py-class docutils literal"><span class="pre">tzinfo</span></tt></a> メソッドは <tt class="docutils literal"><span class="pre">dt.tzinfo</span></tt> と <em>self</em> が同じであることに依存します。その結果 <a class="reference internal" href="#datetime.tzinfo" title="datetime.tzinfo"><tt class="xref py py-class docutils literal"><span class="pre">tzinfo</span></tt></a> メソッドは <em>dt</em> がローカル時間であると解釈するので、他のタイムゾーンでのオブジェクトの振る舞いについて心配する必要がありません。</p>
<dl class="method">
<dt id="datetime.tzinfo.fromutc">
<tt class="descclassname">tzinfo.</tt><tt class="descname">fromutc</tt><big>(</big><em>self</em>, <em>dt</em><big>)</big><a class="headerlink" href="#datetime.tzinfo.fromutc" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>デフォルトの <a class="reference internal" href="#datetime.datetime.astimezone" title="datetime.datetime.astimezone"><tt class="xref py py-class docutils literal"><span class="pre">datetime.astimezone()</span></tt></a> 実装で呼び出されます。
<a class="reference internal" href="#datetime.datetime.astimezone" title="datetime.datetime.astimezone"><tt class="xref py py-class docutils literal"><span class="pre">datetime.astimezone()</span></tt></a> から呼ばれた場合、 <tt class="docutils literal"><span class="pre">dt.tzinfo</span></tt> は
<em>self</em> であり、 <em>dt</em> の日付および時刻データメンバは UTC 時刻を表しているものとして見えます。 <a class="reference internal" href="#datetime.tzinfo.fromutc" title="datetime.tzinfo.fromutc"><tt class="xref py py-meth docutils literal"><span class="pre">fromutc()</span></tt></a> の目的は、 <em>self</em> のローカル時刻に等しい <a class="reference internal" href="#module-datetime" title="datetime: 基本的な日付型および時間型。"><tt class="xref py py-class docutils literal"><span class="pre">datetime</span></tt></a> オブジェクトを返すことにより日付と時刻データメンバを修正することにあります。</p>
<p>ほとんどの <a class="reference internal" href="#datetime.tzinfo" title="datetime.tzinfo"><tt class="xref py py-class docutils literal"><span class="pre">tzinfo</span></tt></a> サブクラスではデフォルトの <a class="reference internal" href="#datetime.tzinfo.fromutc" title="datetime.tzinfo.fromutc"><tt class="xref py py-meth docutils literal"><span class="pre">fromutc()</span></tt></a>
実装を問題なく継承できます。デフォルトの実装は、固定オフセットのタイムゾーンや、標準時と夏時間の両方について記述しているタイムゾーン、そして DST 移行時刻が年によって異なる場合でさえ、扱えるくらい強力なものです。デフォルトの <a class="reference internal" href="#datetime.tzinfo.fromutc" title="datetime.tzinfo.fromutc"><tt class="xref py py-meth docutils literal"><span class="pre">fromutc()</span></tt></a> 実装が全ての場合に対して正しく扱うことができないような例は、標準時の (UTCからの) オフセットが引数として渡された特定の日や時刻に依存するもので、これは政治的な理由によって起きることがあります。デフォルトの <tt class="xref py py-meth docutils literal"><span class="pre">astimezone()</span></tt> や
<a class="reference internal" href="#datetime.tzinfo.fromutc" title="datetime.tzinfo.fromutc"><tt class="xref py py-meth docutils literal"><span class="pre">fromutc()</span></tt></a> の実装は、結果が標準時オフセットの変化にまたがる何時間かの中にある場合、期待通りの結果を生成しないかもしれません。</p>
<p>エラーの場合のためのコードを除き、デフォルトの <a class="reference internal" href="#datetime.tzinfo.fromutc" title="datetime.tzinfo.fromutc"><tt class="xref py py-meth docutils literal"><span class="pre">fromutc()</span></tt></a> の実装は以下のように動作します:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">fromutc</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dt</span><span class="p">):</span>
    <span class="c"># raise ValueError error if dt.tzinfo is not self</span>
    <span class="n">dtoff</span> <span class="o">=</span> <span class="n">dt</span><span class="o">.</span><span class="n">utcoffset</span><span class="p">()</span>
    <span class="n">dtdst</span> <span class="o">=</span> <span class="n">dt</span><span class="o">.</span><span class="n">dst</span><span class="p">()</span>
    <span class="c"># raise ValueError if dtoff is None or dtdst is None</span>
    <span class="n">delta</span> <span class="o">=</span> <span class="n">dtoff</span> <span class="o">-</span> <span class="n">dtdst</span>  <span class="c"># this is self&#39;s standard offset</span>
    <span class="k">if</span> <span class="n">delta</span><span class="p">:</span>
        <span class="n">dt</span> <span class="o">+=</span> <span class="n">delta</span>   <span class="c"># convert to standard local time</span>
        <span class="n">dtdst</span> <span class="o">=</span> <span class="n">dt</span><span class="o">.</span><span class="n">dst</span><span class="p">()</span>
        <span class="c"># raise ValueError if dtdst is None</span>
    <span class="k">if</span> <span class="n">dtdst</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">dt</span> <span class="o">+</span> <span class="n">dtdst</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">dt</span>
</pre></div>
</div>
</dd></dl>

<p>以下に <a class="reference internal" href="#datetime.tzinfo" title="datetime.tzinfo"><tt class="xref py py-class docutils literal"><span class="pre">tzinfo</span></tt></a> クラスの使用例を示します:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">tzinfo</span><span class="p">,</span> <span class="n">timedelta</span><span class="p">,</span> <span class="n">datetime</span>

<span class="n">ZERO</span> <span class="o">=</span> <span class="n">timedelta</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">HOUR</span> <span class="o">=</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c"># A UTC class.</span>

<span class="k">class</span> <span class="nc">UTC</span><span class="p">(</span><span class="n">tzinfo</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;UTC&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">utcoffset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dt</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">ZERO</span>

    <span class="k">def</span> <span class="nf">tzname</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dt</span><span class="p">):</span>
        <span class="k">return</span> <span class="s">&quot;UTC&quot;</span>

    <span class="k">def</span> <span class="nf">dst</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dt</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">ZERO</span>

<span class="n">utc</span> <span class="o">=</span> <span class="n">UTC</span><span class="p">()</span>

<span class="c"># A class building tzinfo objects for fixed-offset time zones.</span>
<span class="c"># Note that FixedOffset(0, &quot;UTC&quot;) is a different way to build a</span>
<span class="c"># UTC tzinfo object.</span>

<span class="k">class</span> <span class="nc">FixedOffset</span><span class="p">(</span><span class="n">tzinfo</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Fixed offset in minutes east from UTC.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">offset</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__offset</span> <span class="o">=</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">minutes</span> <span class="o">=</span> <span class="n">offset</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__name</span> <span class="o">=</span> <span class="n">name</span>

    <span class="k">def</span> <span class="nf">utcoffset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dt</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__offset</span>

    <span class="k">def</span> <span class="nf">tzname</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dt</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__name</span>

    <span class="k">def</span> <span class="nf">dst</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dt</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">ZERO</span>

<span class="c"># A class capturing the platform&#39;s idea of local time.</span>

<span class="kn">import</span> <span class="nn">time</span> <span class="kn">as</span> <span class="nn">_time</span>

<span class="n">STDOFFSET</span> <span class="o">=</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">seconds</span> <span class="o">=</span> <span class="o">-</span><span class="n">_time</span><span class="o">.</span><span class="n">timezone</span><span class="p">)</span>
<span class="k">if</span> <span class="n">_time</span><span class="o">.</span><span class="n">daylight</span><span class="p">:</span>
    <span class="n">DSTOFFSET</span> <span class="o">=</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">seconds</span> <span class="o">=</span> <span class="o">-</span><span class="n">_time</span><span class="o">.</span><span class="n">altzone</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">DSTOFFSET</span> <span class="o">=</span> <span class="n">STDOFFSET</span>

<span class="n">DSTDIFF</span> <span class="o">=</span> <span class="n">DSTOFFSET</span> <span class="o">-</span> <span class="n">STDOFFSET</span>

<span class="k">class</span> <span class="nc">LocalTimezone</span><span class="p">(</span><span class="n">tzinfo</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">utcoffset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dt</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_isdst</span><span class="p">(</span><span class="n">dt</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">DSTOFFSET</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">STDOFFSET</span>

    <span class="k">def</span> <span class="nf">dst</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dt</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_isdst</span><span class="p">(</span><span class="n">dt</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">DSTDIFF</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">ZERO</span>

    <span class="k">def</span> <span class="nf">tzname</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dt</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_time</span><span class="o">.</span><span class="n">tzname</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_isdst</span><span class="p">(</span><span class="n">dt</span><span class="p">)]</span>

    <span class="k">def</span> <span class="nf">_isdst</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dt</span><span class="p">):</span>
        <span class="n">tt</span> <span class="o">=</span> <span class="p">(</span><span class="n">dt</span><span class="o">.</span><span class="n">year</span><span class="p">,</span> <span class="n">dt</span><span class="o">.</span><span class="n">month</span><span class="p">,</span> <span class="n">dt</span><span class="o">.</span><span class="n">day</span><span class="p">,</span>
              <span class="n">dt</span><span class="o">.</span><span class="n">hour</span><span class="p">,</span> <span class="n">dt</span><span class="o">.</span><span class="n">minute</span><span class="p">,</span> <span class="n">dt</span><span class="o">.</span><span class="n">second</span><span class="p">,</span>
              <span class="n">dt</span><span class="o">.</span><span class="n">weekday</span><span class="p">(),</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">stamp</span> <span class="o">=</span> <span class="n">_time</span><span class="o">.</span><span class="n">mktime</span><span class="p">(</span><span class="n">tt</span><span class="p">)</span>
        <span class="n">tt</span> <span class="o">=</span> <span class="n">_time</span><span class="o">.</span><span class="n">localtime</span><span class="p">(</span><span class="n">stamp</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">tt</span><span class="o">.</span><span class="n">tm_isdst</span> <span class="o">&gt;</span> <span class="mi">0</span>

<span class="n">Local</span> <span class="o">=</span> <span class="n">LocalTimezone</span><span class="p">()</span>


<span class="c"># A complete implementation of current DST rules for major US time zones.</span>

<span class="k">def</span> <span class="nf">first_sunday_on_or_after</span><span class="p">(</span><span class="n">dt</span><span class="p">):</span>
    <span class="n">days_to_go</span> <span class="o">=</span> <span class="mi">6</span> <span class="o">-</span> <span class="n">dt</span><span class="o">.</span><span class="n">weekday</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">days_to_go</span><span class="p">:</span>
        <span class="n">dt</span> <span class="o">+=</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days_to_go</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">dt</span>

<span class="c"># In the US, DST starts at 2am (standard time) on the first Sunday in April.</span>
<span class="n">DSTSTART</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="c"># and ends at 2am (DST time; 1am standard time) on the last Sunday of Oct.</span>
<span class="c"># which is the first Sunday on or after Oct 25.</span>
<span class="n">DSTEND</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">USTimeZone</span><span class="p">(</span><span class="n">tzinfo</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">hours</span><span class="p">,</span> <span class="n">reprname</span><span class="p">,</span> <span class="n">stdname</span><span class="p">,</span> <span class="n">dstname</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stdoffset</span> <span class="o">=</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="n">hours</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">reprname</span> <span class="o">=</span> <span class="n">reprname</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stdname</span> <span class="o">=</span> <span class="n">stdname</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dstname</span> <span class="o">=</span> <span class="n">dstname</span>

    <span class="k">def</span> <span class="nf">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">reprname</span>

    <span class="k">def</span> <span class="nf">tzname</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dt</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dst</span><span class="p">(</span><span class="n">dt</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dstname</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">stdname</span>

    <span class="k">def</span> <span class="nf">utcoffset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dt</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">stdoffset</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">dst</span><span class="p">(</span><span class="n">dt</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">dst</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dt</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">dt</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">or</span> <span class="n">dt</span><span class="o">.</span><span class="n">tzinfo</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="c"># An exception may be sensible here, in one or both cases.</span>
            <span class="c"># It depends on how you want to treat them.  The default</span>
            <span class="c"># fromutc() implementation (called by the default astimezone()</span>
            <span class="c"># implementation) passes a datetime with dt.tzinfo is self.</span>
            <span class="k">return</span> <span class="n">ZERO</span>
        <span class="k">assert</span> <span class="n">dt</span><span class="o">.</span><span class="n">tzinfo</span> <span class="ow">is</span> <span class="bp">self</span>

        <span class="c"># Find first Sunday in April &amp; the last in October.</span>
        <span class="n">start</span> <span class="o">=</span> <span class="n">first_sunday_on_or_after</span><span class="p">(</span><span class="n">DSTSTART</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">year</span><span class="o">=</span><span class="n">dt</span><span class="o">.</span><span class="n">year</span><span class="p">))</span>
        <span class="n">end</span> <span class="o">=</span> <span class="n">first_sunday_on_or_after</span><span class="p">(</span><span class="n">DSTEND</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">year</span><span class="o">=</span><span class="n">dt</span><span class="o">.</span><span class="n">year</span><span class="p">))</span>

        <span class="c"># Can&#39;t compare naive to aware objects, so strip the timezone from</span>
        <span class="c"># dt first.</span>
        <span class="k">if</span> <span class="n">start</span> <span class="o">&lt;=</span> <span class="n">dt</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">tzinfo</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">end</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">HOUR</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">ZERO</span>

<span class="n">Eastern</span>  <span class="o">=</span> <span class="n">USTimeZone</span><span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="s">&quot;Eastern&quot;</span><span class="p">,</span>  <span class="s">&quot;EST&quot;</span><span class="p">,</span> <span class="s">&quot;EDT&quot;</span><span class="p">)</span>
<span class="n">Central</span>  <span class="o">=</span> <span class="n">USTimeZone</span><span class="p">(</span><span class="o">-</span><span class="mi">6</span><span class="p">,</span> <span class="s">&quot;Central&quot;</span><span class="p">,</span>  <span class="s">&quot;CST&quot;</span><span class="p">,</span> <span class="s">&quot;CDT&quot;</span><span class="p">)</span>
<span class="n">Mountain</span> <span class="o">=</span> <span class="n">USTimeZone</span><span class="p">(</span><span class="o">-</span><span class="mi">7</span><span class="p">,</span> <span class="s">&quot;Mountain&quot;</span><span class="p">,</span> <span class="s">&quot;MST&quot;</span><span class="p">,</span> <span class="s">&quot;MDT&quot;</span><span class="p">)</span>
<span class="n">Pacific</span>  <span class="o">=</span> <span class="n">USTimeZone</span><span class="p">(</span><span class="o">-</span><span class="mi">8</span><span class="p">,</span> <span class="s">&quot;Pacific&quot;</span><span class="p">,</span>  <span class="s">&quot;PST&quot;</span><span class="p">,</span> <span class="s">&quot;PDT&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>標準時間 (standard time) および夏時間 (daylight time) の両方を記述している <a class="reference internal" href="#datetime.tzinfo" title="datetime.tzinfo"><tt class="xref py py-class docutils literal"><span class="pre">tzinfo</span></tt></a> のサブクラスでは、回避不能の難解な問題が年に 2 度あるので注意してください。具体的な例として、東部アメリカ時刻 (US
Eastern, UTC -5000) を考えます。 EDT は 3 月の第二日曜日の 1:59
(EST) 以後に開始し、11 月の最初の日曜日の 1:59 (EDT) に終了します:</p>
<div class="highlight-python"><pre>  UTC   3:MM  4:MM  5:MM  6:MM  7:MM  8:MM
  EST  22:MM 23:MM  0:MM  1:MM  2:MM  3:MM
  EDT  23:MM  0:MM  1:MM  2:MM  3:MM  4:MM

start  22:MM 23:MM  0:MM  1:MM  3:MM  4:MM

  end  23:MM  0:MM  1:MM  1:MM  2:MM  3:MM</pre>
</div>
<p>DST の開始の際 (&#8220;start&#8221; の並び) ローカルの壁時計は 1:59 から 3:00 に飛びます。この日は 2:MM の形式をとる時刻は実際には無意味となります。従って、 <tt class="docutils literal"><span class="pre">astimezone(Eastern)</span></tt> は DST が開始する日には <tt class="docutils literal"><span class="pre">hour</span> <span class="pre">==</span> <span class="pre">2</span></tt> となる結果を返すことはありません。
<tt class="xref py py-meth docutils literal"><span class="pre">astimezone()</span></tt> がこのことを保証するようにするには、
<a class="reference internal" href="#datetime.tzinfo.dst" title="datetime.tzinfo.dst"><tt class="xref py py-meth docutils literal"><span class="pre">tzinfo.dst()</span></tt></a> メソッドは &#8220;失われた時間&#8221; (東部時刻における 2:MM)
が夏時間に存在することを考えなければなりません。</p>
<p>DST が終了する際 (&#8220;end&#8221; の並び) では、問題はさらに悪化します: 1 時間の間、ローカルの壁時計ではっきりと時刻をいえなくなります:
それは夏時間の最後の 1 時間です。東部時刻では、その日の UTC での 5:MM
に夏時間は終了します。ローカルの壁時計は 1:59 (夏時間) から 1:00 (標準時) に再び巻き戻されます。ローカルの時刻における 1:MM はあいまいになります。 <tt class="xref py py-meth docutils literal"><span class="pre">astimezone()</span></tt> は二つの UTC 時刻を同じローカルの時刻に対応付けることでローカルの時計の振る舞いをまねます。東部時刻の例では、
5:MM および 6:MM の形式をとる UTC 時刻は両方とも、東部時刻に変換された際に 1:MM に対応づけられます。 <tt class="xref py py-meth docutils literal"><span class="pre">astimezone()</span></tt> がこのことを保証するようにするには、 <a class="reference internal" href="#datetime.tzinfo.dst" title="datetime.tzinfo.dst"><tt class="xref py py-meth docutils literal"><span class="pre">tzinfo.dst()</span></tt></a> は &#8220;繰り返された時間&#8221; が標準時に存在することを考慮しなければなりません。このことは、例えばタイムゾーンの標準のローカルな時刻に DST への切り替え時刻を表現することで簡単に設定することができます。</p>
<p>このようなあいまいさを許容できないアプリケーションは、ハイブリッドな
<a class="reference internal" href="#datetime.tzinfo" title="datetime.tzinfo"><tt class="xref py py-class docutils literal"><span class="pre">tzinfo</span></tt></a> サブクラスを使って問題を回避しなければなりません;
UTC や、他のオフセットが固定された <a class="reference internal" href="#datetime.tzinfo" title="datetime.tzinfo"><tt class="xref py py-class docutils literal"><span class="pre">tzinfo</span></tt></a> のサブクラス (EST
(-5 時間の固定オフセット) のみを表すクラスや、 EDT (-4 時間の固定オフセット) のみを表すクラス) を使う限り、あいまいさは発生しません。</p>
</div>
<div class="section" id="strftime-strptime">
<span id="strftime-strptime-behavior"></span><h2>8.1.7. <tt class="xref py py-meth docutils literal"><span class="pre">strftime()</span></tt> と <tt class="xref py py-meth docutils literal"><span class="pre">strptime()</span></tt> の振る舞い<a class="headerlink" href="#strftime-strptime" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p><a class="reference internal" href="#datetime.date" title="datetime.date"><tt class="xref py py-class docutils literal"><span class="pre">date</span></tt></a>, <a class="reference internal" href="#module-datetime" title="datetime: 基本的な日付型および時間型。"><tt class="xref py py-class docutils literal"><span class="pre">datetime</span></tt></a>,および <a class="reference internal" href="time.html#module-time" title="time: 時刻データへのアクセスと変換"><tt class="xref py py-class docutils literal"><span class="pre">time</span></tt></a> オブジェクトは全て、明示的な書式化文字列でコントロールして時刻表現文字列を生成するための <tt class="docutils literal"><span class="pre">strftime(format)</span></tt> メソッドをサポートしています。大雑把にいうと、 <tt class="docutils literal"><span class="pre">d.strftime(fmt)</span></tt> は <a class="reference internal" href="time.html#module-time" title="time: 時刻データへのアクセスと変換"><tt class="xref py py-mod docutils literal"><span class="pre">time</span></tt></a> モジュールの
<tt class="docutils literal"><span class="pre">time.strftime(fmt,</span> <span class="pre">d.timetuple())</span></tt> のように動作します。ただし全てのオブジェクトが <tt class="xref py py-meth docutils literal"><span class="pre">timetuple()</span></tt> メソッドをサポートしているわけではありません。</p>
<p>逆に <a class="reference internal" href="#datetime.datetime.strptime" title="datetime.datetime.strptime"><tt class="xref py py-meth docutils literal"><span class="pre">datetime.strptime()</span></tt></a> クラスメソッドは日付や時刻に対応するフォーマット文字列から <a class="reference internal" href="#module-datetime" title="datetime: 基本的な日付型および時間型。"><tt class="xref py py-class docutils literal"><span class="pre">datetime</span></tt></a> オブジェクトを生成します。
<tt class="docutils literal"><span class="pre">datetime.strptime(date_string,</span> <span class="pre">format)</span></tt> は
<tt class="docutils literal"><span class="pre">datetime(*(time.strptime(date_string,</span> <span class="pre">format)[0:6]))</span></tt> と等価です。</p>
<p><a class="reference internal" href="time.html#module-time" title="time: 時刻データへのアクセスと変換"><tt class="xref py py-class docutils literal"><span class="pre">time</span></tt></a> オブジェクトでは、年、月、日の値がないため、それらの書式化コードを使うことができません。無理矢理使った場合、年は <tt class="docutils literal"><span class="pre">1900</span></tt> に置き換えられ、月と日は <tt class="docutils literal"><span class="pre">1</span></tt> に置き換えられます。</p>
<p><a class="reference internal" href="#datetime.date" title="datetime.date"><tt class="xref py py-class docutils literal"><span class="pre">date</span></tt></a> オブジェクトでは、時、分、秒、マイクロ秒の値がないため、それらの書式化コードを使うことができません。無理矢理使った場合、これらの値は <tt class="docutils literal"><span class="pre">0</span></tt> に置き換えられます。</p>
<p class="versionadded">
<span class="versionmodified">バージョン 2.6 で追加: </span><a class="reference internal" href="time.html#module-time" title="time: 時刻データへのアクセスと変換"><tt class="xref py py-class docutils literal"><span class="pre">time</span></tt></a> および、 <a class="reference internal" href="#module-datetime" title="datetime: 基本的な日付型および時間型。"><tt class="xref py py-class docutils literal"><span class="pre">datetime</span></tt></a> オブジェクトは、6桁まで0埋め
されるマイクロ秒まで拡大された <tt class="docutils literal"><span class="pre">%f</span></tt> 書式をサポートします。</p>
<p>naive オブジェクトでは、書式化コード <tt class="docutils literal"><span class="pre">%z</span></tt> および <tt class="docutils literal"><span class="pre">%Z</span></tt>  は空文字列に置き換えられます。</p>
<p>aware オブジェクトでは以下のようになります:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">%z</span></tt></dt>
<dd><tt class="xref py py-meth docutils literal"><span class="pre">utcoffset()</span></tt> は +HHMM あるいは -HHMM の形式をもった 5 文字の文字列に変換されます。HH は UTC オフセット時間を与える 2 桁の文字列で、
MM は UTC オフセット分を与える 2 桁の文字列です。例えば、
<tt class="xref py py-meth docutils literal"><span class="pre">utcoffset()</span></tt> が <tt class="docutils literal"><span class="pre">timedelta(hours=-3,</span> <span class="pre">minutes=-30)</span></tt> を返した場合、 <tt class="docutils literal"><span class="pre">%z</span></tt> は文字列 <tt class="docutils literal"><span class="pre">'-0330'</span></tt> に置き換わります。</dd>
<dt><tt class="docutils literal"><span class="pre">%Z</span></tt></dt>
<dd><tt class="xref py py-meth docutils literal"><span class="pre">tzname()</span></tt> が <tt class="docutils literal"><span class="pre">None</span></tt> を返した場合、 <tt class="docutils literal"><span class="pre">%Z</span></tt> は空文字列に置き換わります。そうでない場合、 <tt class="docutils literal"><span class="pre">%Z</span></tt> は返された値に置き換わりますが、これは文字列でなければなりません。</dd>
</dl>
<p>Python はプラットフォームの C ライブラリから <tt class="xref py py-func docutils literal"><span class="pre">strftime()</span></tt>
関数を呼び出し、プラットフォーム間のバリエーションはよくあることなので、サポートされている書式化コードの全セットはプラットフォーム間で異なります。</p>
<p>以下のリストはC標準(1989年版)が要求する全ての書式化コードで、標準C実装があれば全ての環境で動作します。
1999 年版の C 標準では書式化コードが追加されているので注意してください。</p>
<p><tt class="xref py py-meth docutils literal"><span class="pre">strftime()</span></tt> が正しく動作する年の厳密な範囲はプラットフォーム間で異なります。プラットフォームに関わらず、1900 年以前の年は使うことができません。</p>
<table border="1" class="docutils">
<colgroup>
<col width="19%" />
<col width="68%" />
<col width="12%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">指定子</th>
<th class="head">意味</th>
<th class="head">備考</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">%a</span></tt></td>
<td>ロケールの短縮された曜日名を表示します</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">%A</span></tt></td>
<td>ロケールの曜日名を表示します</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">%b</span></tt></td>
<td>ロケールの短縮された月名を表示します</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">%B</span></tt></td>
<td>ロケールの月名を表示します</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">%c</span></tt></td>
<td>ロケールの日時を適切な形式で表示します</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">%d</span></tt></td>
<td>月中の日にちを10進表記した文字列 [01,31] を表示します</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">%f</span></tt></td>
<td>マイクロ秒を10進表記した文字列
[000000,999999] を表示します
(左側から0埋めされます)</td>
<td>(1)</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">%H</span></tt></td>
<td>時 (24時間表記) を10進表記した文字列 [00,23] を表示します</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">%I</span></tt></td>
<td>時 (12時間表記) を10進表記した文字列 [01,12] を表示します</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">%j</span></tt></td>
<td>年中の日にちを10進表記した文字列 [001,366] を表示します</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">%m</span></tt></td>
<td>月を10進表記した文字列
[01,12] を表示します</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">%M</span></tt></td>
<td>分を10進表記した文字列
[00,59] を表示します</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">%p</span></tt></td>
<td>ロケールの AM もしくは PM
を表示します</td>
<td>(2)</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">%S</span></tt></td>
<td>秒を10進表記した文字列
[00,61] を表示します</td>
<td>(3)</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">%U</span></tt></td>
<td>年中の週番号
(週の始まりは日曜日とする)
を10進表記した文字列 [00,53]
を表示します新年の最初の日曜日に先立つ日は
0週に属するとします</td>
<td>(4)</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">%w</span></tt></td>
<td>曜日を10進表記した文字列
[0(日曜日),6] を表示します</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">%W</span></tt></td>
<td>年中の週番号
(週の始まりは月曜日とする)
を10進表記した文字列
[00,53] を表示します新年の最初の月曜日に先立つ日は
0週に属するとします</td>
<td>(4)</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">%x</span></tt></td>
<td>ロケールの日付を適切な形式で表示します</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">%X</span></tt></td>
<td>ロケールの時間を適切な形式で表示します</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">%y</span></tt></td>
<td>世紀なしの年(下2桁)を10進表記した文字列 [00,99] を表示します</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">%Y</span></tt></td>
<td>世紀ありの年を10進表記した文字列を表示します</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">%z</span></tt></td>
<td>UTCオフセットを +HHMM もしくは
-HHMM の形式で表示します
(オブジェクトがnaiveであれば空文字列)</td>
<td>(5)</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">%Z</span></tt></td>
<td>タイムゾーンの名前を表示します
(オブジェクトがnaiveであれば空文字列)</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">%%</span></tt></td>
<td>文字 <tt class="docutils literal"><span class="pre">'%'</span></tt> を表示します</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p>Notes:</p>
<ol class="arabic simple">
<li><tt class="xref py py-meth docutils literal"><span class="pre">strptime()</span></tt> メソッドと共に使われた場合、 <tt class="docutils literal"><span class="pre">%f</span></tt> 指定子は 1 桁から
6 桁の数字を受け付け、右側から 0 埋めされます。
<tt class="docutils literal"><span class="pre">%f</span></tt> は C 標準規格の書式セットに拡張されます。</li>
<li><tt class="xref py py-meth docutils literal"><span class="pre">strptime()</span></tt> メソッドと共に使われた場合、 <tt class="docutils literal"><span class="pre">%p</span></tt> 指定子は出力の時間フィールドのみに影響し、 <tt class="docutils literal"><span class="pre">%I</span></tt> 指定子が使われたかのように振る舞います。</li>
<li>範囲は <tt class="docutils literal"><span class="pre">0</span></tt> から <tt class="docutils literal"><span class="pre">61</span></tt> で正しいです; これはうるう秒と、 (極めて稀ですが) 2秒のうるう秒を考慮してのことです。</li>
<li><tt class="xref py py-meth docutils literal"><span class="pre">strptime()</span></tt> メソッドと共に使われた場合、 <tt class="docutils literal"><span class="pre">%U</span></tt> と <tt class="docutils literal"><span class="pre">%W</span></tt> 指定子は、年と曜日が指定された場合の計算でのみ使われます。</li>
<li>例えば、 <tt class="xref py py-meth docutils literal"><span class="pre">utcoffset()</span></tt> が <tt class="docutils literal"><span class="pre">timedelta(hours=-3,</span> <span class="pre">minutes=-30)</span></tt>
を返すとしたら、 <tt class="docutils literal"><span class="pre">%z</span></tt> は文字列、 <tt class="docutils literal"><span class="pre">'-0330'</span></tt> で置き換えられます。</li>
</ol>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>ナビゲーション</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="総合索引"
             >索引</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Pythonモジュール索引"
             >モジュール</a> |</li>
        <li class="right" >
          <a href="calendar.html" title="8.2. calendar — 一般的なカレンダーに関する関数群"
             >次へ</a> |</li>
        <li class="right" >
          <a href="datatypes.html" title="8. データ型"
             >前へ</a> |</li>
        <li><img src="../_static/py.png" alt=""
                 style="vertical-align: middle; margin-top: -1px"/></li>
        <li><a href="../index.html">Python 2.7ja1 documentation</a> &raquo;</li>

          <li><a href="index.html" >Python 標準ライブラリ</a> &raquo;</li>
          <li><a href="datatypes.html" >8. データ型</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; <a href="../copyright.html">Copyright</a> 1990-2011, Python Software Foundation.
      最終更新: 2011-12-26
      このドキュメントは <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2pre/02cb752c6a9e で生成しました。
    </div>
  </body>
</html>


<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>20.11. nntplib — NNTP プロトコルクライアント &mdash; Python 2.7ja1 documentation</title>
    
    <link rel="stylesheet" href="../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.7ja1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="Python 2.7ja1 documentation 内を検索"
          href="../_static/opensearch.xml"/>
    <link rel="author" title="このドキュメントについて" href="../about.html" />
    <link rel="copyright" title="著作権" href="../copyright.html" />
    <link rel="top" title="Python 2.7ja1 documentation" href="../index.html" />
    <link rel="up" title="20. インターネットプロトコルとその支援" href="internet.html" />
    <link rel="next" title="20.12. smtplib — SMTP プロトコルクライアント" href="smtplib.html" />
    <link rel="prev" title="20.10. imaplib — IMAP4 プロトコルクライアント" href="imaplib.html" />
    <link rel="shortcut icon" type="image/png" href="../_static/py.png" />
    <script type="text/javascript" src="../_static/copybutton.js"></script>
    
    <script type="text/javascript" src="../_static/_jp.js"></script>
    
 

  </head>
  <body>
    <div class="related">
      <h3>ナビゲーション</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="総合索引"
             accesskey="I">索引</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Pythonモジュール索引"
             >モジュール</a> |</li>
        <li class="right" >
          <a href="smtplib.html" title="20.12. smtplib — SMTP プロトコルクライアント"
             accesskey="N">次へ</a> |</li>
        <li class="right" >
          <a href="imaplib.html" title="20.10. imaplib — IMAP4 プロトコルクライアント"
             accesskey="P">前へ</a> |</li>
        <li><img src="../_static/py.png" alt=""
                 style="vertical-align: middle; margin-top: -1px"/></li>
        <li><a href="../index.html">Python 2.7ja1 documentation</a> &raquo;</li>

          <li><a href="index.html" >Python 標準ライブラリ</a> &raquo;</li>
          <li><a href="internet.html" accesskey="U">20. インターネットプロトコルとその支援</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../contents.html">目次</a></h3>
  <ul>
<li><a class="reference internal" href="#">20.11. <tt class="docutils literal"><span class="pre">nntplib</span></tt> &#8212; NNTP プロトコルクライアント</a><ul>
<li><a class="reference internal" href="#nntp">20.11.1. NNTP オブジェクト</a></li>
</ul>
</li>
</ul>

  <h4>前のトピックへ</h4>
  <p class="topless"><a href="imaplib.html"
                        title="前の章へ">20.10. <tt class="docutils literal docutils literal"><span class="pre">imaplib</span></tt> &#8212; IMAP4 プロトコルクライアント</a></p>
  <h4>次のトピックへ</h4>
  <p class="topless"><a href="smtplib.html"
                        title="次の章へ">20.12. <tt class="docutils literal"><span class="pre">smtplib</span></tt> &#8212; SMTP プロトコルクライアント</a></p>
  <h3>このページ</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/library/nntplib.txt"
           rel="nofollow">ソースコードを表示</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>クイック検索</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="検索" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    モジュール、クラス、または関数名を入力してください
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-nntplib">
<span id="nntplib-nntp"></span><h1>20.11. <a class="reference internal" href="#module-nntplib" title="nntplib: NNTP プロトコルクライアント (ソケットを必要とします)。"><tt class="xref py py-mod docutils literal"><span class="pre">nntplib</span></tt></a> &#8212; NNTP プロトコルクライアント<a class="headerlink" href="#module-nntplib" title="このヘッドラインへのパーマリンク">¶</a></h1>
<p id="index-0">このモジュールでは、クラス <a class="reference internal" href="#nntplib.NNTP" title="nntplib.NNTP"><tt class="xref py py-class docutils literal"><span class="pre">NNTP</span></tt></a> を定義しています。このクラスは NNTP
プロトコルのクライアント側を実装しています。このモジュールを使えば、ニュースリーダや記事投稿プログラム、または自動的にニュース記事を処理するプログラムを実装することができます。NNTP (Network News Transfer Protocol、ネットニュース転送プロトコル)
の詳細については、インターネット <span class="target" id="index-1"></span><a class="rfc reference external" href="http://tools.ietf.org/html/rfc977.html"><strong>RFC 977</strong></a> を参照してください。</p>
<p>以下にこのモジュールの使い方の小さな例を二つ示します。ニュースグループに関する統計情報を列挙し、最新 10 件の記事を出力するには以下のようにします:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">NNTP</span><span class="p">(</span><span class="s">&#39;news.gmane.org&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">resp</span><span class="p">,</span> <span class="n">count</span><span class="p">,</span> <span class="n">first</span><span class="p">,</span> <span class="n">last</span><span class="p">,</span> <span class="n">name</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="s">&#39;gmane.comp.python.committers&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="s">&#39;Group&#39;</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="s">&#39;has&#39;</span><span class="p">,</span> <span class="n">count</span><span class="p">,</span> <span class="s">&#39;articles, range&#39;</span><span class="p">,</span> <span class="n">first</span><span class="p">,</span> <span class="s">&#39;to&#39;</span><span class="p">,</span> <span class="n">last</span>
<span class="go">Group gmane.comp.python.committers has 1071 articles, range 1 to 1071</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">resp</span><span class="p">,</span> <span class="n">subs</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">xhdr</span><span class="p">(</span><span class="s">&#39;subject&#39;</span><span class="p">,</span> <span class="n">first</span> <span class="o">+</span> <span class="s">&#39;-&#39;</span> <span class="o">+</span> <span class="n">last</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="nb">id</span><span class="p">,</span> <span class="n">sub</span> <span class="ow">in</span> <span class="n">subs</span><span class="p">[</span><span class="o">-</span><span class="mi">10</span><span class="p">:]:</span> <span class="k">print</span> <span class="nb">id</span><span class="p">,</span> <span class="n">sub</span>
<span class="gp">...</span>
<span class="go">1062 Re: Mercurial Status?</span>
<span class="go">1063 Re: [python-committers]  (Windows) buildbots on 3.x</span>
<span class="go">1064 Re: Mercurial Status?</span>
<span class="go">1065 Re: Mercurial Status?</span>
<span class="go">1066 Python 2.6.6 status</span>
<span class="go">1067 Commit Privileges for Ask Solem</span>
<span class="go">1068 Re: Commit Privileges for Ask Solem</span>
<span class="go">1069 Re: Commit Privileges for Ask Solem</span>
<span class="go">1070 Re: Commit Privileges for Ask Solem</span>
<span class="go">1071 2.6.6 rc 2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
<span class="go">&#39;205 Bye!&#39;</span>
</pre></div>
</div>
<p>ファイルから記事を投稿するには、以下のようにします。
(この例では記事番号は有効な番号を指定していて、あなたがそのニュースグループに投稿する権限を持っていると仮定しています)</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">NNTP</span><span class="p">(</span><span class="s">&#39;news.gmane.org&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">&#39;/tmp/article&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="go">&#39;240 Article posted successfully.&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
<span class="go">&#39;205 Bye!&#39;</span>
</pre></div>
</div>
<p>このモジュール自体では以下の内容を定義しています:</p>
<dl class="class">
<dt id="nntplib.NNTP">
<em class="property">class </em><tt class="descclassname">nntplib.</tt><tt class="descname">NNTP</tt><big>(</big><em>host[, port [, user[, password [, readermode] [, usenetrc]]]]</em><big>)</big><a class="headerlink" href="#nntplib.NNTP" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>ホスト <em>host</em> 上で動作し、ポート番号 <em>port</em> で要求待ちをしている NNTP サーバとの接続を表現する新たな <a class="reference internal" href="#nntplib.NNTP" title="nntplib.NNTP"><tt class="xref py py-class docutils literal"><span class="pre">NNTP</span></tt></a>
クラスのインスタンスを返します。標準の <em>port</em> は 119 です。オプションの <em>user</em> および <em>password</em> が与えられているか、または <tt class="file docutils literal"><span class="pre">/.netrc</span></tt> に適切な認証情報が指定されていて <em>usenetrc</em> が真 (デフォルト) の場合、 <tt class="docutils literal"><span class="pre">AUTHINFO</span> <span class="pre">USER</span></tt>
および <tt class="docutils literal"><span class="pre">AUTHINFO</span> <span class="pre">PASS</span></tt> 命令を使ってサーバに対して身元証明および認証を行います。オプションのフラグ <em>readermode</em>
が真の場合、認証の実行に先立って <tt class="docutils literal"><span class="pre">mode</span> <span class="pre">reader</span></tt>  命令が送信されます。reader モードは、ローカルマシン上の NNTP サーバに接続していて、 <tt class="docutils literal"><span class="pre">group</span></tt> のような reader 特有の命令を呼び出したい場合に便利なことがあります。予期せず
<a class="reference internal" href="#nntplib.NNTPPermanentError" title="nntplib.NNTPPermanentError"><tt class="xref py py-exc docutils literal"><span class="pre">NNTPPermanentError</span></tt></a> に遭遇したなら、 <em>readermode</em> を設定する必要があるかもしれません。 <em>readermode</em>
のデフォルト値は <tt class="docutils literal"><span class="pre">None</span></tt> です。 <em>usenetrc</em> のデフォルト値は <tt class="docutils literal"><span class="pre">True</span></tt> です。</p>
<p class="versionchanged">
<span class="versionmodified">バージョン 2.4 で変更: </span><em>usenetrc</em> 引数を追加しました.</p>
</dd></dl>

<dl class="exception">
<dt id="nntplib.NNTPError">
<em class="property">exception </em><tt class="descclassname">nntplib.</tt><tt class="descname">NNTPError</tt><a class="headerlink" href="#nntplib.NNTPError" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>標準の例外 <a class="reference internal" href="exceptions.html#exceptions.Exception" title="exceptions.Exception"><tt class="xref py py-exc docutils literal"><span class="pre">Exception</span></tt></a> から派生しており、 <a class="reference internal" href="#module-nntplib" title="nntplib: NNTP プロトコルクライアント (ソケットを必要とします)。"><tt class="xref py py-mod docutils literal"><span class="pre">nntplib</span></tt></a> モジュールが送出する全ての例外の基底クラスです。</p>
</dd></dl>

<dl class="exception">
<dt id="nntplib.NNTPReplyError">
<em class="property">exception </em><tt class="descclassname">nntplib.</tt><tt class="descname">NNTPReplyError</tt><a class="headerlink" href="#nntplib.NNTPReplyError" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>期待はずれの応答がサーバから返された場合に送出される例外です。以前のバージョンとの互換性のために、 <tt class="docutils literal"><span class="pre">error_reply</span></tt>
はこのクラスと等価になっています。</p>
</dd></dl>

<dl class="exception">
<dt id="nntplib.NNTPTemporaryError">
<em class="property">exception </em><tt class="descclassname">nntplib.</tt><tt class="descname">NNTPTemporaryError</tt><a class="headerlink" href="#nntplib.NNTPTemporaryError" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>エラーコードの範囲が 400-499 のエラーを受信した場合に送出される例外です。以前のバージョンとの互換性のために、 <tt class="docutils literal"><span class="pre">error_temp</span></tt>
はこのクラスと等価になっています。</p>
</dd></dl>

<dl class="exception">
<dt id="nntplib.NNTPPermanentError">
<em class="property">exception </em><tt class="descclassname">nntplib.</tt><tt class="descname">NNTPPermanentError</tt><a class="headerlink" href="#nntplib.NNTPPermanentError" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>エラーコードの範囲が 500-599 のエラーを受信した場合に送出される例外です。以前のバージョンとの互換性のために、 <tt class="docutils literal"><span class="pre">error_perm</span></tt>
はこのクラスと等価になっています。</p>
</dd></dl>

<dl class="exception">
<dt id="nntplib.NNTPProtocolError">
<em class="property">exception </em><tt class="descclassname">nntplib.</tt><tt class="descname">NNTPProtocolError</tt><a class="headerlink" href="#nntplib.NNTPProtocolError" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>サーバから返される応答が 1&#8211;5 の範囲の数字で始まっていない場合に送出される例外です。以前のバージョンとの互換性のために、 <tt class="docutils literal"><span class="pre">error_proto</span></tt>
はこのクラスと等価になっています。</p>
</dd></dl>

<dl class="exception">
<dt id="nntplib.NNTPDataError">
<em class="property">exception </em><tt class="descclassname">nntplib.</tt><tt class="descname">NNTPDataError</tt><a class="headerlink" href="#nntplib.NNTPDataError" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>応答データ中に何らかのエラーが存在する場合に送出される例外です。以前のバージョンとの互換性のために、 <tt class="docutils literal"><span class="pre">error_data</span></tt>
はこのクラスと等価になっています。</p>
</dd></dl>

<div class="section" id="nntp">
<span id="nntp-objects"></span><h2>20.11.1. NNTP オブジェクト<a class="headerlink" href="#nntp" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>NNTP インスタンスは以下のメソッドを持っています。全てのメソッドにおける戻り値のタプルで最初の要素となる <em>response</em> は、サーバの応答です:
この文字列は 3 桁の数字からなるコードで始まります。サーバの応答がエラーを示す場合、上記のいずれかの例外が送出されます。</p>
<dl class="method">
<dt id="nntplib.NNTP.getwelcome">
<tt class="descclassname">NNTP.</tt><tt class="descname">getwelcome</tt><big>(</big><big>)</big><a class="headerlink" href="#nntplib.NNTP.getwelcome" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>サーバに最初に接続した際に送信される応答中のウェルカムメッセージを返します。(このメッセージには時に、ユーザにとって重要な免責事項やヘルプ情報が入っています。)</p>
</dd></dl>

<dl class="method">
<dt id="nntplib.NNTP.set_debuglevel">
<tt class="descclassname">NNTP.</tt><tt class="descname">set_debuglevel</tt><big>(</big><em>level</em><big>)</big><a class="headerlink" href="#nntplib.NNTP.set_debuglevel" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>インスタンスのデバッグレベルを設定します。このメソッドは印字されるデバッグ出力の量を制御します。標準では <tt class="docutils literal"><span class="pre">0</span></tt> に設定されていて、これはデバッグ出力を全く印字しません。 <tt class="docutils literal"><span class="pre">1</span></tt> はそこそこの量、一般に NNTP 要求や応答あたり 1 行のデバッグ出力を生成します。値が <tt class="docutils literal"><span class="pre">2</span></tt>
やそれ以上の場合、(メッセージテキストを含めて) NNTP 接続上で送受信された全ての内容を一行ごとにログ出力する、最大限のデバッグ出力を生成します。</p>
</dd></dl>

<dl class="method">
<dt id="nntplib.NNTP.newgroups">
<tt class="descclassname">NNTP.</tt><tt class="descname">newgroups</tt><big>(</big><em>date</em>, <em>time</em><span class="optional">[</span>, <em>file</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#nntplib.NNTP.newgroups" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><tt class="docutils literal"><span class="pre">NEWSGROUPS</span></tt> 命令を送信します。 <em>date</em> 引数は <tt class="docutils literal"><span class="pre">'yymmdd'</span></tt> の形式を取り、日付を表します。 <em>time</em> 引数は
<tt class="docutils literal"><span class="pre">'hhmmss'</span></tt> の形式をとり、時刻を表します。与えられた日付および時刻以後新たに出現したニュースグループ名のリストを <em>groups</em> として、
<tt class="docutils literal"><span class="pre">(response,</span> <span class="pre">groups)</span></tt> を返します。 <em>file</em> 引数が指定されている場合、 <tt class="docutils literal"><span class="pre">NEWGROUPS</span></tt> コマンドの出力結果はファイルに格納されます。 <em>file</em> が文字列の場合、この文字列をファイル名としてファイルをオープンし、書き込み後にクローズします。 <em>file</em> がファイルオブジェクトの場合、オブジェクトの <tt class="xref py py-meth docutils literal"><span class="pre">write()</span></tt> メソッドを呼び出して出力結果を格納します。 <em>file</em> が指定されている場合は戻り値として空のリストを返します。</p>
</dd></dl>

<dl class="method">
<dt id="nntplib.NNTP.newnews">
<tt class="descclassname">NNTP.</tt><tt class="descname">newnews</tt><big>(</big><em>group</em>, <em>date</em>, <em>time</em><span class="optional">[</span>, <em>file</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#nntplib.NNTP.newnews" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><tt class="docutils literal"><span class="pre">NEWNEWS</span></tt> 命令を送信します。ここで、 <em>group</em> はグループ名または <tt class="docutils literal"><span class="pre">'*'</span></tt> で、 <em>date</em> および <em>time</em> は
<tt class="xref py py-meth docutils literal"><span class="pre">newsgrups()</span></tt> における引数と同じ意味を持ちます。 <tt class="docutils literal"><span class="pre">(response,</span> <span class="pre">articles)</span></tt> からなるペアを返し、
<em>articles</em> はメッセージ ID のリストです。 <em>file</em> 引数が指定されている場合、 <tt class="docutils literal"><span class="pre">NEWNEWS</span></tt> コマンドの出力結果はファイルに格納されます。 <em>file</em> が文字列の場合、この文字列をファイル名としてファイルをオープンし、書き込み後にクローズします。 <em>file</em> がファイルオブジェクトの場合、オブジェクトの <tt class="xref py py-meth docutils literal"><span class="pre">write()</span></tt> メソッドを呼び出して出力結果を格納します。 <em>file</em> が指定されている場合は戻り値として空のリストを返します。</p>
</dd></dl>

<dl class="method">
<dt id="nntplib.NNTP.list">
<tt class="descclassname">NNTP.</tt><tt class="descname">list</tt><big>(</big><span class="optional">[</span><em>file</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#nntplib.NNTP.list" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><tt class="docutils literal"><span class="pre">LIST</span></tt> 命令を送信します。 <tt class="docutils literal"><span class="pre">(response,</span> <span class="pre">list)</span></tt>  からなるペアを返します。 <em>list</em> はタプルからなるリストです。各タプルは
<tt class="docutils literal"><span class="pre">(group,</span> <span class="pre">last,</span> <span class="pre">first,</span> <span class="pre">flag)</span></tt> の形式をとり、 <em>group</em> がグループ名、 <em>last</em> および <em>first</em>
はそれぞれ最新および最初の記事の記事番号 (を表す文字列)、そして <em>flag</em> は投稿が可能な場合には <tt class="docutils literal"><span class="pre">'y'</span></tt>, そうでない場合には
<tt class="docutils literal"><span class="pre">'n'</span></tt>, グループがモデレート (moderated) されている場合には <tt class="docutils literal"><span class="pre">'m'</span></tt> となります。(順番に注意してください: <em>last</em>,
<em>first</em> の順です。) <em>file</em> 引数が指定されている場合、 <tt class="docutils literal"><span class="pre">LIST</span></tt> コマンドの出力結果はファイルに格納されます。 <em>file</em> が文字列の場合、この文字列をファイル名としてファイルをオープンし、書き込み後にクローズします。 <em>file</em> がファイルオブジェクトの場合、オブジェクトの <tt class="xref py py-meth docutils literal"><span class="pre">write()</span></tt> メソッドを呼び出して出力結果を格納します。 <em>file</em> が指定されている場合は戻り値として空のリストを返します。</p>
</dd></dl>

<dl class="method">
<dt id="nntplib.NNTP.descriptions">
<tt class="descclassname">NNTP.</tt><tt class="descname">descriptions</tt><big>(</big><em>grouppattern</em><big>)</big><a class="headerlink" href="#nntplib.NNTP.descriptions" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><tt class="docutils literal"><span class="pre">LIST</span> <span class="pre">NEWSGROUPS</span></tt> 命令を送信します。 <em>grouppattern</em> は RFC2980 の定義に従う wildmat 文字列です
(実際には、 DOS や UNIX のシェルワイルドカード文字列と同じです)。 <tt class="docutils literal"><span class="pre">(response,list)</span></tt> からなるペアを返し、 <em>list</em>
はタプル <tt class="docutils literal"><span class="pre">(name,</span> <span class="pre">title)</span></tt> リストになります。</p>
<p class="versionadded">
<span class="versionmodified">バージョン 2.4 で追加.</span></p>
</dd></dl>

<dl class="method">
<dt id="nntplib.NNTP.description">
<tt class="descclassname">NNTP.</tt><tt class="descname">description</tt><big>(</big><em>group</em><big>)</big><a class="headerlink" href="#nntplib.NNTP.description" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>単一のグループ <em>group</em> から説明文字列を取り出します。 (&#8216;group&#8217; が実際には wildmat 文字列で) 複数のグループがマッチした場合、最初にマッチしたものを返します。何もマッチしなければ空文字列を返します。</p>
<p>このメソッドはサーバからの応答コードを省略します。応答コードが必要なら、 <a class="reference internal" href="#nntplib.NNTP.descriptions" title="nntplib.NNTP.descriptions"><tt class="xref py py-meth docutils literal"><span class="pre">descriptions()</span></tt></a> を使ってください。</p>
<p class="versionadded">
<span class="versionmodified">バージョン 2.4 で追加.</span></p>
</dd></dl>

<dl class="method">
<dt id="nntplib.NNTP.group">
<tt class="descclassname">NNTP.</tt><tt class="descname">group</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#nntplib.NNTP.group" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><tt class="docutils literal"><span class="pre">GROUP</span></tt> 命令を送信します。 <em>name</em> はグループ名です。タプル  <tt class="docutils literal"><span class="pre">(response,</span> <span class="pre">count,</span> <span class="pre">first,</span> <span class="pre">last,</span> <span class="pre">name)</span></tt>
を返します。 <em>count</em> はグループ中の記事数 (の推定値) で、 <em>first</em> はグループ中の最初の記事番号、 <em>last</em> はグループ中の最新の記事番号、 <em>name</em> はグループ名です。記事番号は文字列で返されます。</p>
</dd></dl>

<dl class="method">
<dt id="nntplib.NNTP.help">
<tt class="descclassname">NNTP.</tt><tt class="descname">help</tt><big>(</big><span class="optional">[</span><em>file</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#nntplib.NNTP.help" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><tt class="docutils literal"><span class="pre">HELP</span></tt> 命令を送信します。 <tt class="docutils literal"><span class="pre">(response,</span> <span class="pre">list)</span></tt>  からなるペアを返します。 <em>list</em> はヘルプ文字列からなるリストです。
<em>file</em> 引数が指定されている場合、 <tt class="docutils literal"><span class="pre">HELP</span></tt> コマンドの出力結果はファイルに格納されます。 <em>file</em> が文字列の場合、この文字列をファイル名としてファイルをオープンし、書き込み後にクローズします。 <em>file</em> がファイルオブジェクトの場合、オブジェクトの <tt class="xref py py-meth docutils literal"><span class="pre">write()</span></tt> メソッドを呼び出して出力結果を格納します。 <em>file</em> が指定されている場合は戻り値として空のリストを返します。</p>
</dd></dl>

<dl class="method">
<dt id="nntplib.NNTP.stat">
<tt class="descclassname">NNTP.</tt><tt class="descname">stat</tt><big>(</big><em>id</em><big>)</big><a class="headerlink" href="#nntplib.NNTP.stat" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><tt class="docutils literal"><span class="pre">STAT</span></tt> 命令を送信します。 <em>id</em> は (<tt class="docutils literal"><span class="pre">'&lt;'</span></tt> と <tt class="docutils literal"><span class="pre">'&gt;'</span></tt> に囲まれた形式の) メッセージ ID か、 (文字列の) 記事番号です。三つ組み <tt class="docutils literal"><span class="pre">(response,</span> <span class="pre">number,</span> <span class="pre">id)</span></tt> を返します。 <em>number</em> は (文字列の) 記事番号で、 <em>id</em> は (<tt class="docutils literal"><span class="pre">'&lt;'</span></tt> と
<tt class="docutils literal"><span class="pre">'&gt;'</span></tt> に囲まれた形式の) メッセージ ID です。</p>
</dd></dl>

<dl class="method">
<dt id="nntplib.NNTP.next">
<tt class="descclassname">NNTP.</tt><tt class="descname">next</tt><big>(</big><big>)</big><a class="headerlink" href="#nntplib.NNTP.next" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><tt class="docutils literal"><span class="pre">NEXT</span></tt> 命令を送信します。 <a class="reference internal" href="stat.html#module-stat" title="stat: os.stat()、os.lstat() および os.fstat() の返す内容を解釈するためのユーティリティ群。"><tt class="xref py py-meth docutils literal"><span class="pre">stat()</span></tt></a> のような応答を返します。</p>
</dd></dl>

<dl class="method">
<dt id="nntplib.NNTP.last">
<tt class="descclassname">NNTP.</tt><tt class="descname">last</tt><big>(</big><big>)</big><a class="headerlink" href="#nntplib.NNTP.last" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><tt class="docutils literal"><span class="pre">LAST</span></tt> 命令を送信します。 <a class="reference internal" href="stat.html#module-stat" title="stat: os.stat()、os.lstat() および os.fstat() の返す内容を解釈するためのユーティリティ群。"><tt class="xref py py-meth docutils literal"><span class="pre">stat()</span></tt></a> のような応答を返します。</p>
</dd></dl>

<dl class="method">
<dt id="nntplib.NNTP.head">
<tt class="descclassname">NNTP.</tt><tt class="descname">head</tt><big>(</big><em>id</em><big>)</big><a class="headerlink" href="#nntplib.NNTP.head" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><tt class="docutils literal"><span class="pre">HEAD</span></tt> 命令を送信します。 <em>id</em> は <a class="reference internal" href="stat.html#module-stat" title="stat: os.stat()、os.lstat() および os.fstat() の返す内容を解釈するためのユーティリティ群。"><tt class="xref py py-meth docutils literal"><span class="pre">stat()</span></tt></a> におけるのと同じ意味を持ちます。 <tt class="docutils literal"><span class="pre">(response,</span> <span class="pre">number,</span> <span class="pre">id,</span>
<span class="pre">list)</span></tt> からなるタプルを返します。最初の 3 要素は <a class="reference internal" href="stat.html#module-stat" title="stat: os.stat()、os.lstat() および os.fstat() の返す内容を解釈するためのユーティリティ群。"><tt class="xref py py-meth docutils literal"><span class="pre">stat()</span></tt></a> と同じもので、 <em>list</em> は記事のヘッダからなるリスト
(まだ解析されておらず、末尾の改行が取り去られたヘッダ行のリスト) です。</p>
</dd></dl>

<dl class="method">
<dt id="nntplib.NNTP.body">
<tt class="descclassname">NNTP.</tt><tt class="descname">body</tt><big>(</big><em>id</em><span class="optional">[</span>, <em>file</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#nntplib.NNTP.body" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><tt class="docutils literal"><span class="pre">BODY</span></tt> 命令を送信します。 <em>id</em> は <a class="reference internal" href="stat.html#module-stat" title="stat: os.stat()、os.lstat() および os.fstat() の返す内容を解釈するためのユーティリティ群。"><tt class="xref py py-meth docutils literal"><span class="pre">stat()</span></tt></a> におけるのと同じ意味を持ちます。 <em>file</em> 引数が与えられている場合、記事本体
(body) はファイルに保存されます。 <em>file</em> が文字列の場合、このメソッドはその名前を持つファイルオブジェクトを開き、記事を書き込んで閉じます。 <em>file</em> がファイルオブジェクトの場合、 <tt class="xref py py-meth docutils literal"><span class="pre">write()</span></tt> を呼び出して記事本体を記録します。
<a class="reference internal" href="#nntplib.NNTP.head" title="nntplib.NNTP.head"><tt class="xref py py-meth docutils literal"><span class="pre">head()</span></tt></a> のような戻り値を返します。 <em>file</em> が与えられていた場合、返される <em>list</em> は空のリストになります。</p>
</dd></dl>

<dl class="method">
<dt id="nntplib.NNTP.article">
<tt class="descclassname">NNTP.</tt><tt class="descname">article</tt><big>(</big><em>id</em><big>)</big><a class="headerlink" href="#nntplib.NNTP.article" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><tt class="docutils literal"><span class="pre">ARTICLE</span></tt> 命令を送信します。 <em>id</em> は <a class="reference internal" href="stat.html#module-stat" title="stat: os.stat()、os.lstat() および os.fstat() の返す内容を解釈するためのユーティリティ群。"><tt class="xref py py-meth docutils literal"><span class="pre">stat()</span></tt></a> におけるのと同じ意味を持ちます。 <a class="reference internal" href="#nntplib.NNTP.head" title="nntplib.NNTP.head"><tt class="xref py py-meth docutils literal"><span class="pre">head()</span></tt></a>
のような戻り値を返します。</p>
</dd></dl>

<dl class="method">
<dt id="nntplib.NNTP.slave">
<tt class="descclassname">NNTP.</tt><tt class="descname">slave</tt><big>(</big><big>)</big><a class="headerlink" href="#nntplib.NNTP.slave" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><tt class="docutils literal"><span class="pre">SLAVE</span></tt> 命令を送信します。サーバの <em>response</em> を返します。</p>
</dd></dl>

<dl class="method">
<dt id="nntplib.NNTP.xhdr">
<tt class="descclassname">NNTP.</tt><tt class="descname">xhdr</tt><big>(</big><em>header</em>, <em>string</em><span class="optional">[</span>, <em>file</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#nntplib.NNTP.xhdr" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><tt class="docutils literal"><span class="pre">XHDR</span></tt> 命令を送信します、この命令は RFC には定義されていませんが、一般に広まっている拡張です。 <em>header</em> 引数は、例えば
<tt class="docutils literal"><span class="pre">'subject'</span></tt> といったヘッダキーワードです。 <em>string</em> 引数は  <tt class="docutils literal"><span class="pre">'first-last'</span></tt> の形式でなければならず、ここで
<em>first</em> および <em>last</em> は検索の対象とする記事範囲の最初と最後の記事番号です。 <tt class="docutils literal"><span class="pre">(response,</span> <span class="pre">list)</span></tt> のペアを返します。
<em>list</em> は <tt class="docutils literal"><span class="pre">(id,</span> <span class="pre">text)</span></tt> のペアからなるリストで、 <em>id</em> が (文字列で表した) 記事番号、 <em>text</em> がその記事のヘッダテキストです。 <em>file</em> 引数が指定されている場合、 <tt class="docutils literal"><span class="pre">XHDR</span></tt> コマンドの出力結果はファイルに格納されます。 <em>file</em> が文字列の場合、この文字列をファイル名としてファイルをオープンし、書き込み後にクローズします。 <em>file</em> がファイルオブジェクトの場合、オブジェクトの <tt class="xref py py-meth docutils literal"><span class="pre">write()</span></tt> メソッドを呼び出して出力結果を格納します。 <em>file</em> が指定されている場合は戻り値として空のリストを返します。</p>
</dd></dl>

<dl class="method">
<dt id="nntplib.NNTP.post">
<tt class="descclassname">NNTP.</tt><tt class="descname">post</tt><big>(</big><em>file</em><big>)</big><a class="headerlink" href="#nntplib.NNTP.post" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><tt class="docutils literal"><span class="pre">POST</span></tt> 命令を使って記事をポストします。 <em>file</em> 引数は開かれているファイルオブジェクトで、その内容は <a class="reference internal" href="readline.html#module-readline" title="readline: Python のための GNU readline サポート。 (Unix)"><tt class="xref py py-meth docutils literal"><span class="pre">readline()</span></tt></a>
メソッドを使って EOF まで読み出されます。内容は必要なヘッダを含め、正しい形式のニュース記事でなければなりません。 <a class="reference internal" href="#nntplib.NNTP.post" title="nntplib.NNTP.post"><tt class="xref py py-meth docutils literal"><span class="pre">post()</span></tt></a> メソッドは
<tt class="docutils literal"><span class="pre">.</span></tt> で始まる行を自動的にエスケープします。</p>
</dd></dl>

<dl class="method">
<dt id="nntplib.NNTP.ihave">
<tt class="descclassname">NNTP.</tt><tt class="descname">ihave</tt><big>(</big><em>id</em>, <em>file</em><big>)</big><a class="headerlink" href="#nntplib.NNTP.ihave" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><tt class="docutils literal"><span class="pre">IHAVE</span></tt> 命令を送信します。 <em>id</em> は (<tt class="docutils literal"><span class="pre">'&lt;'</span></tt> と <tt class="docutils literal"><span class="pre">'&gt;'</span></tt> に囲まれた) メッセージ ID です。応答がエラーでない場合、 <em>file</em> を <a class="reference internal" href="#nntplib.NNTP.post" title="nntplib.NNTP.post"><tt class="xref py py-meth docutils literal"><span class="pre">post()</span></tt></a> と全く同じように扱います。</p>
</dd></dl>

<dl class="method">
<dt id="nntplib.NNTP.date">
<tt class="descclassname">NNTP.</tt><tt class="descname">date</tt><big>(</big><big>)</big><a class="headerlink" href="#nntplib.NNTP.date" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>タプル <tt class="docutils literal"><span class="pre">(response,</span> <span class="pre">date,</span> <span class="pre">time)</span></tt> を返します。このタプルには <a class="reference internal" href="#nntplib.NNTP.newnews" title="nntplib.NNTP.newnews"><tt class="xref py py-meth docutils literal"><span class="pre">newnews()</span></tt></a> および
<a class="reference internal" href="#nntplib.NNTP.newgroups" title="nntplib.NNTP.newgroups"><tt class="xref py py-meth docutils literal"><span class="pre">newgroups()</span></tt></a> メソッドに合った形式の、現在の日付および時刻が入っています。これはオプションの NNTP
拡張なので、全てのサーバでサポートされているとは限りません。</p>
</dd></dl>

<dl class="method">
<dt id="nntplib.NNTP.xgtitle">
<tt class="descclassname">NNTP.</tt><tt class="descname">xgtitle</tt><big>(</big><em>name</em><span class="optional">[</span>, <em>file</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#nntplib.NNTP.xgtitle" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><tt class="docutils literal"><span class="pre">XGTITLE</span></tt> 命令を処理し、 <tt class="docutils literal"><span class="pre">(response,</span> <span class="pre">list)</span></tt> からなるペアを返します。 <em>list</em> は <tt class="docutils literal"><span class="pre">(name,</span> <span class="pre">title)</span></tt>
を含むタプルのリストです。 <em>file</em> 引数が指定されている場合、 <tt class="docutils literal"><span class="pre">XHDR</span></tt> コマンドの出力結果はファイルに格納されます。 <em>file</em> が文字列の場合、この文字列をファイル名としてファイルをオープンし、書き込み後にクローズします。 <em>file</em> がファイルオブジェクトの場合、オブジェクトの <tt class="xref py py-meth docutils literal"><span class="pre">write()</span></tt> メソッドを呼び出して出力結果を格納します。 <em>file</em> が指定されている場合は戻り値として空のリストを返します。これはオプションの NNTP 拡張なので、全てのサーバでサポートされているとは限りません。</p>
<p>RFC2980 では、 &#8220;この拡張は撤廃すべきである&#8221; と主張しています。 <a class="reference internal" href="#nntplib.NNTP.descriptions" title="nntplib.NNTP.descriptions"><tt class="xref py py-meth docutils literal"><span class="pre">descriptions()</span></tt></a> または
<a class="reference internal" href="#nntplib.NNTP.description" title="nntplib.NNTP.description"><tt class="xref py py-meth docutils literal"><span class="pre">description()</span></tt></a> を使うようにしてください。</p>
</dd></dl>

<dl class="method">
<dt id="nntplib.NNTP.xover">
<tt class="descclassname">NNTP.</tt><tt class="descname">xover</tt><big>(</big><em>start</em>, <em>end</em><span class="optional">[</span>, <em>file</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#nntplib.NNTP.xover" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><tt class="docutils literal"><span class="pre">(resp,</span> <span class="pre">list)</span></tt> からなるペアを返します。 <em>list</em> はタプルからなるリストで、各タプルは記事番号 <em>start</em>  および <em>end</em>
の間に区切られた記事です。各タプルは <tt class="docutils literal"><span class="pre">(article</span> <span class="pre">number,</span> <span class="pre">subject,</span> <span class="pre">poster,</span> <span class="pre">date,</span> <span class="pre">id,</span> <span class="pre">references,</span>
<span class="pre">size,</span> <span class="pre">lines)</span></tt> の形式をとります。 <em>file</em> 引数が指定されている場合、 <tt class="docutils literal"><span class="pre">XHDR</span></tt> コマンドの出力結果はファイルに格納されます。 <em>file</em> が文字列の場合、この文字列をファイル名としてファイルをオープンし、書き込み後にクローズします。 <em>file</em> がファイルオブジェクトの場合、オブジェクトの <tt class="xref py py-meth docutils literal"><span class="pre">write()</span></tt> メソッドを呼び出して出力結果を格納します。 <em>file</em> が指定されている場合は戻り値として空のリストを返します。これはオプションの NNTP 拡張なので、全てのサーバでサポートされているとは限りません。</p>
</dd></dl>

<dl class="method">
<dt id="nntplib.NNTP.xpath">
<tt class="descclassname">NNTP.</tt><tt class="descname">xpath</tt><big>(</big><em>id</em><big>)</big><a class="headerlink" href="#nntplib.NNTP.xpath" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><tt class="docutils literal"><span class="pre">(resp,</span> <span class="pre">path)</span></tt> からなるペアを返します。 <em>path</em> はメッセージ ID が <em>id</em> である記事のディレクトリパスです。これはオプションの NNTP 拡張なので、全てのサーバでサポートされているとは限りません。</p>
</dd></dl>

<dl class="method">
<dt id="nntplib.NNTP.quit">
<tt class="descclassname">NNTP.</tt><tt class="descname">quit</tt><big>(</big><big>)</big><a class="headerlink" href="#nntplib.NNTP.quit" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><tt class="docutils literal"><span class="pre">QUIT</span></tt> 命令を送信し、接続を閉じます。このメソッドを呼び出した後は、NTTP オブジェクトの他のいかなるメソッドも呼び出してはいけません。</p>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>ナビゲーション</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="総合索引"
             >索引</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Pythonモジュール索引"
             >モジュール</a> |</li>
        <li class="right" >
          <a href="smtplib.html" title="20.12. smtplib — SMTP プロトコルクライアント"
             >次へ</a> |</li>
        <li class="right" >
          <a href="imaplib.html" title="20.10. imaplib — IMAP4 プロトコルクライアント"
             >前へ</a> |</li>
        <li><img src="../_static/py.png" alt=""
                 style="vertical-align: middle; margin-top: -1px"/></li>
        <li><a href="../index.html">Python 2.7ja1 documentation</a> &raquo;</li>

          <li><a href="index.html" >Python 標準ライブラリ</a> &raquo;</li>
          <li><a href="internet.html" >20. インターネットプロトコルとその支援</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; <a href="../copyright.html">Copyright</a> 1990-2011, Python Software Foundation.
      最終更新: 2011-12-26
      このドキュメントは <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2pre/02cb752c6a9e で生成しました。
    </div>
  </body>
</html>
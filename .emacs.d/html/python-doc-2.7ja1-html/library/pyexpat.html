

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>19.5. xml.parsers.expat — Expat を使った高速な XML 解析 &mdash; Python 2.7ja1 documentation</title>
    
    <link rel="stylesheet" href="../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.7ja1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="Python 2.7ja1 documentation 内を検索"
          href="../_static/opensearch.xml"/>
    <link rel="author" title="このドキュメントについて" href="../about.html" />
    <link rel="copyright" title="著作権" href="../copyright.html" />
    <link rel="top" title="Python 2.7ja1 documentation" href="../index.html" />
    <link rel="up" title="19. 構造化マークアップツール" href="markup.html" />
    <link rel="next" title="19.6. xml.dom — 文書オブジェクトモデル (DOM) API" href="xml.dom.html" />
    <link rel="prev" title="19.3. htmllib — HTML 文書の解析器" href="htmllib.html" />
    <link rel="shortcut icon" type="image/png" href="../_static/py.png" />
    <script type="text/javascript" src="../_static/copybutton.js"></script>
    
    <script type="text/javascript" src="../_static/_jp.js"></script>
    
 

  </head>
  <body>
    <div class="related">
      <h3>ナビゲーション</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="総合索引"
             accesskey="I">索引</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Pythonモジュール索引"
             >モジュール</a> |</li>
        <li class="right" >
          <a href="xml.dom.html" title="19.6. xml.dom — 文書オブジェクトモデル (DOM) API"
             accesskey="N">次へ</a> |</li>
        <li class="right" >
          <a href="htmllib.html" title="19.3. htmllib — HTML 文書の解析器"
             accesskey="P">前へ</a> |</li>
        <li><img src="../_static/py.png" alt=""
                 style="vertical-align: middle; margin-top: -1px"/></li>
        <li><a href="../index.html">Python 2.7ja1 documentation</a> &raquo;</li>

          <li><a href="index.html" >Python 標準ライブラリ</a> &raquo;</li>
          <li><a href="markup.html" accesskey="U">19. 構造化マークアップツール</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../contents.html">目次</a></h3>
  <ul>
<li><a class="reference internal" href="#">19.5. <tt class="docutils literal"><span class="pre">xml.parsers.expat</span></tt> &#8212; Expat を使った高速な XML 解析</a><ul>
<li><a class="reference internal" href="#xmlparser-objects">19.5.1. XMLParser Objects</a></li>
<li><a class="reference internal" href="#expaterror">19.5.2. ExpatError 例外</a></li>
<li><a class="reference internal" href="#expat-example">19.5.3. 例</a></li>
<li><a class="reference internal" href="#expat-content-models">19.5.4. 内容モデルの記述</a></li>
<li><a class="reference internal" href="#expat">19.5.5. Expat エラー定数</a></li>
</ul>
</li>
</ul>

  <h4>前のトピックへ</h4>
  <p class="topless"><a href="htmllib.html"
                        title="前の章へ">19.3. <tt class="docutils literal docutils literal"><span class="pre">htmllib</span></tt> &#8212; HTML 文書の解析器</a></p>
  <h4>次のトピックへ</h4>
  <p class="topless"><a href="xml.dom.html"
                        title="次の章へ">19.6. <tt class="docutils literal"><span class="pre">xml.dom</span></tt> &#8212; 文書オブジェクトモデル (DOM) API</a></p>
  <h3>このページ</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/library/pyexpat.txt"
           rel="nofollow">ソースコードを表示</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>クイック検索</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="検索" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    モジュール、クラス、または関数名を入力してください
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-xml.parsers.expat">
<span id="xml-parsers-expat-expat-xml"></span><h1>19.5. <a class="reference internal" href="#module-xml.parsers.expat" title="xml.parsers.expat: Expat による、検証を行わない XML パーザへのインタフェース"><tt class="xref py py-mod docutils literal"><span class="pre">xml.parsers.expat</span></tt></a> &#8212; Expat を使った高速な XML 解析<a class="headerlink" href="#module-xml.parsers.expat" title="このヘッドラインへのパーマリンク">¶</a></h1>
<p class="versionadded">
<span class="versionmodified">バージョン 2.0 で追加.</span></p>
<p id="index-0"><a class="reference internal" href="#module-xml.parsers.expat" title="xml.parsers.expat: Expat による、検証を行わない XML パーザへのインタフェース"><tt class="xref py py-mod docutils literal"><span class="pre">xml.parsers.expat</span></tt></a> モジュールは、検証 (validation) を行わない XML パーザ (parser,
解析器)、Expat への Python インタフェースです。モジュールは一つの拡張型 <tt class="xref py py-class docutils literal"><span class="pre">xmlparser</span></tt> を提供します。これは
XMLパーザの現在の状況を表します。一旦 <tt class="xref py py-class docutils literal"><span class="pre">xmlparser</span></tt> オブジェクトを生成すると、オブジェクトの様々な属性をハンドラ関数
(handler function) に設定できます。その後、XML 文書をパーザに入力すると、 XML文書の文字列とマークアップに応じてハンドラ関数が呼び出されます。</p>
<p id="index-1">このモジュールでは、Expatパーザへのアクセスを提供するために <tt class="xref py py-mod docutils literal"><span class="pre">pyexpat</span></tt> モジュールを使用します。
<tt class="xref py py-mod docutils literal"><span class="pre">pyexpat</span></tt> モジュールの直接使用は撤廃されています。</p>
<p>このモジュールは、例外を一つと型オブジェクトを一つ提供しています。</p>
<dl class="exception">
<dt id="xml.parsers.expat.ExpatError">
<em class="property">exception </em><tt class="descclassname">xml.parsers.expat.</tt><tt class="descname">ExpatError</tt><a class="headerlink" href="#xml.parsers.expat.ExpatError" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Expat がエラーを報告したときに例外を送出します。
Expatのエラーを解釈する上での詳細な情報は、 <a class="reference internal" href="#expaterror-objects"><em>ExpatError 例外</em></a>
を参照してください。</p>
</dd></dl>

<dl class="exception">
<dt id="xml.parsers.expat.error">
<em class="property">exception </em><tt class="descclassname">xml.parsers.expat.</tt><tt class="descname">error</tt><a class="headerlink" href="#xml.parsers.expat.error" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><a class="reference internal" href="#xml.parsers.expat.ExpatError" title="xml.parsers.expat.ExpatError"><tt class="xref py py-exc docutils literal"><span class="pre">ExpatError</span></tt></a> への別名です。</p>
</dd></dl>

<dl class="data">
<dt id="xml.parsers.expat.XMLParserType">
<tt class="descclassname">xml.parsers.expat.</tt><tt class="descname">XMLParserType</tt><a class="headerlink" href="#xml.parsers.expat.XMLParserType" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><a class="reference internal" href="#xml.parsers.expat.ParserCreate" title="xml.parsers.expat.ParserCreate"><tt class="xref py py-func docutils literal"><span class="pre">ParserCreate()</span></tt></a> 関数から返された戻り値の型を示します。</p>
</dd></dl>

<p><a class="reference internal" href="#module-xml.parsers.expat" title="xml.parsers.expat: Expat による、検証を行わない XML パーザへのインタフェース"><tt class="xref py py-mod docutils literal"><span class="pre">xml.parsers.expat</span></tt></a> モジュールには以下の 2 つの関数が収められています:</p>
<dl class="function">
<dt id="xml.parsers.expat.ErrorString">
<tt class="descclassname">xml.parsers.expat.</tt><tt class="descname">ErrorString</tt><big>(</big><em>errno</em><big>)</big><a class="headerlink" href="#xml.parsers.expat.ErrorString" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>与えられたエラー番号 <em>errno</em> を解説する文字列を返します。</p>
</dd></dl>

<dl class="function">
<dt id="xml.parsers.expat.ParserCreate">
<tt class="descclassname">xml.parsers.expat.</tt><tt class="descname">ParserCreate</tt><big>(</big><span class="optional">[</span><em>encoding</em><span class="optional">[</span>, <em>namespace_separator</em><span class="optional">]</span><span class="optional">]</span><big>)</big><a class="headerlink" href="#xml.parsers.expat.ParserCreate" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>新しい <tt class="xref py py-class docutils literal"><span class="pre">xmlparser</span></tt> オブジェクトを作成し、返します。
<em>encoding</em> が指定されていた場合、XMLデータで使われている文字列のエンコード名でなければなりません。
Expatは、Pythonのように多くのエンコードをサポートしておらず、またエンコーディングのレパートリを拡張することはできません;
サポートするエンコードは、UTF-8, UTF-16, ISO-8859-1 (Latin1), ASCII です。
<em>encoding</em> <a class="footnote-reference" href="#id5" id="id1">[1]</a> が指定されると、文書に対する明示的、非明示的なエンコード指定を上書き (override) します。</p>
<p>Expat はオプションで XML 名前空間の処理を行うことができます。これは引数 <em>namespace_separator</em> に値を指定することで有効になります。この値は、1文字の文字列でなければなりません;
文字列が誤った長さを持つ場合には <a class="reference internal" href="exceptions.html#exceptions.ValueError" title="exceptions.ValueError"><tt class="xref py py-exc docutils literal"><span class="pre">ValueError</span></tt></a> が送出されます
(<tt class="docutils literal"><span class="pre">None</span></tt> は値の省略と見なされます)。名前空間の処理が可能なとき、名前空間に属する要素と属性が展開されます。要素のハンドラである <tt class="xref py py-attr docutils literal"><span class="pre">StartElementHandler</span></tt> と
<tt class="xref py py-attr docutils literal"><span class="pre">EndElementHandler</span></tt> に渡された要素名は、名前空間の
URI、名前空間の区切り文字、要素名のローカル部を連結したものになります。名前空間の区切り文字が 0 バイト  (<tt class="docutils literal"><span class="pre">chr(0)</span></tt>)
の場合、名前空間の URI とローカル部は区切り文字なしで連結されます。</p>
<p>たとえば、 <em>namespace_separator</em> に空白文字(<tt class="docutils literal"><span class="pre">'</span> <span class="pre">'</span></tt>)がセットされ、次のような文書が解析されるとします。</p>
<div class="highlight-python"><pre>&lt;?xml version="1.0"?&gt;
&lt;root xmlns    = "http://default-namespace.org/"
      xmlns:py = "http://www.python.org/ns/"&gt;
  &lt;py:elem1 /&gt;
  &lt;elem2 xmlns="" /&gt;
&lt;/root&gt;</pre>
</div>
<p><tt class="xref py py-attr docutils literal"><span class="pre">StartElementHandler</span></tt> は各要素ごとに次のような文字列を受け取ります。</p>
<div class="highlight-python"><pre>http://default-namespace.org/ root
http://www.python.org/ns/ elem1
elem2</pre>
</div>
</dd></dl>

<div class="admonition- admonition seealso">
<p class="first admonition-title">参考</p>
<dl class="last docutils">
<dt><a class="reference external" href="http://www.libexpat.org/">The Expat XML Parser</a></dt>
<dd>Expatプロジェクトのホームページ</dd>
</dl>
</div>
<div class="section" id="xmlparser-objects">
<span id="id2"></span><h2>19.5.1. XMLParser Objects<a class="headerlink" href="#xmlparser-objects" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p><tt class="xref py py-class docutils literal"><span class="pre">xmlparser</span></tt> オブジェクトは以下のようなメソッドを持ちます。</p>
<dl class="method">
<dt id="xml.parsers.expat.xmlparser.Parse">
<tt class="descclassname">xmlparser.</tt><tt class="descname">Parse</tt><big>(</big><em>data</em><span class="optional">[</span>, <em>isfinal</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#xml.parsers.expat.xmlparser.Parse" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>文字列 <em>data</em> の内容を解析し、解析されたデータを処理するための適切な関数を呼び出します。このメソッドを最後に呼び出す時は <em>isfinal</em>
を真にしなければなりません。 <em>data</em> は空の文字列を取ることもできます。</p>
</dd></dl>

<dl class="method">
<dt id="xml.parsers.expat.xmlparser.ParseFile">
<tt class="descclassname">xmlparser.</tt><tt class="descname">ParseFile</tt><big>(</big><em>file</em><big>)</big><a class="headerlink" href="#xml.parsers.expat.xmlparser.ParseFile" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><em>file</em> オブジェクトから読み込んだXMLデータを解析します。 <em>file</em> には <cite>read(nbytes)</cite> メソッドのみが必要です。このメソッドはデータがなくなった場合に空文字列を返さねばなりません。。</p>
</dd></dl>

<dl class="method">
<dt id="xml.parsers.expat.xmlparser.SetBase">
<tt class="descclassname">xmlparser.</tt><tt class="descname">SetBase</tt><big>(</big><em>base</em><big>)</big><a class="headerlink" href="#xml.parsers.expat.xmlparser.SetBase" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>(XML) 宣言中のシステム識別子中の相対 URI を解決するための、基底 URI を設定します。相対識別子の解決はアプリケーションに任されます:
この値は関数 <a class="reference internal" href="#xml.parsers.expat.xmlparser.ExternalEntityRefHandler" title="xml.parsers.expat.xmlparser.ExternalEntityRefHandler"><tt class="xref py py-func docutils literal"><span class="pre">ExternalEntityRefHandler()</span></tt></a> や
<a class="reference internal" href="#xml.parsers.expat.xmlparser.NotationDeclHandler" title="xml.parsers.expat.xmlparser.NotationDeclHandler"><tt class="xref py py-func docutils literal"><span class="pre">NotationDeclHandler()</span></tt></a>, <a class="reference internal" href="#xml.parsers.expat.xmlparser.UnparsedEntityDeclHandler" title="xml.parsers.expat.xmlparser.UnparsedEntityDeclHandler"><tt class="xref py py-func docutils literal"><span class="pre">UnparsedEntityDeclHandler()</span></tt></a> に引数 <em>base</em>
としてそのまま渡されます。</p>
</dd></dl>

<dl class="method">
<dt id="xml.parsers.expat.xmlparser.GetBase">
<tt class="descclassname">xmlparser.</tt><tt class="descname">GetBase</tt><big>(</big><big>)</big><a class="headerlink" href="#xml.parsers.expat.xmlparser.GetBase" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>以前の <a class="reference internal" href="#xml.parsers.expat.xmlparser.SetBase" title="xml.parsers.expat.xmlparser.SetBase"><tt class="xref py py-meth docutils literal"><span class="pre">SetBase()</span></tt></a> によって設定された基底 URI を文字列の形で返します。 <a class="reference internal" href="#xml.parsers.expat.xmlparser.SetBase" title="xml.parsers.expat.xmlparser.SetBase"><tt class="xref py py-meth docutils literal"><span class="pre">SetBase()</span></tt></a> が呼ばれていないときには
<tt class="docutils literal"><span class="pre">None</span></tt> を返します。</p>
</dd></dl>

<dl class="method">
<dt id="xml.parsers.expat.xmlparser.GetInputContext">
<tt class="descclassname">xmlparser.</tt><tt class="descname">GetInputContext</tt><big>(</big><big>)</big><a class="headerlink" href="#xml.parsers.expat.xmlparser.GetInputContext" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>現在のイベントを発生させた入力データを文字列として返します。データはテキストの入っているエンティティが持っているエンコードになります。イベントハンドラがアクティブでないときに呼ばれると、戻り値は <tt class="docutils literal"><span class="pre">None</span></tt> となります。</p>
<p class="versionadded">
<span class="versionmodified">バージョン 2.1 で追加.</span></p>
</dd></dl>

<dl class="method">
<dt id="xml.parsers.expat.xmlparser.ExternalEntityParserCreate">
<tt class="descclassname">xmlparser.</tt><tt class="descname">ExternalEntityParserCreate</tt><big>(</big><em>context</em><span class="optional">[</span>, <em>encoding</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#xml.parsers.expat.xmlparser.ExternalEntityParserCreate" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>親となるパーザで解析された内容が参照している、外部で解析されるエンティティを解析するために使える &#8220;子の&#8221; パーザを作成します。 <em>context</em>
パラメータは、以下に記すように <a class="reference internal" href="#xml.parsers.expat.xmlparser.ExternalEntityRefHandler" title="xml.parsers.expat.xmlparser.ExternalEntityRefHandler"><tt class="xref py py-meth docutils literal"><span class="pre">ExternalEntityRefHandler()</span></tt></a>
ハンドラ関数に渡される文字列でなければなりません。子のパーザは
<a class="reference internal" href="#xml.parsers.expat.xmlparser.ordered_attributes" title="xml.parsers.expat.xmlparser.ordered_attributes"><tt class="xref py py-attr docutils literal"><span class="pre">ordered_attributes</span></tt></a>, <a class="reference internal" href="#xml.parsers.expat.xmlparser.returns_unicode" title="xml.parsers.expat.xmlparser.returns_unicode"><tt class="xref py py-attr docutils literal"><span class="pre">returns_unicode</span></tt></a>, <a class="reference internal" href="#xml.parsers.expat.xmlparser.specified_attributes" title="xml.parsers.expat.xmlparser.specified_attributes"><tt class="xref py py-attr docutils literal"><span class="pre">specified_attributes</span></tt></a>
が現在のパーザの値に設定されて生成されます。</p>
</dd></dl>

<dl class="method">
<dt id="xml.parsers.expat.xmlparser.SetParamEntityParsing">
<tt class="descclassname">xmlparser.</tt><tt class="descname">SetParamEntityParsing</tt><big>(</big><em>flag</em><big>)</big><a class="headerlink" href="#xml.parsers.expat.xmlparser.SetParamEntityParsing" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>パラメーターエンティティ (外部DTDサブセットを含む) の解析を制御します。
<em>flag</em> の有効な値は、 <tt class="xref py py-const docutils literal"><span class="pre">XML_PARAM_ENTITY_PARSING_NEVER</span></tt>,
<tt class="xref py py-const docutils literal"><span class="pre">XML_PARAM_ENTITY_PARSING_UNLESS_STANDALONE</span></tt>,
<tt class="xref py py-const docutils literal"><span class="pre">XML_PARAM_ENTITY_PARSING_ALWAYS</span></tt> です。
flag の設定をしたら true を返します。</p>
</dd></dl>

<dl class="method">
<dt id="xml.parsers.expat.xmlparser.UseForeignDTD">
<tt class="descclassname">xmlparser.</tt><tt class="descname">UseForeignDTD</tt><big>(</big><span class="optional">[</span><em>flag</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#xml.parsers.expat.xmlparser.UseForeignDTD" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><em>flag</em> の値をデフォルトのtrueにすると、Expatは代わりのDTDをロードするため、すべての引数に <a class="reference internal" href="constants.html#None" title="None"><tt class="xref py py-const docutils literal"><span class="pre">None</span></tt></a> を設定して
<a class="reference internal" href="#xml.parsers.expat.xmlparser.ExternalEntityRefHandler" title="xml.parsers.expat.xmlparser.ExternalEntityRefHandler"><tt class="xref py py-attr docutils literal"><span class="pre">ExternalEntityRefHandler</span></tt></a> を呼び出します。XML文書が文書型定義を持っていなければ、
<a class="reference internal" href="#xml.parsers.expat.xmlparser.ExternalEntityRefHandler" title="xml.parsers.expat.xmlparser.ExternalEntityRefHandler"><tt class="xref py py-attr docutils literal"><span class="pre">ExternalEntityRefHandler</span></tt></a> が呼び出しますが、 <a class="reference internal" href="#xml.parsers.expat.xmlparser.StartDoctypeDeclHandler" title="xml.parsers.expat.xmlparser.StartDoctypeDeclHandler"><tt class="xref py py-attr docutils literal"><span class="pre">StartDoctypeDeclHandler</span></tt></a> と
<a class="reference internal" href="#xml.parsers.expat.xmlparser.EndDoctypeDeclHandler" title="xml.parsers.expat.xmlparser.EndDoctypeDeclHandler"><tt class="xref py py-attr docutils literal"><span class="pre">EndDoctypeDeclHandler</span></tt></a> は呼び出されません。</p>
<p><em>flag</em> にfalseを与えると、メソッドが前回呼ばれた時のtrueの設定が解除されますが、他には何も起こりません。</p>
<p>このメソッドは <a class="reference internal" href="#xml.parsers.expat.xmlparser.Parse" title="xml.parsers.expat.xmlparser.Parse"><tt class="xref py py-meth docutils literal"><span class="pre">Parse()</span></tt></a> または <a class="reference internal" href="#xml.parsers.expat.xmlparser.ParseFile" title="xml.parsers.expat.xmlparser.ParseFile"><tt class="xref py py-meth docutils literal"><span class="pre">ParseFile()</span></tt></a> メソッドが呼び出される前にだけ呼び出されます;これら2つのメソッドのどちらかが呼び出されたあとにメソッドが呼ばれると、 <a class="reference internal" href="code.html#module-code" title="code: read-eval-print ループを実装するのを助ける"><tt class="xref py py-attr docutils literal"><span class="pre">code</span></tt></a> に定数
<tt class="xref py py-const docutils literal"><span class="pre">errors.XML_ERROR_CANT_CHANGE_FEATURE_ONCE_PARSING</span></tt> が設定されて例外
<a class="reference internal" href="#xml.parsers.expat.ExpatError" title="xml.parsers.expat.ExpatError"><tt class="xref py py-exc docutils literal"><span class="pre">ExpatError</span></tt></a> が送出されます。</p>
<p class="versionadded">
<span class="versionmodified">バージョン 2.3 で追加.</span></p>
</dd></dl>

<p><tt class="xref py py-class docutils literal"><span class="pre">xmlparser</span></tt> オブジェクトは次のような属性を持ちます:</p>
<dl class="attribute">
<dt id="xml.parsers.expat.xmlparser.buffer_size">
<tt class="descclassname">xmlparser.</tt><tt class="descname">buffer_size</tt><a class="headerlink" href="#xml.parsers.expat.xmlparser.buffer_size" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><a class="reference internal" href="#xml.parsers.expat.xmlparser.buffer_text" title="xml.parsers.expat.xmlparser.buffer_text"><tt class="xref py py-attr docutils literal"><span class="pre">buffer_text</span></tt></a> が真の時に使われるバッファのサイズです。この属性に新しい整数値を代入することで違うバッファサイズにできます。サイズが変えられるときにバッファはフラッシュされます。</p>
<p class="versionadded">
<span class="versionmodified">バージョン 2.3 で追加.</span></p>
<p class="versionchanged">
<span class="versionmodified">バージョン 2.6 で変更: </span>バッファサイズが変えられるようになりました。</p>
</dd></dl>

<dl class="attribute">
<dt id="xml.parsers.expat.xmlparser.buffer_text">
<tt class="descclassname">xmlparser.</tt><tt class="descname">buffer_text</tt><a class="headerlink" href="#xml.parsers.expat.xmlparser.buffer_text" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>この値を真にすると、 <tt class="xref py py-class docutils literal"><span class="pre">xmlparser</span></tt> オブジェクトが Expatから返されたもとの内容をバッファに保持するようになります。これにより可能なときに何度も <a class="reference internal" href="#xml.parsers.expat.xmlparser.CharacterDataHandler" title="xml.parsers.expat.xmlparser.CharacterDataHandler"><tt class="xref py py-meth docutils literal"><span class="pre">CharacterDataHandler()</span></tt></a>
を呼び出してしまうようなことを避けることができます。Expatは通常、文字列のデータを行末ごと大量に破棄するため、かなりパフォーマンスを改善できるはずです。この属性はデフォルトでは偽で、いつでも変更可能です。</p>
<p class="versionadded">
<span class="versionmodified">バージョン 2.3 で追加.</span></p>
</dd></dl>

<dl class="attribute">
<dt id="xml.parsers.expat.xmlparser.buffer_used">
<tt class="descclassname">xmlparser.</tt><tt class="descname">buffer_used</tt><a class="headerlink" href="#xml.parsers.expat.xmlparser.buffer_used" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><a class="reference internal" href="#xml.parsers.expat.xmlparser.buffer_text" title="xml.parsers.expat.xmlparser.buffer_text"><tt class="xref py py-attr docutils literal"><span class="pre">buffer_text</span></tt></a> が利用可能なとき、バッファに保持されたバイト数です。これらのバイトはUTF-8でエンコードされたテキストを表します。この属性は <a class="reference internal" href="#xml.parsers.expat.xmlparser.buffer_text" title="xml.parsers.expat.xmlparser.buffer_text"><tt class="xref py py-attr docutils literal"><span class="pre">buffer_text</span></tt></a> が偽の時には意味がありません。</p>
<p class="versionadded">
<span class="versionmodified">バージョン 2.3 で追加.</span></p>
</dd></dl>

<dl class="attribute">
<dt id="xml.parsers.expat.xmlparser.ordered_attributes">
<tt class="descclassname">xmlparser.</tt><tt class="descname">ordered_attributes</tt><a class="headerlink" href="#xml.parsers.expat.xmlparser.ordered_attributes" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>この属性をゼロ以外の整数にすると、報告される(XMLノードの) 属性を辞書型ではなくリスト型にします。属性は文書のテキスト中の出現順で示されます。それぞれの属性は、2つのリストのエントリ: 属性名とその値、が与えられます。 (このモジュールの古いバージョンでも、同じフォーマットが使われています。)
デフォルトでは、この属性はデフォルトでは偽となりますが、いつでも変更可能です。</p>
<p class="versionadded">
<span class="versionmodified">バージョン 2.1 で追加.</span></p>
</dd></dl>

<dl class="attribute">
<dt id="xml.parsers.expat.xmlparser.returns_unicode">
<tt class="descclassname">xmlparser.</tt><tt class="descname">returns_unicode</tt><a class="headerlink" href="#xml.parsers.expat.xmlparser.returns_unicode" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>この属性をゼロ以外の整数にすると、ハンドラ関数に Unicode 文字列が渡されます。 <a class="reference internal" href="#xml.parsers.expat.xmlparser.returns_unicode" title="xml.parsers.expat.xmlparser.returns_unicode"><tt class="xref py py-attr docutils literal"><span class="pre">returns_unicode</span></tt></a> が
<a class="reference internal" href="constants.html#False" title="False"><tt class="xref py py-const docutils literal"><span class="pre">False</span></tt></a> の時には、UTF-8でエンコードされたデータを含む 8 ビット文字列がハンドラに渡されます。Pythonがユニコードサポートつきでビルドされている場合、この値はデフォルトで <a class="reference internal" href="constants.html#True" title="True"><tt class="xref py py-const docutils literal"><span class="pre">True</span></tt></a> です。</p>
<p class="versionchanged">
<span class="versionmodified">バージョン 1.6 で変更: </span>戻り値の型がいつでも変更できるように変更されたはずです.</p>
</dd></dl>

<dl class="attribute">
<dt id="xml.parsers.expat.xmlparser.specified_attributes">
<tt class="descclassname">xmlparser.</tt><tt class="descname">specified_attributes</tt><a class="headerlink" href="#xml.parsers.expat.xmlparser.specified_attributes" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>ゼロ以外の整数にすると、パーザは文書のインスタンスで特定される属性だけを報告し、属性宣言から導出された属性は報告しないようになります。この属性が指定されたアプリケーションでは、XMLプロセッサの振る舞いに関する標準に従うために必要とされる (文書型) 宣言によって、どのような付加情報が利用できるのかということについて特に注意を払わなければなりません。デフォルトで、この属性は偽となりますが、いつでも変更可能です。</p>
<p class="versionadded">
<span class="versionmodified">バージョン 2.1 で追加.</span></p>
</dd></dl>

<p>以下の属性には、 <tt class="xref py py-class docutils literal"><span class="pre">xmlparser</span></tt> オブジェクトで最も最近に起きたエラーに関する値が入っており、また <tt class="xref py py-meth docutils literal"><span class="pre">Parse()</span></tt> または
<tt class="xref py py-meth docutils literal"><span class="pre">ParseFile()</span></tt> メソッドが <a class="reference internal" href="#xml.parsers.expat.ExpatError" title="xml.parsers.expat.ExpatError"><tt class="xref py py-exc docutils literal"><span class="pre">xml.parsers.expat.ExpatError</span></tt></a>
例外を送出した際にのみ正しい値となります。</p>
<dl class="attribute">
<dt id="xml.parsers.expat.xmlparser.ErrorByteIndex">
<tt class="descclassname">xmlparser.</tt><tt class="descname">ErrorByteIndex</tt><a class="headerlink" href="#xml.parsers.expat.xmlparser.ErrorByteIndex" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>エラーが発生したバイトのインデクスです。</p>
</dd></dl>

<dl class="attribute">
<dt id="xml.parsers.expat.xmlparser.ErrorCode">
<tt class="descclassname">xmlparser.</tt><tt class="descname">ErrorCode</tt><a class="headerlink" href="#xml.parsers.expat.xmlparser.ErrorCode" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>エラーを特定する数値によるコードです。この値は <a class="reference internal" href="#xml.parsers.expat.ErrorString" title="xml.parsers.expat.ErrorString"><tt class="xref py py-func docutils literal"><span class="pre">ErrorString()</span></tt></a> に渡したり、 <tt class="docutils literal"><span class="pre">errors</span></tt>
オブジェクトで定義された内容と比較できます。</p>
</dd></dl>

<dl class="attribute">
<dt id="xml.parsers.expat.xmlparser.ErrorColumnNumber">
<tt class="descclassname">xmlparser.</tt><tt class="descname">ErrorColumnNumber</tt><a class="headerlink" href="#xml.parsers.expat.xmlparser.ErrorColumnNumber" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>エラーの発生したカラム番号です。</p>
</dd></dl>

<dl class="attribute">
<dt id="xml.parsers.expat.xmlparser.ErrorLineNumber">
<tt class="descclassname">xmlparser.</tt><tt class="descname">ErrorLineNumber</tt><a class="headerlink" href="#xml.parsers.expat.xmlparser.ErrorLineNumber" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>エラーの発生した行番号です。</p>
</dd></dl>

<p>以下の属性は <tt class="xref py py-class docutils literal"><span class="pre">xmlparser</span></tt> オブジェクトがその時パースしている位置に関する値を保持しています。コールバックがパースイベントを報告している間、これらの値はイベントの生成した文字列の先頭の位置を指し示します。コールバックの外から参照された時には、（対応するコールバックであるかにかかわらず）直前のパースイベントの位置を示します。</p>
<p class="versionadded">
<span class="versionmodified">バージョン 2.4 で追加.</span></p>
<dl class="attribute">
<dt id="xml.parsers.expat.xmlparser.CurrentByteIndex">
<tt class="descclassname">xmlparser.</tt><tt class="descname">CurrentByteIndex</tt><a class="headerlink" href="#xml.parsers.expat.xmlparser.CurrentByteIndex" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>パーサへの入力の、現在のバイトインデックス。</p>
</dd></dl>

<dl class="attribute">
<dt id="xml.parsers.expat.xmlparser.CurrentColumnNumber">
<tt class="descclassname">xmlparser.</tt><tt class="descname">CurrentColumnNumber</tt><a class="headerlink" href="#xml.parsers.expat.xmlparser.CurrentColumnNumber" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>パーサへの入力の、現在のカラム番号。</p>
</dd></dl>

<dl class="attribute">
<dt id="xml.parsers.expat.xmlparser.CurrentLineNumber">
<tt class="descclassname">xmlparser.</tt><tt class="descname">CurrentLineNumber</tt><a class="headerlink" href="#xml.parsers.expat.xmlparser.CurrentLineNumber" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>パーサへの入力の、現在の行番号。</p>
</dd></dl>

<p>以下に指定可能なハンドラのリストを示します。 <tt class="xref py py-class docutils literal"><span class="pre">xmlparser</span></tt> オブジェクト <em>o</em>
にハンドラを指定するには、 <tt class="docutils literal"><span class="pre">o.handlername</span> <span class="pre">=</span> <span class="pre">func</span></tt> を使用します。
<em>handlername</em> は、以下のリストに挙げた値をとらねばならず、また <em>func</em> は正しい数の引数を受理する呼び出し可能なオブジェクトでなければなりません。引数は特に明記しない限り、すべて文字列となります。</p>
<dl class="method">
<dt id="xml.parsers.expat.xmlparser.XmlDeclHandler">
<tt class="descclassname">xmlparser.</tt><tt class="descname">XmlDeclHandler</tt><big>(</big><em>version</em>, <em>encoding</em>, <em>standalone</em><big>)</big><a class="headerlink" href="#xml.parsers.expat.xmlparser.XmlDeclHandler" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>XML 宣言が解析された時に呼ばれます。XML宣言とは、XML勧告の適用バージョン (オプション)、文書テキストのエンコード、そしてオプションの
&#8220;スタンドアロン&#8221; の宣言です。 <em>version</em> と <em>encoding</em> は <a class="reference internal" href="#xml.parsers.expat.xmlparser.returns_unicode" title="xml.parsers.expat.xmlparser.returns_unicode"><tt class="xref py py-attr docutils literal"><span class="pre">returns_unicode</span></tt></a>
属性によって指示された型を示す文字列となり、 <em>standalone</em> は、文書がスタンドアロンであると宣言される場合には
<tt class="docutils literal"><span class="pre">1</span></tt> に、文書がスタンドアロンでない場合には <tt class="docutils literal"><span class="pre">0</span></tt> に、スタンドアロン宣言を省略する場合には <tt class="docutils literal"><span class="pre">-1</span></tt> になります。このハンドラは Expat
のバージョン1.95.0以降のみ使用できます。</p>
<p class="versionadded">
<span class="versionmodified">バージョン 2.1 で追加.</span></p>
</dd></dl>

<dl class="method">
<dt id="xml.parsers.expat.xmlparser.StartDoctypeDeclHandler">
<tt class="descclassname">xmlparser.</tt><tt class="descname">StartDoctypeDeclHandler</tt><big>(</big><em>doctypeName</em>, <em>systemId</em>, <em>publicId</em>, <em>has_internal_subset</em><big>)</big><a class="headerlink" href="#xml.parsers.expat.xmlparser.StartDoctypeDeclHandler" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Expatが文書型宣言 <tt class="docutils literal"><span class="pre">&lt;!DOCTYPE</span> <span class="pre">...</span></tt>)を解析し始めたときに呼び出されます。 <em>doctypeName</em> は、与えられた値がそのまま
Expat に提供されます。 <em>systemId</em> と <em>publicId</em> パラメタが指定されている場合、それぞれシステムと公開識別子を与えます。省略する時には <tt class="docutils literal"><span class="pre">None</span></tt> にします。文書が内部的な文書宣言のサブセット (internal document declaration subset)
を持つか、サブセット自体の場合、 <em>has_internal_subset</em> は true になります。このハンドラには、Expat version
1.2以上が必要です。</p>
</dd></dl>

<dl class="method">
<dt id="xml.parsers.expat.xmlparser.EndDoctypeDeclHandler">
<tt class="descclassname">xmlparser.</tt><tt class="descname">EndDoctypeDeclHandler</tt><big>(</big><big>)</big><a class="headerlink" href="#xml.parsers.expat.xmlparser.EndDoctypeDeclHandler" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Expatが文書型宣言の解析を終えたときに呼び出されます。このハンドラには、Expat version 1.2以上が必要です。</p>
</dd></dl>

<dl class="method">
<dt id="xml.parsers.expat.xmlparser.ElementDeclHandler">
<tt class="descclassname">xmlparser.</tt><tt class="descname">ElementDeclHandler</tt><big>(</big><em>name</em>, <em>model</em><big>)</big><a class="headerlink" href="#xml.parsers.expat.xmlparser.ElementDeclHandler" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>それぞれの要素型宣言ごとに呼び出されます。 <em>name</em> は要素型の名前であり、 <em>model</em> は内容モデル (content model) の表現です。</p>
</dd></dl>

<dl class="method">
<dt id="xml.parsers.expat.xmlparser.AttlistDeclHandler">
<tt class="descclassname">xmlparser.</tt><tt class="descname">AttlistDeclHandler</tt><big>(</big><em>elname</em>, <em>attname</em>, <em>type</em>, <em>default</em>, <em>required</em><big>)</big><a class="headerlink" href="#xml.parsers.expat.xmlparser.AttlistDeclHandler" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>ひとつの要素型で宣言される属性ごとに呼び出されます。属性リストの宣言が 3つの属性を宣言したとすると、このハンドラはひとつの属性に1度づつ、
3度呼び出されます。 <em>elname</em> は要素名であり、これに対して宣言が適用され、 <em>attname</em> が宣言された属性名となります。属性型は文字列で、 <em>type</em> として渡されます; 取りえる値は、 <tt class="docutils literal"><span class="pre">'CDATA'</span></tt>, <tt class="docutils literal"><span class="pre">'ID'</span></tt>, <tt class="docutils literal"><span class="pre">'IDREF'</span></tt>, ... です。
<em>default</em> は、属性が文書のインスタンスによって指定されていないときに使用されるデフォルト値を与えます。デフォルト値(<tt class="docutils literal"><span class="pre">#IMPLIED</span></tt>
values)が存在しないときには <tt class="docutils literal"><span class="pre">None</span></tt> を与えます。文書のインスタンスによって属性値が与えられる必要のあるときには <em>required</em> がtrueになります。このメソッドはExpat version 1.95.0 以上が必要です。</p>
</dd></dl>

<dl class="method">
<dt id="xml.parsers.expat.xmlparser.StartElementHandler">
<tt class="descclassname">xmlparser.</tt><tt class="descname">StartElementHandler</tt><big>(</big><em>name</em>, <em>attributes</em><big>)</big><a class="headerlink" href="#xml.parsers.expat.xmlparser.StartElementHandler" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>要素の開始を処理するごとに呼び出されます。 <em>name</em> は要素名を格納した文字列で、 <em>attributes</em> はその値に属性名を対応付ける辞書型です。</p>
</dd></dl>

<dl class="method">
<dt id="xml.parsers.expat.xmlparser.EndElementHandler">
<tt class="descclassname">xmlparser.</tt><tt class="descname">EndElementHandler</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#xml.parsers.expat.xmlparser.EndElementHandler" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>要素の終端を処理するごとに呼び出されます。</p>
</dd></dl>

<dl class="method">
<dt id="xml.parsers.expat.xmlparser.ProcessingInstructionHandler">
<tt class="descclassname">xmlparser.</tt><tt class="descname">ProcessingInstructionHandler</tt><big>(</big><em>target</em>, <em>data</em><big>)</big><a class="headerlink" href="#xml.parsers.expat.xmlparser.ProcessingInstructionHandler" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Called for every processing instruction. 処理命令を処理するごとに呼び出されます。</p>
</dd></dl>

<dl class="method">
<dt id="xml.parsers.expat.xmlparser.CharacterDataHandler">
<tt class="descclassname">xmlparser.</tt><tt class="descname">CharacterDataHandler</tt><big>(</big><em>data</em><big>)</big><a class="headerlink" href="#xml.parsers.expat.xmlparser.CharacterDataHandler" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>文字データを処理するときに呼びだされます。このハンドラは通常の文字データ、 CDATAセクション、無視できる空白文字列のために呼び出されます。これらを識別しなければならないアプリケーションは、要求された情報を収集するために <a class="reference internal" href="#xml.parsers.expat.xmlparser.StartCdataSectionHandler" title="xml.parsers.expat.xmlparser.StartCdataSectionHandler"><tt class="xref py py-attr docutils literal"><span class="pre">StartCdataSectionHandler</span></tt></a>,
<a class="reference internal" href="#xml.parsers.expat.xmlparser.EndCdataSectionHandler" title="xml.parsers.expat.xmlparser.EndCdataSectionHandler"><tt class="xref py py-attr docutils literal"><span class="pre">EndCdataSectionHandler</span></tt></a>, and <a class="reference internal" href="#xml.parsers.expat.xmlparser.ElementDeclHandler" title="xml.parsers.expat.xmlparser.ElementDeclHandler"><tt class="xref py py-attr docutils literal"><span class="pre">ElementDeclHandler</span></tt></a> コールバックメソッドを使用できます。</p>
</dd></dl>

<dl class="method">
<dt id="xml.parsers.expat.xmlparser.UnparsedEntityDeclHandler">
<tt class="descclassname">xmlparser.</tt><tt class="descname">UnparsedEntityDeclHandler</tt><big>(</big><em>entityName</em>, <em>base</em>, <em>systemId</em>, <em>publicId</em>, <em>notationName</em><big>)</big><a class="headerlink" href="#xml.parsers.expat.xmlparser.UnparsedEntityDeclHandler" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>解析されていない (NDATA) エンティティ宣言を処理するために呼び出されます。このハンドラは Expat
ライブラリのバージョン1.2のためだけに存在します; より最近のバージョンでは、代わりに <a class="reference internal" href="#xml.parsers.expat.xmlparser.EntityDeclHandler" title="xml.parsers.expat.xmlparser.EntityDeclHandler"><tt class="xref py py-attr docutils literal"><span class="pre">EntityDeclHandler</span></tt></a> を使用してください
(根底にある Expat ライブラリ内の関数は、撤廃されたものであると宣言されています)。</p>
</dd></dl>

<dl class="method">
<dt id="xml.parsers.expat.xmlparser.EntityDeclHandler">
<tt class="descclassname">xmlparser.</tt><tt class="descname">EntityDeclHandler</tt><big>(</big><em>entityName</em>, <em>is_parameter_entity</em>, <em>value</em>, <em>base</em>, <em>systemId</em>, <em>publicId</em>, <em>notationName</em><big>)</big><a class="headerlink" href="#xml.parsers.expat.xmlparser.EntityDeclHandler" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>エンティティ宣言ごとに呼び出されます。パラメタと内部エンティティについて、 <em>value</em> はエンティティ宣言の宣言済みの内容を与える文字列となります;
外部エンティティの時には <tt class="docutils literal"><span class="pre">None</span></tt> となります。解析済みエンティティの場合、 <em>notationName</em> パラメタは <tt class="docutils literal"><span class="pre">None</span></tt> となり、解析されていないエンティティの時には記法 (notation) 名となります。 <em>is_parameter_entity</em>
は、エンティティがパラメタエンティティの場合真に、一般エンティティ (general entitiy) の場合には偽になります
(ほとんどのアプリケーションでは、一般エンティティのことしか気にする必要がありません)。このハンドラは Expat ライブラリのバージョン1.95.0
以降でのみ使用できます。</p>
<p class="versionadded">
<span class="versionmodified">バージョン 2.1 で追加.</span></p>
</dd></dl>

<dl class="method">
<dt id="xml.parsers.expat.xmlparser.NotationDeclHandler">
<tt class="descclassname">xmlparser.</tt><tt class="descname">NotationDeclHandler</tt><big>(</big><em>notationName</em>, <em>base</em>, <em>systemId</em>, <em>publicId</em><big>)</big><a class="headerlink" href="#xml.parsers.expat.xmlparser.NotationDeclHandler" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>記法の宣言 (notation declaration) で呼び出されます。 <em>notationName</em>, <em>base</em>, <em>systemId</em>, および
<em>publicId</em> を与える場合、文字列にします。public な識別子が省略された場合、 <em>publicId</em> は <tt class="docutils literal"><span class="pre">None</span></tt> になります。</p>
</dd></dl>

<dl class="method">
<dt id="xml.parsers.expat.xmlparser.StartNamespaceDeclHandler">
<tt class="descclassname">xmlparser.</tt><tt class="descname">StartNamespaceDeclHandler</tt><big>(</big><em>prefix</em>, <em>uri</em><big>)</big><a class="headerlink" href="#xml.parsers.expat.xmlparser.StartNamespaceDeclHandler" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>要素が名前空間宣言を含んでいる場合に呼び出されます。名前空間宣言は、宣言が配置されている要素に対して <a class="reference internal" href="#xml.parsers.expat.xmlparser.StartElementHandler" title="xml.parsers.expat.xmlparser.StartElementHandler"><tt class="xref py py-attr docutils literal"><span class="pre">StartElementHandler</span></tt></a>
が呼び出される前に処理されます。</p>
</dd></dl>

<dl class="method">
<dt id="xml.parsers.expat.xmlparser.EndNamespaceDeclHandler">
<tt class="descclassname">xmlparser.</tt><tt class="descname">EndNamespaceDeclHandler</tt><big>(</big><em>prefix</em><big>)</big><a class="headerlink" href="#xml.parsers.expat.xmlparser.EndNamespaceDeclHandler" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>名前空間宣言を含んでいたエレメントの終了タグに到達したときに呼び出されます。このハンドラは、要素に関する名前空間宣言ごとに、
<a class="reference internal" href="#xml.parsers.expat.xmlparser.StartNamespaceDeclHandler" title="xml.parsers.expat.xmlparser.StartNamespaceDeclHandler"><tt class="xref py py-attr docutils literal"><span class="pre">StartNamespaceDeclHandler</span></tt></a> とは逆の順番で一度だけ呼び出され、各名前空間宣言のスコープが開始されたことを示します。このハンドラは、要素が終了する際、対応する <a class="reference internal" href="#xml.parsers.expat.xmlparser.EndElementHandler" title="xml.parsers.expat.xmlparser.EndElementHandler"><tt class="xref py py-attr docutils literal"><span class="pre">EndElementHandler</span></tt></a> が呼ばれた後に呼び出されます。</p>
</dd></dl>

<dl class="method">
<dt id="xml.parsers.expat.xmlparser.CommentHandler">
<tt class="descclassname">xmlparser.</tt><tt class="descname">CommentHandler</tt><big>(</big><em>data</em><big>)</big><a class="headerlink" href="#xml.parsers.expat.xmlparser.CommentHandler" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>コメントで呼び出されます。 <em>data</em> はコメントのテキストで、先頭の &#8216;<tt class="docutils literal"><span class="pre">&lt;!-</span></tt> <tt class="docutils literal"><span class="pre">-</span></tt>&#8216; と末尾の &#8216;<tt class="docutils literal"><span class="pre">-</span></tt> <tt class="docutils literal"><span class="pre">-&gt;</span></tt>&#8216;
を除きます。</p>
</dd></dl>

<dl class="method">
<dt id="xml.parsers.expat.xmlparser.StartCdataSectionHandler">
<tt class="descclassname">xmlparser.</tt><tt class="descname">StartCdataSectionHandler</tt><big>(</big><big>)</big><a class="headerlink" href="#xml.parsers.expat.xmlparser.StartCdataSectionHandler" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>CDATA セクションの開始時に呼び出されます。CDATA セクションの構文的な開始と終了位置を識別できるようにするには、このハンドラと
<a class="reference internal" href="#xml.parsers.expat.xmlparser.EndCdataSectionHandler" title="xml.parsers.expat.xmlparser.EndCdataSectionHandler"><tt class="xref py py-attr docutils literal"><span class="pre">EndCdataSectionHandler</span></tt></a> が必要です。</p>
</dd></dl>

<dl class="method">
<dt id="xml.parsers.expat.xmlparser.EndCdataSectionHandler">
<tt class="descclassname">xmlparser.</tt><tt class="descname">EndCdataSectionHandler</tt><big>(</big><big>)</big><a class="headerlink" href="#xml.parsers.expat.xmlparser.EndCdataSectionHandler" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>CDATA セクションの終了時に呼び出されます。</p>
</dd></dl>

<dl class="method">
<dt id="xml.parsers.expat.xmlparser.DefaultHandler">
<tt class="descclassname">xmlparser.</tt><tt class="descname">DefaultHandler</tt><big>(</big><em>data</em><big>)</big><a class="headerlink" href="#xml.parsers.expat.xmlparser.DefaultHandler" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>XML 文書中で、適用可能なハンドラが指定されていない文字すべてに対して呼び出されます。この文字とは、検出されたことが報告されるが、ハンドラは指定されていないようなコンストラクト (construct) の一部である文字を意味します。</p>
</dd></dl>

<dl class="method">
<dt id="xml.parsers.expat.xmlparser.DefaultHandlerExpand">
<tt class="descclassname">xmlparser.</tt><tt class="descname">DefaultHandlerExpand</tt><big>(</big><em>data</em><big>)</big><a class="headerlink" href="#xml.parsers.expat.xmlparser.DefaultHandlerExpand" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><a class="reference internal" href="#xml.parsers.expat.xmlparser.DefaultHandler" title="xml.parsers.expat.xmlparser.DefaultHandler"><tt class="xref py py-func docutils literal"><span class="pre">DefaultHandler()</span></tt></a> と同じですが、内部エンティティの展開を禁止しません。エンティティ参照はデフォルトハンドラに渡されません。</p>
</dd></dl>

<dl class="method">
<dt id="xml.parsers.expat.xmlparser.NotStandaloneHandler">
<tt class="descclassname">xmlparser.</tt><tt class="descname">NotStandaloneHandler</tt><big>(</big><big>)</big><a class="headerlink" href="#xml.parsers.expat.xmlparser.NotStandaloneHandler" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>XML 文書がスタンドアロンの文書として宣言されていない場合に呼び出されます。外部サブセットやパラメタエンティティへの参照が存在するが、XML 宣言が XML
宣言中で standalone 変数を <tt class="docutils literal"><span class="pre">yes</span></tt> に設定していない場合に起きます。このハンドラが <tt class="docutils literal"><span class="pre">0</span></tt> を返すと、パーザは <tt class="xref py py-const docutils literal"><span class="pre">XML_ERROR_NOT_STANDALONE</span></tt>
を発生させます。このハンドラが設定されていなければ、パーザは前述の事態で例外を送出しません。</p>
</dd></dl>

<dl class="method">
<dt id="xml.parsers.expat.xmlparser.ExternalEntityRefHandler">
<tt class="descclassname">xmlparser.</tt><tt class="descname">ExternalEntityRefHandler</tt><big>(</big><em>context</em>, <em>base</em>, <em>systemId</em>, <em>publicId</em><big>)</big><a class="headerlink" href="#xml.parsers.expat.xmlparser.ExternalEntityRefHandler" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>外部エンティティの参照時に呼び出されます。 <em>base</em> は現在の基底 (base) で、以前の <a class="reference internal" href="#xml.parsers.expat.xmlparser.SetBase" title="xml.parsers.expat.xmlparser.SetBase"><tt class="xref py py-meth docutils literal"><span class="pre">SetBase()</span></tt></a> で設定された値になっています。
public、および system の識別子である、 <em>systemId</em> と <em>publicId</em> が指定されている場合、値は文字列です; public
識別子が指定されていない場合、 <em>publicId</em> は <tt class="docutils literal"><span class="pre">None</span></tt> になります。 <em>context</em>
の値は不明瞭なものであり、以下に記述するようにしか使ってはなりません。</p>
<p>外部エンティティが解析されるようにするには、このハンドラを実装しなければなりません。このハンドラは、
<tt class="docutils literal"><span class="pre">ExternalEntityParserCreate(context)</span></tt> を使って適切なコールバックを指定し、子パーザを生成して、エンティティを解析する役割を担います。このハンドラは整数を返さねばなりません; <tt class="docutils literal"><span class="pre">0</span></tt> を返した場合、パーザは
<tt class="xref py py-const docutils literal"><span class="pre">XML_ERROR_EXTERNAL_ENTITY_HANDLING</span></tt> エラーを送出します。そうでないばあい、解析を継続します。</p>
<p>このハンドラが与えられておらず、 <a class="reference internal" href="#xml.parsers.expat.xmlparser.DefaultHandler" title="xml.parsers.expat.xmlparser.DefaultHandler"><tt class="xref py py-attr docutils literal"><span class="pre">DefaultHandler</span></tt></a> コールバックが指定されていれば、外部エンティティは <a class="reference internal" href="#xml.parsers.expat.xmlparser.DefaultHandler" title="xml.parsers.expat.xmlparser.DefaultHandler"><tt class="xref py py-attr docutils literal"><span class="pre">DefaultHandler</span></tt></a> で報告されます。</p>
</dd></dl>

</div>
<div class="section" id="expaterror">
<span id="expaterror-objects"></span><h2>19.5.2. ExpatError 例外<a class="headerlink" href="#expaterror" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p><a class="reference internal" href="#xml.parsers.expat.ExpatError" title="xml.parsers.expat.ExpatError"><tt class="xref py py-exc docutils literal"><span class="pre">ExpatError</span></tt></a> 例外はいくつかの興味深い属性を備えています:</p>
<dl class="attribute">
<dt id="xml.parsers.expat.ExpatError.code">
<tt class="descclassname">ExpatError.</tt><tt class="descname">code</tt><a class="headerlink" href="#xml.parsers.expat.ExpatError.code" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>特定のエラーにおける Expat の内部エラー番号です。この値はこのモジュールの <tt class="docutils literal"><span class="pre">errors</span></tt> オブジェクトで定義されている定数のいずれかに一致します。</p>
<p class="versionadded">
<span class="versionmodified">バージョン 2.1 で追加.</span></p>
</dd></dl>

<dl class="attribute">
<dt id="xml.parsers.expat.ExpatError.lineno">
<tt class="descclassname">ExpatError.</tt><tt class="descname">lineno</tt><a class="headerlink" href="#xml.parsers.expat.ExpatError.lineno" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>エラーが検出された場所の行番号です。最初の行の番号は <tt class="docutils literal"><span class="pre">1</span></tt> です。</p>
<p class="versionadded">
<span class="versionmodified">バージョン 2.1 で追加.</span></p>
</dd></dl>

<dl class="attribute">
<dt id="xml.parsers.expat.ExpatError.offset">
<tt class="descclassname">ExpatError.</tt><tt class="descname">offset</tt><a class="headerlink" href="#xml.parsers.expat.ExpatError.offset" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>エラーが発生した場所の行内でのオフセットです。最初のカラムの番号は <tt class="docutils literal"><span class="pre">0</span></tt> です。</p>
<p class="versionadded">
<span class="versionmodified">バージョン 2.1 で追加.</span></p>
</dd></dl>

</div>
<div class="section" id="expat-example">
<span id="id3"></span><h2>19.5.3. 例<a class="headerlink" href="#expat-example" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>以下のプログラムでは、与えられた引数を出力するだけの三つのハンドラを定義しています。</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">xml.parsers.expat</span>

<span class="c"># 3 handler functions</span>
<span class="k">def</span> <span class="nf">start_element</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">attrs</span><span class="p">):</span>
    <span class="k">print</span> <span class="s">&#39;Start element:&#39;</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">attrs</span>
<span class="k">def</span> <span class="nf">end_element</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
    <span class="k">print</span> <span class="s">&#39;End element:&#39;</span><span class="p">,</span> <span class="n">name</span>
<span class="k">def</span> <span class="nf">char_data</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
    <span class="k">print</span> <span class="s">&#39;Character data:&#39;</span><span class="p">,</span> <span class="nb">repr</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

<span class="n">p</span> <span class="o">=</span> <span class="n">xml</span><span class="o">.</span><span class="n">parsers</span><span class="o">.</span><span class="n">expat</span><span class="o">.</span><span class="n">ParserCreate</span><span class="p">()</span>

<span class="n">p</span><span class="o">.</span><span class="n">StartElementHandler</span> <span class="o">=</span> <span class="n">start_element</span>
<span class="n">p</span><span class="o">.</span><span class="n">EndElementHandler</span> <span class="o">=</span> <span class="n">end_element</span>
<span class="n">p</span><span class="o">.</span><span class="n">CharacterDataHandler</span> <span class="o">=</span> <span class="n">char_data</span>

<span class="n">p</span><span class="o">.</span><span class="n">Parse</span><span class="p">(</span><span class="s">&quot;&quot;&quot;&lt;?xml version=&quot;1.0&quot;?&gt;</span>
<span class="s">&lt;parent id=&quot;top&quot;&gt;&lt;child1 name=&quot;paul&quot;&gt;Text goes here&lt;/child1&gt;</span>
<span class="s">&lt;child2 name=&quot;fred&quot;&gt;More text&lt;/child2&gt;</span>
<span class="s">&lt;/parent&gt;&quot;&quot;&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>このプログラムの出力は以下のようになります:</p>
<div class="highlight-python"><pre>Start element: parent {'id': 'top'}
Start element: child1 {'name': 'paul'}
Character data: 'Text goes here'
End element: child1
Character data: '\n'
Start element: child2 {'name': 'fred'}
Character data: 'More text'
End element: child2
Character data: '\n'
End element: parent</pre>
</div>
</div>
<div class="section" id="expat-content-models">
<span id="id4"></span><h2>19.5.4. 内容モデルの記述<a class="headerlink" href="#expat-content-models" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>内容モデルは入れ子になったタプルを使って記述されています。各タプルには 4 つの値: 型、限定詞 (quantifier)、名前、そして子のタプル、が収められています。子のタプルは単に内容モデルを記述したものです。</p>
<p>最初の二つのフィールドの値は <a class="reference internal" href="#module-xml.parsers.expat" title="xml.parsers.expat: Expat による、検証を行わない XML パーザへのインタフェース"><tt class="xref py py-mod docutils literal"><span class="pre">xml.parsers.expat</span></tt></a> モジュールの <tt class="docutils literal"><span class="pre">model</span></tt>
オブジェクトで定義されている定数です。これらの定数は二つのグループ: モデル型 (model type) グループと限定子 (quantifier)
グループ、に取りまとめられます。</p>
<p>以下にモデル型グループにおける定数を示します:</p>
<dl class="data">
<dt>
<tt class="descclassname">xml.parsers.expat.</tt><tt class="descname">XML_CTYPE_ANY</tt></dt>
<dd><p>モデル名で指定された要素は <tt class="docutils literal"><span class="pre">ANY</span></tt> の内容モデルを持つと宣言されます。</p>
</dd></dl>

<dl class="data">
<dt>
<tt class="descclassname">xml.parsers.expat.</tt><tt class="descname">XML_CTYPE_CHOICE</tt></dt>
<dd><p>指定されたエレメントはいくつかのオプションから選択できるようになっています; <tt class="docutils literal"><span class="pre">(A</span> <span class="pre">|</span> <span class="pre">B</span> <span class="pre">|</span> <span class="pre">C)</span></tt> のような内容モデルで用いられます。</p>
</dd></dl>

<dl class="data">
<dt>
<tt class="descclassname">xml.parsers.expat.</tt><tt class="descname">XML_CTYPE_EMPTY</tt></dt>
<dd><p><tt class="docutils literal"><span class="pre">EMPTY</span></tt> であると宣言されている要素はこのモデル型を持ちます。</p>
</dd></dl>

<dl class="data">
<dt>
<tt class="descclassname">xml.parsers.expat.</tt><tt class="descname">XML_CTYPE_MIXED</tt></dt>
<dd></dd></dl>

<dl class="data">
<dt>
<tt class="descclassname">xml.parsers.expat.</tt><tt class="descname">XML_CTYPE_NAME</tt></dt>
<dd></dd></dl>

<dl class="data">
<dt>
<tt class="descclassname">xml.parsers.expat.</tt><tt class="descname">XML_CTYPE_SEQ</tt></dt>
<dd><p>順々に続くようなモデルの系列を表すモデルがこのモデル型で表されます。 <tt class="docutils literal"><span class="pre">(A,</span> <span class="pre">B,</span> <span class="pre">C)</span></tt> のようなモデルで用いられます。</p>
</dd></dl>

<p>限定子グループにおける定数を以下に示します:</p>
<dl class="data">
<dt>
<tt class="descclassname">xml.parsers.expat.</tt><tt class="descname">XML_CQUANT_NONE</tt></dt>
<dd><p>修飾子 (modifier) が指定されていません。従って <tt class="docutils literal"><span class="pre">A</span></tt> のように、厳密に一つだけです。</p>
</dd></dl>

<dl class="data">
<dt>
<tt class="descclassname">xml.parsers.expat.</tt><tt class="descname">XML_CQUANT_OPT</tt></dt>
<dd><p>このモデルはオプションです: <tt class="docutils literal"><span class="pre">A?</span></tt> のように、一つか全くないかです。</p>
</dd></dl>

<dl class="data">
<dt>
<tt class="descclassname">xml.parsers.expat.</tt><tt class="descname">XML_CQUANT_PLUS</tt></dt>
<dd><p>このモデルは (<tt class="docutils literal"><span class="pre">A+</span></tt> のように) 一つかそれ以上あります。</p>
</dd></dl>

<dl class="data">
<dt>
<tt class="descclassname">xml.parsers.expat.</tt><tt class="descname">XML_CQUANT_REP</tt></dt>
<dd><p>このモデルは <tt class="docutils literal"><span class="pre">A*</span></tt> のようにゼロ回以上あります。</p>
</dd></dl>

</div>
<div class="section" id="expat">
<span id="expat-errors"></span><h2>19.5.5. Expat エラー定数<a class="headerlink" href="#expat" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>以下の定数は <a class="reference internal" href="#module-xml.parsers.expat" title="xml.parsers.expat: Expat による、検証を行わない XML パーザへのインタフェース"><tt class="xref py py-mod docutils literal"><span class="pre">xml.parsers.expat</span></tt></a> モジュールにおける <tt class="docutils literal"><span class="pre">errors</span></tt> オブジェクトで提供されています。これらの定数は、エラーが発生した際に送出される <a class="reference internal" href="#xml.parsers.expat.ExpatError" title="xml.parsers.expat.ExpatError"><tt class="xref py py-exc docutils literal"><span class="pre">ExpatError</span></tt></a> 例外オブジェクトのいくつかの属性を解釈する上で便利です。</p>
<p><tt class="docutils literal"><span class="pre">errors</span></tt> オブジェクトは以下の属性を持ちます:</p>
<dl class="data">
<dt>
<tt class="descclassname">xml.parsers.expat.</tt><tt class="descname">XML_ERROR_ASYNC_ENTITY</tt></dt>
<dd></dd></dl>

<dl class="data">
<dt>
<tt class="descclassname">xml.parsers.expat.</tt><tt class="descname">XML_ERROR_ATTRIBUTE_EXTERNAL_ENTITY_REF</tt></dt>
<dd><p>属性値中のエンティティ参照が、内部エンティティではなく外部エンティティを参照しました。</p>
</dd></dl>

<dl class="data">
<dt>
<tt class="descclassname">xml.parsers.expat.</tt><tt class="descname">XML_ERROR_BAD_CHAR_REF</tt></dt>
<dd><p>文字参照が、XML では正しくない (illegal) 文字を参照しました (例えば <tt class="docutils literal"><span class="pre">0</span></tt> や &#8216;<tt class="docutils literal"><span class="pre">&amp;#0;</span></tt>&#8216;)。</p>
</dd></dl>

<dl class="data">
<dt>
<tt class="descclassname">xml.parsers.expat.</tt><tt class="descname">XML_ERROR_BINARY_ENTITY_REF</tt></dt>
<dd><p>エンティティ参照が、記法 (notation) つきで宣言されているエンティティを参照したため、解析できません。</p>
</dd></dl>

<dl class="data">
<dt>
<tt class="descclassname">xml.parsers.expat.</tt><tt class="descname">XML_ERROR_DUPLICATE_ATTRIBUTE</tt></dt>
<dd><p>一つの属性が一つの開始タグ内に一度より多く使われています。</p>
</dd></dl>

<dl class="data">
<dt>
<tt class="descclassname">xml.parsers.expat.</tt><tt class="descname">XML_ERROR_INCORRECT_ENCODING</tt></dt>
<dd></dd></dl>

<dl class="data">
<dt>
<tt class="descclassname">xml.parsers.expat.</tt><tt class="descname">XML_ERROR_INVALID_TOKEN</tt></dt>
<dd><p>入力されたバイトが文字に適切に関連付けできない際に送出されます; 例えば、UTF-8 入力ストリームにおける NUL バイト (値 <tt class="docutils literal"><span class="pre">0</span></tt>) などです。</p>
</dd></dl>

<dl class="data">
<dt>
<tt class="descclassname">xml.parsers.expat.</tt><tt class="descname">XML_ERROR_JUNK_AFTER_DOC_ELEMENT</tt></dt>
<dd><p>空白以外の何かがドキュメント要素の後にあります。</p>
</dd></dl>

<dl class="data">
<dt>
<tt class="descclassname">xml.parsers.expat.</tt><tt class="descname">XML_ERROR_MISPLACED_XML_PI</tt></dt>
<dd><p>入力データの先頭以外の場所に XML 定義が見つかりました。</p>
</dd></dl>

<dl class="data">
<dt>
<tt class="descclassname">xml.parsers.expat.</tt><tt class="descname">XML_ERROR_NO_ELEMENTS</tt></dt>
<dd><p>このドキュメントには要素が入っていません (XML では全てのドキュメントは確実にトップレベルの要素を一つ持つよう要求しています)。</p>
</dd></dl>

<dl class="data">
<dt>
<tt class="descclassname">xml.parsers.expat.</tt><tt class="descname">XML_ERROR_NO_MEMORY</tt></dt>
<dd><p>Expat が内部メモリを確保できませんでした。</p>
</dd></dl>

<dl class="data">
<dt>
<tt class="descclassname">xml.parsers.expat.</tt><tt class="descname">XML_ERROR_PARAM_ENTITY_REF</tt></dt>
<dd><p>パラメタエンティティが許可されていない場所で見つかりました。</p>
</dd></dl>

<dl class="data">
<dt>
<tt class="descclassname">xml.parsers.expat.</tt><tt class="descname">XML_ERROR_PARTIAL_CHAR</tt></dt>
<dd><p>入力に不完全な文字が見つかりました。</p>
</dd></dl>

<dl class="data">
<dt>
<tt class="descclassname">xml.parsers.expat.</tt><tt class="descname">XML_ERROR_RECURSIVE_ENTITY_REF</tt></dt>
<dd><p>エンティティ参照中に、同じエンティティへの別の参照が入っていました; おそらく違う名前で参照しているか、間接的に参照しています。</p>
</dd></dl>

<dl class="data">
<dt>
<tt class="descclassname">xml.parsers.expat.</tt><tt class="descname">XML_ERROR_SYNTAX</tt></dt>
<dd><p>何らかの仕様化されていない構文エラーに遭遇しました。</p>
</dd></dl>

<dl class="data">
<dt>
<tt class="descclassname">xml.parsers.expat.</tt><tt class="descname">XML_ERROR_TAG_MISMATCH</tt></dt>
<dd><p>終了タグが最も内側で開かれている開始タグに一致しません。</p>
</dd></dl>

<dl class="data">
<dt>
<tt class="descclassname">xml.parsers.expat.</tt><tt class="descname">XML_ERROR_UNCLOSED_TOKEN</tt></dt>
<dd><p>何らかの (開始タグのような) トークンが閉じられないまま、ストリームの終端や次のトークンに遭遇しました。</p>
</dd></dl>

<dl class="data">
<dt>
<tt class="descclassname">xml.parsers.expat.</tt><tt class="descname">XML_ERROR_UNDEFINED_ENTITY</tt></dt>
<dd><p>定義されていないエンティティへの参照が行われました。</p>
</dd></dl>

<dl class="data">
<dt>
<tt class="descclassname">xml.parsers.expat.</tt><tt class="descname">XML_ERROR_UNKNOWN_ENCODING</tt></dt>
<dd><p>ドキュメントのエンコードが Expat でサポートされていません。</p>
</dd></dl>

<dl class="data">
<dt>
<tt class="descclassname">xml.parsers.expat.</tt><tt class="descname">XML_ERROR_UNCLOSED_CDATA_SECTION</tt></dt>
<dd><p>CDATAセクションが閉じられていません。</p>
</dd></dl>

<dl class="data">
<dt>
<tt class="descclassname">xml.parsers.expat.</tt><tt class="descname">XML_ERROR_EXTERNAL_ENTITY_HANDLING</tt></dt>
<dd></dd></dl>

<dl class="data">
<dt>
<tt class="descclassname">xml.parsers.expat.</tt><tt class="descname">XML_ERROR_NOT_STANDALONE</tt></dt>
<dd><p>XML文書が&#8221;standalone&#8221;だと宣言されており <tt class="xref py py-attr docutils literal"><span class="pre">NotStandaloneHandler</span></tt> が設定され <tt class="docutils literal"><span class="pre">0</span></tt> が返されているにもかかわらず、パーサは&#8221;standalone&#8221;ではないと判別しました。</p>
</dd></dl>

<dl class="data">
<dt>
<tt class="descclassname">xml.parsers.expat.</tt><tt class="descname">XML_ERROR_UNEXPECTED_STATE</tt></dt>
<dd></dd></dl>

<dl class="data">
<dt>
<tt class="descclassname">xml.parsers.expat.</tt><tt class="descname">XML_ERROR_ENTITY_DECLARED_IN_PE</tt></dt>
<dd></dd></dl>

<dl class="data">
<dt>
<tt class="descclassname">xml.parsers.expat.</tt><tt class="descname">XML_ERROR_FEATURE_REQUIRES_XML_DTD</tt></dt>
<dd><p>その操作を完了するにはDTDのサポートが必要ですが、ExpatがDTDのサポートをしない設定になっています。これは
<a class="reference internal" href="#module-xml.parsers.expat" title="xml.parsers.expat: Expat による、検証を行わない XML パーザへのインタフェース"><tt class="xref py py-mod docutils literal"><span class="pre">xml.parsers.expat</span></tt></a> モジュールの標準的なビルドでは報告されません。</p>
</dd></dl>

<dl class="data">
<dt>
<tt class="descclassname">xml.parsers.expat.</tt><tt class="descname">XML_ERROR_CANT_CHANGE_FEATURE_ONCE_PARSING</tt></dt>
<dd><p>パースが始まったあとで動作の変更が要求されました。これはパースが開始される前にのみ変更可能です。（現在のところ） <tt class="xref py py-meth docutils literal"><span class="pre">UseForeignDTD()</span></tt>
によってのみ送出されます。</p>
</dd></dl>

<dl class="data">
<dt>
<tt class="descclassname">xml.parsers.expat.</tt><tt class="descname">XML_ERROR_UNBOUND_PREFIX</tt></dt>
<dd><p>名前空間の処理を有効すると宣言されていないプレフィックスが見つかります。</p>
</dd></dl>

<dl class="data">
<dt>
<tt class="descclassname">xml.parsers.expat.</tt><tt class="descname">XML_ERROR_UNDECLARING_PREFIX</tt></dt>
<dd><p>XML文書はプレフィックスに対応した名前空間宣言を削除しようとしました。</p>
</dd></dl>

<dl class="data">
<dt>
<tt class="descclassname">xml.parsers.expat.</tt><tt class="descname">XML_ERROR_INCOMPLETE_PE</tt></dt>
<dd><p>パラメータエンティティは不完全なマークアップを含んでいます。</p>
</dd></dl>

<dl class="data">
<dt>
<tt class="descclassname">xml.parsers.expat.</tt><tt class="descname">XML_ERROR_XML_DECL</tt></dt>
<dd><p>XML文書中に要素がありません。</p>
</dd></dl>

<dl class="data">
<dt>
<tt class="descclassname">xml.parsers.expat.</tt><tt class="descname">XML_ERROR_TEXT_DECL</tt></dt>
<dd><p>外部エンティティ中のテキスト宣言にエラーがあります。</p>
</dd></dl>

<dl class="data">
<dt>
<tt class="descclassname">xml.parsers.expat.</tt><tt class="descname">XML_ERROR_PUBLICID</tt></dt>
<dd><p>パブリックID中に許可されていない文字があります。</p>
</dd></dl>

<dl class="data">
<dt>
<tt class="descclassname">xml.parsers.expat.</tt><tt class="descname">XML_ERROR_SUSPENDED</tt></dt>
<dd><p>要求された操作は一時停止されたパーサで行われていますが、許可されていない操作です。このエラーは追加の入力を行なおうとしている場合、もしくはパーサが停止しようとしている場合にも送出されます。</p>
</dd></dl>

<dl class="data">
<dt>
<tt class="descclassname">xml.parsers.expat.</tt><tt class="descname">XML_ERROR_NOT_SUSPENDED</tt></dt>
<dd><p>パーサを一時停止しようとしましたが、停止されませんでした。</p>
</dd></dl>

<dl class="data">
<dt>
<tt class="descclassname">xml.parsers.expat.</tt><tt class="descname">XML_ERROR_ABORTED</tt></dt>
<dd><p>Pythonアプリケーションには通知されません。</p>
</dd></dl>

<dl class="data">
<dt>
<tt class="descclassname">xml.parsers.expat.</tt><tt class="descname">XML_ERROR_FINISHED</tt></dt>
<dd><p>要求された操作で、パース対象となる入力が完了したと判断しましたが、入力は受理されませんでした。このエラーは追加の入力を行なおうとしている場合、もしくはパーサが停止しようとしている場合に送出されます。</p>
</dd></dl>

<dl class="data">
<dt>
<tt class="descclassname">xml.parsers.expat.</tt><tt class="descname">XML_ERROR_SUSPEND_PE</tt></dt>
<dd></dd></dl>

<p class="rubric">注記</p>
<table class="docutils footnote" frame="void" id="id5" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[1]</td><td>XML の出力に含まれるエンコーディング文字列は適切な標準に適合していなければなりません。たとえば、&#8221;UTF-8&#8221; は正当ですが、&#8221;UTF8&#8221; は違います。
<a class="reference external" href="http://www.w3.org/TR/2006/REC-xml11-20060816/#NT-EncodingDecl">http://www.w3.org/TR/2006/REC-xml11-20060816/#NT-EncodingDecl</a>
と
<a class="reference external" href="http://www.iana.org/assignments/character-sets">http://www.iana.org/assignments/character-sets</a>
を参照して下さい。</td></tr>
</tbody>
</table>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>ナビゲーション</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="総合索引"
             >索引</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Pythonモジュール索引"
             >モジュール</a> |</li>
        <li class="right" >
          <a href="xml.dom.html" title="19.6. xml.dom — 文書オブジェクトモデル (DOM) API"
             >次へ</a> |</li>
        <li class="right" >
          <a href="htmllib.html" title="19.3. htmllib — HTML 文書の解析器"
             >前へ</a> |</li>
        <li><img src="../_static/py.png" alt=""
                 style="vertical-align: middle; margin-top: -1px"/></li>
        <li><a href="../index.html">Python 2.7ja1 documentation</a> &raquo;</li>

          <li><a href="index.html" >Python 標準ライブラリ</a> &raquo;</li>
          <li><a href="markup.html" >19. 構造化マークアップツール</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; <a href="../copyright.html">Copyright</a> 1990-2011, Python Software Foundation.
      最終更新: 2011-12-26
      このドキュメントは <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2pre/02cb752c6a9e で生成しました。
    </div>
  </body>
</html>


<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>4. 拡張マークアップ構成部 (Additional Markup Constructs) &mdash; Python 2.7ja1 documentation</title>
    
    <link rel="stylesheet" href="../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.7ja1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="Python 2.7ja1 documentation 内を検索"
          href="../_static/opensearch.xml"/>
    <link rel="author" title="このドキュメントについて" href="../about.html" />
    <link rel="copyright" title="著作権" href="../copyright.html" />
    <link rel="top" title="Python 2.7ja1 documentation" href="../index.html" />
    <link rel="up" title="Python のドキュメントの作成" href="index.html" />
    <link rel="next" title="5. LaTeX マークアップとの違い" href="fromlatex.html" />
    <link rel="prev" title="3. reStructuredText の基礎" href="rest.html" />
    <link rel="shortcut icon" type="image/png" href="../_static/py.png" />
    <script type="text/javascript" src="../_static/copybutton.js"></script>
    
    <script type="text/javascript" src="../_static/_jp.js"></script>
    
 

  </head>
  <body>
    <div class="related">
      <h3>ナビゲーション</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="総合索引"
             accesskey="I">索引</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Pythonモジュール索引"
             >モジュール</a> |</li>
        <li class="right" >
          <a href="fromlatex.html" title="5. LaTeX マークアップとの違い"
             accesskey="N">次へ</a> |</li>
        <li class="right" >
          <a href="rest.html" title="3. reStructuredText の基礎"
             accesskey="P">前へ</a> |</li>
        <li><img src="../_static/py.png" alt=""
                 style="vertical-align: middle; margin-top: -1px"/></li>
        <li><a href="../index.html">Python 2.7ja1 documentation</a> &raquo;</li>

          <li><a href="index.html" accesskey="U">Python のドキュメントの作成</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../contents.html">目次</a></h3>
  <ul>
<li><a class="reference internal" href="#">4. 拡張マークアップ構成部 (Additional Markup Constructs)</a><ul>
<li><a class="reference internal" href="#meta-information-markup">4.1. メタ情報マークアップ (Meta-information markup)</a></li>
<li><a class="reference internal" href="#module-specific-markup">4.2. モジュール用のマークアップ (Module-specific markup)</a></li>
<li><a class="reference internal" href="#information-units">4.3. 情報単位 (Information units)</a></li>
<li><a class="reference internal" href="#showing-code-examples">4.4. コードサンプルを表示する (Showing code examples)</a></li>
<li><a class="reference internal" href="#inline-markup">4.5. インラインマークアップ (Inline markup)</a></li>
<li><a class="reference internal" href="#cross-linking-markup">4.6. クロスリンクのマークアップ (Cross-linking markup)</a></li>
<li><a class="reference internal" href="#paragraph-level-markup">4.7. 段落レベルでのマークアップ (Paragraph-level markup)</a></li>
<li><a class="reference internal" href="#table-of-contents-table-of-contents-markup">4.8. Table-of-contents マークアップ (Table-of-contents markup)</a></li>
<li><a class="reference internal" href="#index-generating-markup">4.9. インデックス生成マークアップ (Index-generating markup)</a></li>
<li><a class="reference internal" href="#grammar-production-displays">4.10. 文法導出表記 (Grammar production displays)</a></li>
<li><a class="reference internal" href="#substitutions">4.11. 置換 (Substitutions)</a></li>
</ul>
</li>
</ul>

  <h4>前のトピックへ</h4>
  <p class="topless"><a href="rest.html"
                        title="前の章へ">3. reStructuredText の基礎</a></p>
  <h4>次のトピックへ</h4>
  <p class="topless"><a href="fromlatex.html"
                        title="次の章へ">5. LaTeX マークアップとの違い</a></p>
  <h3>このページ</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/documenting/markup.txt"
           rel="nofollow">ソースコードを表示</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>クイック検索</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="検索" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    モジュール、クラス、または関数名を入力してください
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="additional-markup-constructs">
<h1>4. 拡張マークアップ構成部 (Additional Markup Constructs)<a class="headerlink" href="#additional-markup-constructs" title="このヘッドラインへのパーマリンク">¶</a></h1>
<p>Sphinx は標準の reST マークアップに対して、たくさんのディレクティブと
&#8220;interpreted text roles&#8221; を拡張しています。このセクションにはそれらの拡張された構成部のリファレンスがあります。
&#8220;標準&#8221;の reST 構成部は、 Python ドキュメントで使用されてはいますが、そのドキュメントはここにはありません。</p>
<div class="admonition note">
<p class="first admonition-title">ノート</p>
<p class="last">これは Sphinx の拡張マークアップの機能の概要です。網羅された情報は <a class="reference external" href="http://sphinx.pocoo.org/contents.html">Sphinxのドキュメント</a> にあります。</p>
</div>
<div class="section" id="meta-information-markup">
<h2>4.1. メタ情報マークアップ (Meta-information markup)<a class="headerlink" href="#meta-information-markup" title="このヘッドラインへのパーマリンク">¶</a></h2>
<dl class="describe">
<dt>
<tt class="descname">sectionauthor</tt></dt>
<dd><p>現在のセクションの著者を示します。引数には、(公表されないにしても)公表されても良いような名前と、email アドレスを含むべきです。アドレスのドメイン名部分は小文字で記述されるべきです。例:</p>
<div class="highlight-rest"><div class="highlight"><pre><span class="p">..</span> <span class="ow">sectionauthor</span><span class="p">::</span> Guido van Rossum &lt;guido@python.org&gt;
</pre></div>
</div>
<p>現在のところ、このマークアップは出力には全く利用されていませんが、だれが貢献したのかを把握するのに役に立っています。</p>
</dd></dl>

</div>
<div class="section" id="module-specific-markup">
<h2>4.2. モジュール用のマークアップ (Module-specific markup)<a class="headerlink" href="#module-specific-markup" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>この節では、ドキュメント中のモジュールに関する情報を提供するために使われるマークアップについて説明します。各モジュールは各々のファイルでドキュメントされるべきです。通常このマークアップは、そのファイルのタイトルヘッダの後に使います。典型的なファイルは次のように始まります:</p>
<div class="highlight-rest"><div class="highlight"><pre><span class="gh">:mod:`parrot` -- Dead parrot access</span>
<span class="gh">===================================</span>

<span class="p">..</span> <span class="ow">module</span><span class="p">::</span> parrot
   :platform: Unix, Windows
   <span class="nc">:synopsis:</span> <span class="nf">Analyze and reanimate dead parrots.</span>
<span class="p">..</span> <span class="ow">moduleauthor</span><span class="p">::</span> Eric Cleese &lt;eric@python.invalid&gt;
<span class="p">..</span> <span class="ow">moduleauthor</span><span class="p">::</span> John Idle &lt;john@python.invalid&gt;
</pre></div>
</div>
<p>ごらんの通り、モジュール専用マークアップは、 <tt class="docutils literal"><span class="pre">module</span></tt> と <tt class="docutils literal"><span class="pre">moduleauthor</span></tt>
という二つのディレクティブから成ります。</p>
<dl class="describe">
<dt>
<tt class="descname">module</tt></dt>
<dd><p>このディレクティブはモジュールの説明の始まりを示します。（パッケージのサブモジュールの場合は、モジュール名はパッケージ名を含めて全体を記述すること）</p>
<p><tt class="docutils literal"><span class="pre">platform</span></tt> オプションは、そのモジュールが利用可能なプラットフォームをカンマで区切ったリストです。（全てのプラットフォームで利用可能であるなら、このオプションは外すべきです）要素は短い識別子で、 &#8220;IRIX&#8221;, &#8220;Mac&#8221;, &#8220;Windows&#8221;, &#8220;Unix&#8221; などが使われています。できるだけ、すでに使われている識別子を使うようにしてください。</p>
<p><tt class="docutils literal"><span class="pre">synopsis</span></tt> オプションは、モジュールの目的を説明する一文で構成されます。これは、現在のところ、 Global Module Index でのみ利用されています。</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">moduleauthor</tt></dt>
<dd><p><tt class="docutils literal"><span class="pre">moduleauthor</span></tt> ディレクティブは、 <tt class="docutils literal"><span class="pre">sectionauthor</span></tt> と同じで、作者の名前になります。このディレクティブは、作者の人数だけ繰り返して利用できます。現在、このディレクティブは出力に利用されていません。</p>
</dd></dl>

<div class="admonition note">
<p class="first admonition-title">ノート</p>
<p class="last">モジュールを解説するファイルのセクションタイトルは、概要ファイルの中の
table-of-contents ツリーに利用されるので、意味が解るようにしてください。</p>
</div>
</div>
<div class="section" id="information-units">
<h2>4.3. 情報単位 (Information units)<a class="headerlink" href="#information-units" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>モジュールが提供する機能を解説するために使うディレクティブが幾つかあります。各ディレクティブは、何を説明しようとしているのかを判別する情報として一つかそれ以上のシグネチャを必要とします。そして、ディレクティブの内容はその解説であるべきです。デフォルトではディレクティブはインデックスのエントリに登録されます。インデックスのエントリが必要ない場合は、ディレクティブオプションとして
<tt class="docutils literal"><span class="pre">:noindex:</span></tt> というフラグを追加します。次の例は、ここまでで説明した要素を全て含んだディレクティブになります:</p>
<div class="highlight-rest"><div class="highlight"><pre><span class="p">..</span> <span class="ow">function</span><span class="p">::</span> spam(eggs)
              ham(eggs)
   <span class="nc">:noindex:</span>

   Spam or ham the foo.
</pre></div>
</div>
<p>オブジェクトのメソッドやデータ属性(attribute)のシグネチャは、文脈からどの型に属しているかが明らかな場合であっても、 (<tt class="docutils literal"><span class="pre">..</span> <span class="pre">method::FileInput.input(...)</span></tt>) のように型名を含める必要があります。これは、一貫したクロスリファレンスを実現するためです。
&#8220;context managers&#8221; といった抽象プロトコルに属するメソッドを解説する場合にも、インデックスを判りやすくするために、（仮想）型名を付けてください。</p>
<p>ディレクティブは以下の通りです。</p>
<dl class="describe">
<dt>
<tt class="descname">c:function</tt></dt>
<dd><p>Cの関数を説明します。シグネチャはC言語のまま付けてください。例:</p>
<div class="highlight-rest"><div class="highlight"><pre><span class="p">..</span> <span class="ow">cfunction</span><span class="p">::</span> PyObject<span class="ge">* PyType_GenericAlloc(PyTypeObject *</span>type, Py_ssize_t nitems)
</pre></div>
</div>
<p>このディレクティブは関数ライクなプリプロセッサマクロを説明するのにも使います。引数の名前を省略しないでください。引数の名前を説明の中で利用できます。</p>
<p>シグネチャの中のアスタリスクをバックスラッシュでエスケープしなくても良いことを覚えておいてください。reST のインラインに対するパース処理は行われません。</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">c:member</tt></dt>
<dd><p>Cの構造体メンバを説明します。シグネチャの例:</p>
<div class="highlight-rest"><div class="highlight"><pre><span class="p">..</span> <span class="ow">cmember</span><span class="p">::</span> PyObject* PyTypeObject.tp_bases
</pre></div>
</div>
<p>説明文は、値の取り得る範囲、値がどのように扱われるか、値を変更しても良いのかどうかについて記述するべきです。テキストの中で構造体のメンバを参照するときには <tt class="docutils literal"><span class="pre">member</span></tt> role を利用するべきです。</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">c:macro</tt></dt>
<dd><p>&#8220;シンプル&#8221;な C言語のマクロについて説明します。シンプルなマクロとは、引数を取らず、関数として解説されないものです。このディレクティブは単純な定数の定義には利用しません。
Python ドキュメントの中でこのディレクティブが使われている例には、 <a class="reference internal" href="../c-api/structures.html#PyObject_HEAD" title="PyObject_HEAD"><tt class="xref c c-macro docutils literal"><span class="pre">PyObject_HEAD</span></tt></a> と
<a class="reference internal" href="../c-api/init.html#Py_BEGIN_ALLOW_THREADS" title="Py_BEGIN_ALLOW_THREADS"><tt class="xref c c-macro docutils literal"><span class="pre">Py_BEGIN_ALLOW_THREADS</span></tt></a> があります。</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">c:type</tt></dt>
<dd><p>C の型を説明します。シグネチャは単に型の名前であるべきです。</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">c:var</tt></dt>
<dd><p>C のグローバル変数を説明します。シグネチャは、次の例のように、型を含めるべきです:</p>
<div class="highlight-rest"><div class="highlight"><pre><span class="p">..</span> <span class="ow">cvar</span><span class="p">::</span> PyObject* PyClass_Type
</pre></div>
</div>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">data</tt></dt>
<dd><p>モジュール内のグローバルなデータを説明します。変数にも、 &#8220;定数として宣言された&#8221;
値にも利用します。クラスとオブジェクトの属性にはこのディレクティブを使いません。</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">exception</tt></dt>
<dd><p>例外クラスについて説明します。シグネチャは、必要ではありませんが、コンストラクタ引数と丸括弧を含むことができます。</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">function</tt></dt>
<dd><p>モジュールレベル関数を説明します。シグネチャには引数を記述するべきです。オプションの引数は角括弧で囲みます。明快さのために必要であれば、デフォルト値を含めることもできます。例:</p>
<div class="highlight-rest"><div class="highlight"><pre><span class="p">..</span> <span class="ow">function</span><span class="p">::</span> repeat([repeat=3[, number=1000000]])
</pre></div>
</div>
<p>このディレクティブはオブジェクトメソッドには利用されません。モジュールの名前空間にあり、モジュールの公開インタフェースになっている、束縛済みのオブジェクトメソッド
(Bound object method) については、通常の関数とほとんど変わらないので、このディレクティブを使います。</p>
<p>説明文は、必要とされる引数と、それがどのように使われるか（特に、可変(mutable) オブジェクトが変更されるかどうか）、副作用、発生しうる例外についての情報を含むべきです。小さな例を提供するのも良いでしょう。</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">class</tt></dt>
<dd><p>クラスを説明します。シグネチャには丸括弧とコンストラクタ引数を含めることができます。</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">attribute</tt></dt>
<dd><p>オブジェクトの属性を説明します。説明文は、期待されるデータ型と、直接変更しても良いかどうかを含むべきです。このディレクティブは、下記の例のように、クラスディレクティブの中にネストするべきです:</p>
<div class="highlight-rest"><div class="highlight"><pre><span class="p">..</span> <span class="ow">class</span><span class="p">::</span> Spam

      クラスの解説

<span class="p">      ..</span> <span class="ow">attribute</span><span class="p">::</span> ham

         属性の解説
</pre></div>
</div>
<p>例えば、異なる属性やメソッドを複数のドキュメントに分けるときなどに、属性のドキュメントは、クラスディレクティブの外に置くことも出来ます。このとき、明示的にクラス名を含むべきです:</p>
<div class="highlight-rest"><div class="highlight"><pre><span class="p">..</span> <span class="ow">attribute</span><span class="p">::</span> Spam.eggs
</pre></div>
</div>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">method</tt></dt>
<dd><p>オブジェクトメソッドを説明します。パラメータからは、 <tt class="docutils literal"><span class="pre">self</span></tt> パラメータを除外するべきです。説明文は <tt class="docutils literal"><span class="pre">function</span></tt> と同じような情報を提供するべきです。このディレクティブは、上記の例のように、クラスディレクティブの中にネストするべきです</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">opcode</tt></dt>
<dd><p>Python バイトコード(<a class="reference internal" href="../glossary.html#term-bytecode"><em class="xref std std-term">bytecode</em></a>)の命令を説明します。</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">cmdoption</tt></dt>
<dd><p>Python のコマンドラインオプションもしくはスイッチを説明します。オプションの引数名は &lt;&gt; の括弧で囲います。 例:</p>
<div class="highlight-rest"><div class="highlight"><pre><span class="p">..</span> <span class="ow">cmdoption</span><span class="p">::</span> -m &lt;module&gt;

   module をスクリプトとして実行します。
</pre></div>
</div>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">envvar</tt></dt>
<dd><p>Python が利用したり定義している環境変数を説明します。</p>
</dd></dl>

<p>もっと汎用的なバージョンの以下のディレクティブもあります:</p>
<dl class="describe">
<dt>
<tt class="descname">describe</tt></dt>
<dd><p>このディレクティブは、上で説明したディレクティブと同じフォーマットを生成しますが、インデックスエントリやクロスリファレンスターゲットは生成しません。このディレクティブは、たとえば、このドキュメントでディレクティブの説明をするために利用しています。例:</p>
<div class="highlight-rest"><div class="highlight"><pre><span class="p">..</span> <span class="ow">describe</span><span class="p">::</span> opcode

   Python バイトコードの命令を説明します。
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="showing-code-examples">
<h2>4.4. コードサンプルを表示する (Showing code examples)<a class="headerlink" href="#showing-code-examples" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Python ソースコードやインタラクティブセッションの例は、 reST 標準のリテラルブロックを利用して書きます。手前の段落の最後を <tt class="docutils literal"><span class="pre">::</span></tt> にして、インデントで範囲を指定します。</p>
<p>インタラクティブセッションを表現するときは、プロンプトと出力を Python コードと一緒に書いてください。インタラクティブセッションに対して特別なマークアップは用意されていません。入力か出力の最後の行の後に、 &#8220;使用されない&#8221; プロンプトを入れてはいけません。次の例のように <em>してはいけません</em></p>
<div class="highlight-rest"><div class="highlight"><pre>&gt;&gt;&gt; 1 + 1
2
&gt;&gt;&gt;
</pre></div>
</div>
<p>シンタックスハイライトはスマートに処理されます:</p>
<ul>
<li><p class="first">各ソースファイルには、 &#8220;ハイライト言語&#8221; があります。多数のファイルで Python のコードをハイライトするために、デフォルトでは <tt class="docutils literal"><span class="pre">'python'</span></tt> に設定されています。</p>
</li>
<li><p class="first">Python ハイライティングモードでは、インタラクティブセッションは自動的に認識されて適切にハイライトされます。</p>
</li>
<li><p class="first">ハイライト言語は <tt class="docutils literal"><span class="pre">highlightlang</span></tt> ディレクティブを利用して変更することができます。以下のようにして利用します:</p>
<div class="highlight-rest"><div class="highlight"><pre><span class="p">..</span> <span class="ow">highlightlang</span><span class="p">::</span> c
</pre></div>
</div>
<p>このディレクティブで設定されたハイライト言語は、次の <tt class="docutils literal"><span class="pre">highlightlang</span></tt> ディレクティブまで有効になります。</p>
</li>
<li><p class="first">ハイライト言語のよく使われる値は以下の通りです:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">python</span></tt> (デフォルト)</li>
<li><tt class="docutils literal"><span class="pre">c</span></tt></li>
<li><tt class="docutils literal"><span class="pre">rest</span></tt></li>
<li><tt class="docutils literal"><span class="pre">none</span></tt> (ハイライトなし)</li>
</ul>
</li>
<li><p class="first">現在のハイライト言語でのハイライティングに失敗した場合、そのブロックは全くハイライトされません。</p>
</li>
</ul>
<p>長い、そのまま表示されるテキストは、外部のプレインテキストのみで書かれたファイルに格納して、取り込む (include) こともできます。その場合、標準の <tt class="docutils literal"><span class="pre">include</span></tt> ディレクティブに
<tt class="docutils literal"><span class="pre">literal</span></tt> オプションフラグを付けて利用します。たとえば、 <tt class="file docutils literal"><span class="pre">example.py</span></tt> という
Python ソースファイルを取り込む場合は:</p>
<div class="highlight-rest"><div class="highlight"><pre><span class="p">..</span> <span class="ow">include</span><span class="p">::</span> example.py
   <span class="nc">:literal:</span>
</pre></div>
</div>
</div>
<div class="section" id="inline-markup">
<h2>4.5. インラインマークアップ (Inline markup)<a class="headerlink" href="#inline-markup" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>前に述べたように、 Sphinx はドキュメント内に意味に基づくマークアップを挿入するために、 &#8220;interpreted text roles&#8221; を使います。</p>
<p>関数/メソッドの引数のようなローカル変数名は例外で、シンプルに <tt class="docutils literal"><span class="pre">*var*</span></tt>
とマークされます。</p>
<p>その他の全ての role について、 <tt class="docutils literal"><span class="pre">:rolename:`content`</span></tt> のように書く必要があります。</p>
<p>そのほかにもクロスリファレンス role をより他用途にする便利な機能があります。</p>
<ul>
<li><p class="first">明示的なタイトルと参照ターゲットを、 reST の直接ハイパーリンクのように書くことができます:
<tt class="docutils literal"><span class="pre">:role:`title</span> <span class="pre">&lt;target&gt;`</span></tt> は <em>target</em> を参照しますが、リンクテキストは <em>title</em>
になります。</p>
</li>
<li><p class="first">コンテントにprefix <tt class="docutils literal"><span class="pre">!</span></tt> を付けると、参照もハイパーリンクも作られません。</p>
</li>
<li><p class="first">Python オブジェクトのロールにおいて、コンテントに <tt class="docutils literal"><span class="pre">~</span></tt> というprefixをつけると、リンクターゲットはターゲットの最後の部分になります。例えば、 <tt class="docutils literal"><span class="pre">:meth:`~Queue.Queue.get`</span></tt>
は <tt class="docutils literal"><span class="pre">Queue.Queue.get</span></tt> を参照しますが、リンクテキストとしては <tt class="docutils literal"><span class="pre">get</span></tt>
だけを表示します。</p>
<p>HTML出力において、そのリンクの <tt class="docutils literal"><span class="pre">title</span></tt> 属性 (例えばマウスオーバー時のツールチップに表示される) は完全なターゲット名になります。</p>
</li>
</ul>
<p>以下の roles はモジュール内のオブジェクトを参照し、該当する識別子があればハイパーリンクを作成します。</p>
<dl class="describe">
<dt>
<tt class="descname">mod</tt></dt>
<dd><p>モジュールの名前。ドット付きの名前も使われる。これはパッケージの名前にも使う。</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">func</tt></dt>
<dd><p>Python 関数の名前。ドット付きの名前も使われる。可読性のために、 role のテキストには後ろの丸括弧も含めるべきである。丸括弧は該当する識別子を検索するときには無視される。</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">data</tt></dt>
<dd><p>モジュールレベル変数や定数の名前。</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">const</tt></dt>
<dd><p>定数として &#8220;宣言された&#8221; 名前。これは C言語の <tt class="docutils literal"><span class="pre">#define</span></tt> か、
Python の変更されないことを意図された変数である。</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">class</tt></dt>
<dd><p>クラス名。ドット付きの名前も使われる。</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">meth</tt></dt>
<dd><p>オブジェクトメソッドの名前。 role テキストには型の名前と、メソッド名、後続の丸括弧を含めるべきである。ドット付きの名前も使われる。</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">attr</tt></dt>
<dd><p>オブジェクトのデータ属性の名前。</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">exc</tt></dt>
<dd><p>例外の名前。ドット付きの名前も使われる。</p>
</dd></dl>

<p>このマークアップで囲まれた名前は、モジュール名とクラス名の両方あるいは片方を含めることができます。たとえば、 <tt class="docutils literal"><span class="pre">:func:`filter`</span></tt> は、現在のモジュール内にある
<tt class="docutils literal"><span class="pre">filter</span></tt> という名前の関数か、その名前のビルトイン関数を参照できます。それに対して、 <tt class="docutils literal"><span class="pre">:func:`foo.filter`</span></tt> とすると、はっきりと <tt class="docutils literal"><span class="pre">foo</span></tt> モジュールの中の <tt class="docutils literal"><span class="pre">filter</span></tt> 関数だけを参照します。</p>
<p>同じようなことが、ある名前が現在ドキュメントしているクラスの属性かどうかを決定する際にも行われます。</p>
<p>以下の roles は、その C言語の要素が API ドキュメントにあれば、それに対するクロスリファレンスを作成します。</p>
<dl class="describe">
<dt>
<tt class="descname">cdata</tt></dt>
<dd><p>C言語の変数の名前。</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">cfunc</tt></dt>
<dd><p>C言語の関数の名前。後続の丸括弧も含めるべきである。</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">cmacro</tt></dt>
<dd><p>前述した、 &#8220;シンプルな&#8221; C のマクロの名前。</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">ctype</tt></dt>
<dd><p>C言語の型の名前。</p>
</dd></dl>

<p>以下の role はクロスリファレンスは作るかもしれませんが、オブジェクトを参照する事はありません。</p>
<dl class="describe">
<dt>
<tt class="descname">token</tt></dt>
<dd><p>文法上のトークンの名前。(リファレンスマニュアルにおいて、出力間のリンクを作成するために使われます)</p>
</dd></dl>

<hr class="docutils" />
<p>以下の roles はテキストのフォーマットスタイルを変更する以外何もしません。</p>
<dl class="describe">
<dt>
<tt class="descname">command</tt></dt>
<dd><p><tt class="docutils literal"><span class="pre">rm</span></tt> のような、OS レベルのコマンドの名前。</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">dfn</tt></dt>
<dd><p>テキストの中で定義される語をマークする。 (インデックスエントリは作成されない)</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">envvar</tt></dt>
<dd><p>環境変数。インデックスエントリが作成される。</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">file</tt></dt>
<dd><p>ファイルやディレクトリの名前。この中では、 &#8220;可変&#8221; な部分を示すために波括弧 &#8220;{}&#8221; を利用できる。例:</p>
<div class="highlight-rest"><div class="highlight"><pre><span class="cp">... は :file:`/usr/lib/python2.{x}/site-packages` にインストールされます ...</span>
</pre></div>
</div>
<p>ビルドされたドキュメントの中では、この <tt class="docutils literal"><span class="pre">x</span></tt> は、 Python マイナーバージョンで置き換えられることを示すために、違った形式で表示されます。</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">guilabel</tt></dt>
<dd><p>インタラクティブなユーザーインタフェースの一部として表示されているラベルは、
<tt class="docutils literal"><span class="pre">guilabel</span></tt> を使ってマークされるべきです。これには、 <a class="reference internal" href="../library/curses.html#module-curses" title="curses: 可搬性のある端末操作を提供する curses ライブラリへのインタフェース． (Unix)"><tt class="xref py py-mod docutils literal"><span class="pre">curses</span></tt></a> やその他のテキストベースのライブラリを利用して作られた、テキストベースのインタフェースの中のラベルも含みます。ボタンラベル、ウィンドウタイトル、フィールド名、メニューとその項目、選択リスト内の要素など、インタフェース内のどんなラベルにも、この role を利用するべきです。</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">kbd</tt></dt>
<dd><p>キーストロークシーケンスをマークアップします。キーシーケンスをどんな形式で表現するかは、プラットフォームやアプリケーションごとに慣習があります。適切な慣習が無い場合は、初心者や非ネイティブスピーカーにも判るように、修飾キー (modifier key)
を省略形にしないでください。例えば、 <em>xemacs</em> キーシーケンスは、 <tt class="docutils literal"><span class="pre">:kbd:`C-x</span> <span class="pre">C-f`</span></tt>
のように記述できますが、特定のアプリケーションやプラットフォームに関連づけられていない場合は、このキーシーケンスは <tt class="docutils literal"><span class="pre">:kbd:`Control-x</span> <span class="pre">Control-f`</span></tt> とマークアップされるべきです。</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">keyword</tt></dt>
<dd><p>プログラミング言語の予約後(keyword).</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">mailheader</tt></dt>
<dd><p>RFC 822 形式のメールヘッダの名前。このマークアップは、そのヘッダが e-mail で利用されることを意味するわけではなく、同じ &#8220;スタイル&#8221; のどんなヘッダを参照するのにも使えます。多種の MIME 仕様で定義されているヘッダにも利用されます。ヘッダの名前は、実際に利用される場合と同じように書くべきで、一般的な使い方が複数ある場合は camel-case が好まれます。例: <tt class="docutils literal"><span class="pre">:mailheader:`Content-Type`</span></tt>.</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">makevar</tt></dt>
<dd><p><strong class="command">make</strong> の変数名。</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">manpage</tt></dt>
<dd><p>セクションを含む、Unix manual page への参照。例: <tt class="docutils literal"><span class="pre">:manpage:`ls(1)`</span></tt>.</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">menuselection</tt></dt>
<dd><p>メニュー項目は <tt class="docutils literal"><span class="pre">menuselection</span></tt> role を使ってマークアップされるべきです。これは、サブメニューや特定の操作のの選択を含め、完全なメニュー項目の並びや、その一部をマークアップするのに使われます。各項目の名前は <tt class="docutils literal"><span class="pre">--&gt;</span></tt> を使って区切るべきです。</p>
<p>例えば、&#8221;スタート &gt; プログラム&#8221; をマークアップする場合は、次の様にします:</p>
<div class="highlight-rest"><div class="highlight"><pre><span class="na">:menuselection:</span><span class="nv">`スタート --&gt; プログラム`</span>
</pre></div>
</div>
<p>幾つかのOSで、メニュー項目の後ろに何か記号を付けてダイアログボックスを開く事を示すといったことがあります。そういったメニュー項目の後ろに続く表記は、メニュー項目名に含めないべきです。</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">mimetype</tt></dt>
<dd><p>MIME type もしくは MIME type の構成要素 (メジャーもしくはマイナー部分だけ)
の名前。</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">newsgroup</tt></dt>
<dd><p>Usenet ニュースグループの名前。</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">option</tt></dt>
<dd><p>実行可能プログラムのコマンドラインオプション。先頭のハイフンも含めなければならない。</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">program</tt></dt>
<dd><p>実行可能プログラムの名前。幾つかのプラットフォームでは、実行可能ファイル名と異なるかもしれない。特に、Windows のプログラムでは、 <tt class="docutils literal"><span class="pre">.exe</span></tt> (もしくは他の)
拡張子は除くべきである。</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">regexp</tt></dt>
<dd><p>正規表現。クォートを含めるべきではない。</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">samp</tt></dt>
<dd><p>コードのようなリテラルテキスト。
<tt class="docutils literal"><span class="pre">:file:</span></tt> と同じく、この中では &#8220;可変&#8221; な部分を示すために波括弧を利用できます。</p>
<p>&#8220;可変&#8221; 部分が要らないのであれば、通常の <tt class="docutils literal"><span class="pre">``code``</span></tt> を使ってください。</p>
</dd></dl>

<p>以下の roles は外部リンクを生成する:</p>
<dl class="describe">
<dt>
<tt class="descname">pep</tt></dt>
<dd><p>Python Enhancement Proposal への参照。これは適切なインデックスのエントリを生成する。HTML出力では、 &#8220;PEP <em>number</em>&#8221; というテキストが生成され、このテキストは指定された PEP のオンラインコピーへのハイパーリンクになる。</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">rfc</tt></dt>
<dd><p>Internet Request for Comments (RFC) への参照。これは適切なインデックスのエントリを生成する。HTML 出力では &#8220;RFC <em>number</em>&#8221; というテキストが生成され、このテキストは指定された RFC のオンラインコピーへのハイパーリンクになる。</p>
</dd></dl>

<p>ハイパーリンクのために特別な role が用意されていないことに注意してください。
reST 標準の方法がその目的に利用できるからです。</p>
</div>
<div class="section" id="cross-linking-markup">
<span id="doc-ref-role"></span><h2>4.6. クロスリンクのマークアップ (Cross-linking markup)<a class="headerlink" href="#cross-linking-markup" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>ドキュメント中の任意のセクションに対してのクロスリファレンスをサポートするには、
reST 標準のラベルはあまり良くありません。全てのラベルはセクションタイトルの前におかなければならず、全てのラベルの名前はドキュメントのソース全体に渡ってユニークでなければなりません。</p>
<p>そこで、セクションを参照するのには <tt class="docutils literal"><span class="pre">:ref:`label-name`</span></tt> という role を、利用できます。</p>
<p>例:</p>
<div class="highlight-rest"><div class="highlight"><pre><span class="cp">.. _my-reference-label:</span>

<span class="gh">クロスリファレンスされるセクション</span>
<span class="gh">----------------------------------</span>

セクションの文字列。

このセクション自体を参照します。 <span class="na">:ref:</span><span class="nv">`my-reference-label`</span> を見てください。

<span class="cp">.. _my-reference-label:</span>
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">:ref:</span></tt> の部分はセクションタイトルで置き換えられます。</p>
</div>
<div class="section" id="paragraph-level-markup">
<h2>4.7. 段落レベルでのマークアップ (Paragraph-level markup)<a class="headerlink" href="#paragraph-level-markup" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>以下のディレクティブは、通常のテキストと同じように情報単位の中で利用でき、短いパラグラフを作成します。</p>
<dl class="describe">
<dt>
<tt class="descname">note</tt></dt>
<dd><p>この note に関係あるどの API を利用するときにも、ユーザーが気をつけるべき特に重要な情報。このディレクティブの内容は完全な文で、適切な句読点を全て含めなければなりません。</p>
<p>例:</p>
<div class="highlight-rest"><div class="highlight"><pre><span class="p">..</span> <span class="ow">note</span><span class="p">::</span>

   この関数はスパムメールを送るためのものではありません。
</pre></div>
</div>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">warning</tt></dt>
<dd><p>この warning に関係あるどの API を使うときにでも、ユーザーがとても慎重になるべき重要な情報。このディレクティブの内容は完全な文で、適切な句読点を全て含めなければなりません。警告だらけのページでユーザーを怖がらせないように、 <tt class="docutils literal"><span class="pre">node</span></tt> ではなく
warning を使うのは、クラッシュ、データ損失、セキュリティに関する情報だけに留めるべきです。</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">versionadded</tt></dt>
<dd><p>このディレクティブは、どのバージョンの Python で対象の要素がライブラリや C API
に追加されたのかを示します。このディレクティブがモジュール全体に適用する場合、ディレクティブをモジュールセクションのどの文章よりも先におかれるべきです。</p>
<p>最初の引数は必須で、バージョンです。二つ目の引数は任意で、変更点の <em>簡潔な</em>
説明です。</p>
<p>例:</p>
<div class="highlight-rest"><div class="highlight"><pre><span class="p">..</span> <span class="ow">versionadded</span><span class="p">::</span> 2.5
   <span class="ge">*spam*</span> 引数.
</pre></div>
</div>
<p>ディレクティブの先頭行と説明との間に空行を入れてはならないことに注意してください。これはマークアップされたときにブロックが視覚的に連続するためです。</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">versionchanged</tt></dt>
<dd><p><tt class="docutils literal"><span class="pre">versionadded</span></tt> とほとんど同じですが、対象の要素がいつどのように変更 (新しい引数が追加された、副作用が変わった、等) されたかを説明します。</p>
</dd></dl>

<hr class="docutils" />
<dl class="describe">
<dt>
<tt class="descname">impl-detail</tt></dt>
<dd><p>このディレクティブは、 CPython に限定された情報を区別するために使います。ブロック要素としても、一文の引数としても利用できます。例えば</p>
<div class="highlight-rest"><div class="highlight"><pre><span class="p">..</span> <span class="ow">impl-detail</span><span class="p">::</span>

   This describes some implementation detail.

   More explanation.
</pre></div>
</div>
<p>または、</p>
<div class="highlight-rest"><div class="highlight"><pre><span class="p">..</span> <span class="ow">impl-detail</span><span class="p">::</span> This shortly mentions an implementation detail.
</pre></div>
</div>
<p>内容の先頭に、自動的に &#8220;<strong>CPython implementation detail:</strong>&#8221;
という一文が入ります。</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">seealso</tt></dt>
<dd><p>たくさんのセクションで、モジュールドキュメントや外部ドキュメントが参照されています。これらのリストは、 <tt class="docutils literal"><span class="pre">seealso</span></tt> ディレクティブで作成されます。</p>
<p><tt class="docutils literal"><span class="pre">seealso</span></tt> ディレクティブは一般的に、セクションの中で、どのサブセクションより前に置かれます。 HTML 出力では、本文の流れから切り離された区画の中に表示されます。</p>
<p><tt class="docutils literal"><span class="pre">seealso</span></tt> ディレクティブの中身は、 reST の定義リストであるべきです。例:</p>
<div class="highlight-rest"><div class="highlight"><pre><span class="p">..</span> <span class="ow">seealso</span><span class="p">::</span>

   Module <span class="na">:mod:</span><span class="nv">`zipfile`</span>
      <span class="na">:mod:</span><span class="nv">`zipfile`</span> 標準モジュールのドキュメント。

   <span class="s">`GNU tar manual, Basic Tar Format </span><span class="si">&lt;http://link&gt;</span><span class="s">`_</span>
      GNU tar 拡張を含む、 tar アーカイブファイルのドキュメント。
</pre></div>
</div>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">rubric</tt></dt>
<dd><p>このディレクティブは、目次 (table of contents) の項目にならない段落見出しを作ります。現在のところ、 &#8220;脚注&#8221; キャプションに利用されています。</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">centered</tt></dt>
<dd><p>このディレクティブは、センタリングされた太字の段落を作ります。次のようにして使います:</p>
<div class="highlight-rest"><div class="highlight"><pre><span class="p">..</span> <span class="ow">centered</span><span class="p">::</span>

   段落の内容
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="table-of-contents-table-of-contents-markup">
<h2>4.8. Table-of-contents マークアップ (Table-of-contents markup)<a class="headerlink" href="#table-of-contents-table-of-contents-markup" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>reST が複数のドキュメントを繋いだり、ドキュメントを複数のファイルに分割して出力する機能を持たないので、 Sphinx は table-of-contents を作成したり、ドキュメントの元ファイル間に関連を持たせたりするためにカスタムのディレクティブを利用しています。 <tt class="docutils literal"><span class="pre">toctree</span></tt>
ディレクティブはその中心になる要素です。</p>
<dl class="describe">
<dt>
<tt class="descname">toctree</tt></dt>
<dd><p>このディレクティブは、ディレクティブの要素として与えられたファイルの中の TOCs
(&#8220;sub-TOC trees&#8221; を含む) から作成した &#8220;TOC tree&#8221; をその場所に挿入します。
<tt class="docutils literal"><span class="pre">maxdepth</span></tt> オプションに数値を指定することで、 &#8220;TOC tree&#8221; の深さを指定できます。デフォルトでは全レベルを利用します。</p>
<p>次の例(ライブラリリファレンスインデックスから持ってきました)を考えてみます:</p>
<div class="highlight-rest"><div class="highlight"><pre><span class="p">..</span> <span class="ow">toctree</span><span class="p">::</span>
   <span class="nc">:maxdepth:</span> <span class="nf">2</span>

   intro
   strings
   datatypes
   numeric
   (もっとたくさん)
</pre></div>
</div>
<p>このディレクティブは二つの事を行います:</p>
<ul class="simple">
<li>指定されたファイル全てから TOC を作ります。深さが２、つまり一段階ネストした見出しまで含まれます。各ファイルの中の <tt class="docutils literal"><span class="pre">toctree</span></tt> ディレクティブも含まれます。</li>
<li>Sphinx は <tt class="docutils literal"><span class="pre">intro</span></tt>, <tt class="docutils literal"><span class="pre">strings</span></tt>, ... というファイルの相対順序と、それぞれのファイルが現在のライブラリインデックスというファイルの子供である事を識別します。この情報から、 &#8220;next chapter&#8221;, &#8220;previous chapter&#8221;, &#8220;parent chapter&#8221; というリンクが作成されます。</li>
</ul>
</dd></dl>

</div>
<div class="section" id="index-generating-markup">
<h2>4.9. インデックス生成マークアップ (Index-generating markup)<a class="headerlink" href="#index-generating-markup" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Sphinx は自動的にインデックスのエントリを、先に述べた全ての情報の単位
(function, class, attribute のような) から作成します。</p>
<p>しかし、インデックスをより有用なものにしたり、言語リファレンスのような情報が情報の単位の中に含まれないようなドキュメントでもインデックスのエントリを作成できるようにするために、明示的なディレクティブも利用可能です。</p>
<p>そのディレクティブは <tt class="docutils literal"><span class="pre">index</span></tt> で、一つかそれ以上のインデックスエントリを含みます。各エントリは、種類と値をコロンで区切ったもので構成されます。</p>
<p>例:</p>
<div class="highlight-rest"><div class="highlight"><pre><span class="p">..</span> <span class="ow">index</span><span class="p">::</span>
   single: execution!context
   module: __main__
   module: sys
   triple: module; search; path
</pre></div>
</div>
<p>このディレクティブは５つのエントリを持ち、 index 文の場所へのリンクになっているインデックスエントリに変換されます。(もしくは、オフラインメディアの場合、該当するページ番号になります)</p>
<p>利用可能なエントリの種類は:</p>
<dl class="docutils">
<dt>single</dt>
<dd>単独のインデックスエントリを生成します。サブエントリのテキストをセミコロンで区切る（これは以降の種類でも、どんなエントリを作るのかを指定するときに使います）ことによってサブエントリを作成できます。</dd>
<dt>pair</dt>
<dd><tt class="docutils literal"><span class="pre">pair:</span> <span class="pre">loop;</span> <span class="pre">statement</span></tt> は、 <tt class="docutils literal"><span class="pre">loop;</span> <span class="pre">statement</span></tt> と <tt class="docutils literal"><span class="pre">statement;</span> <span class="pre">loop</span></tt> という名前の二つのインデックスエントリを一度に作成するショートカットです。</dd>
<dt>triple</dt>
<dd>同じように、 <tt class="docutils literal"><span class="pre">triple:</span> <span class="pre">module;</span> <span class="pre">search;</span> <span class="pre">path;</span></tt> は、 <tt class="docutils literal"><span class="pre">module;</span> <span class="pre">search</span> <span class="pre">path</span></tt>,
<tt class="docutils literal"><span class="pre">search;</span> <span class="pre">path,</span> <span class="pre">module</span></tt>, <tt class="docutils literal"><span class="pre">path;</span> <span class="pre">module</span> <span class="pre">search</span></tt> というエントリを作成するショートカットです。</dd>
<dt>module, keyword, operator, object, exception, statement, builtin</dt>
<dd>これらは全て二つのインデックスエントリを作成します。例えば、 <tt class="docutils literal"><span class="pre">module:</span> <span class="pre">hashlib</span></tt> は、
<tt class="docutils literal"><span class="pre">module;</span> <span class="pre">hashlib</span></tt> と <tt class="docutils literal"><span class="pre">hashlib;</span> <span class="pre">module</span></tt> を作ります。</dd>
</dl>
</div>
<div class="section" id="grammar-production-displays">
<h2>4.10. 文法導出表記 (Grammar production displays)<a class="headerlink" href="#grammar-production-displays" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>形式的な文法の導出を表示するための特別なマークアップが利用可能です。このマークアップはシンプルで BNF (やその派生系) の全ての側面を表そうとはしていませんが、文脈自由文法 (context-free grammer) を、記号が使われている部分からその記号の定義部分へハイパーリンクが張られている形で表記するために十分な能力を提供しています。</p>
<dl class="describe">
<dt>
<tt class="descname">productionlist</tt></dt>
<dd><p>このディレクティブは導出のグループを囲むために使われます。各導出は一つの行として渡され、名前と、コロンで区切られた残りの定義で構成されます。定義が複数行に渡る場合は、継続する各行は最初の行のコロンと同じ位置にあるコロンで始まらなければなりません。</p>
<p>空行は <tt class="docutils literal"><span class="pre">productionlist</span></tt> ディレクティブの引数として許可されていません。</p>
<p>定義には interpreted text としてマークアップされたトークン名を使うことができます。
(例: <tt class="docutils literal"><span class="pre">unaryneg</span> <span class="pre">::=</span> <span class="pre">&quot;-&quot;</span> <span class="pre">`integer`</span></tt>) &#8211; これは、各トークンの導出に対するクロスリファレンスを作成します。代替を示すために利用される縦棒はバックスラッシュでエスケープしなければならないことに気をつけてください。そうしないと、 reST パーサーは縦棒を置換参照 (substitution reference) として認識するからです。</p>
<p>production においては、これ以上の reST パース処理が行われない事に注意してください。なので、 <tt class="docutils literal"><span class="pre">*</span></tt> や <tt class="docutils literal"><span class="pre">|</span></tt> といった文字をエスケープする必要がありません。</p>
</dd></dl>

<p>以下は Python リファレンスマニュアルの中の例です:</p>
<div class="highlight-rest"><div class="highlight"><pre><span class="p">..</span> <span class="ow">productionlist</span><span class="p">::</span>
   try_stmt: try1_stmt \| try2_stmt
   try1_stmt: &quot;try&quot; &quot;:&quot; <span class="na">:token:</span><span class="nv">`suite`</span>
            : (&quot;except&quot; [<span class="na">:token:</span><span class="nv">`expression`</span> [&quot;,&quot; <span class="na">:token:</span><span class="nv">`target`</span>]] &quot;:&quot; <span class="na">:token:</span><span class="nv">`suite`</span>)+
            : [&quot;else&quot; &quot;:&quot; <span class="na">:token:</span><span class="nv">`suite`</span>]
            : [&quot;finally&quot; &quot;:&quot; <span class="na">:token:</span><span class="nv">`suite`</span>]
   try2_stmt: &quot;try&quot; &quot;:&quot; <span class="na">:token:</span><span class="nv">`suite`</span>
            : &quot;finally&quot; &quot;:&quot; <span class="na">:token:</span><span class="nv">`suite`</span>
</pre></div>
</div>
</div>
<div class="section" id="substitutions">
<h2>4.11. 置換 (Substitutions)<a class="headerlink" href="#substitutions" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>ドキュメントシステムはデフォルトで定義されている３種類の置換を用意しています。それらはビルド設定ファイル <tt class="file docutils literal"><span class="pre">conf.py</span></tt> で設定されます。</p>
<dl class="describe">
<dt>
<tt class="descname">|release|</tt></dt>
<dd><p>ドキュメントが言及している Python のリリースへ置換されます。これは、例えば
<tt class="docutils literal"><span class="pre">2.5.2b3</span></tt> のような、 alpha/beta/release candiate
を含む完全バージョン文字列です。</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">|version|</tt></dt>
<dd><p>ドキュメントが言及している Python バージョンへ置換されます。これは、たとえばバージョン 2.5.1 において <tt class="docutils literal"><span class="pre">2.5</span></tt> の様に、バージョン文字列のうちメジャー・マイナー部のみで構成されます。</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">|today|</tt></dt>
<dd><p>今日の日付か、ビルド設定ファイルで指定された日付のどちらかに置換されます。通常は <tt class="docutils literal"><span class="pre">April</span> <span class="pre">14,</span> <span class="pre">2007</span></tt> のようなフォーマットになります。</p>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>ナビゲーション</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="総合索引"
             >索引</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Pythonモジュール索引"
             >モジュール</a> |</li>
        <li class="right" >
          <a href="fromlatex.html" title="5. LaTeX マークアップとの違い"
             >次へ</a> |</li>
        <li class="right" >
          <a href="rest.html" title="3. reStructuredText の基礎"
             >前へ</a> |</li>
        <li><img src="../_static/py.png" alt=""
                 style="vertical-align: middle; margin-top: -1px"/></li>
        <li><a href="../index.html">Python 2.7ja1 documentation</a> &raquo;</li>

          <li><a href="index.html" >Python のドキュメントの作成</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; <a href="../copyright.html">Copyright</a> 1990-2011, Python Software Foundation.
      最終更新: 2011-12-26
      このドキュメントは <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2pre/02cb752c6a9e で生成しました。
    </div>
  </body>
</html>